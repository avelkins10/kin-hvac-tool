{
  "openapi": "3.1.1",
  "info": {
    "title": "Palmetto Finance",
    "description": "Palmetto Finance API explorer",
    "version": "1.0.0"
  },
  "components": {
    "securitySchemes": {
      "Palmetto": {
        "type": "oauth2",
        "description": "Authenticate with a Palmetto user (not machine to machine). There is no need to add a client secret, just click the authorize button and a popup will open where you can enter your credentials./n",
        "flows": {
          "authorizationCode": {
            "authorizationUrl": "https://auth.palmetto.com/authorize",
            "tokenUrl": "https://auth.palmetto.com/oauth/token",
            "scopes": {

            }
          }
        }
      }
    },
    "schemas": {

    }
  },
  "paths": {
    "/api/accounts/": {
      "get": {
        "summary": "Fetch a list of accounts for the caller who has specific claims to them",
        "tags": [
          "Accounts"
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "organizationId"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "organizationId": {
                        "type": "string"
                      },
                      "licensedOrganizationId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "externalReferenceIds": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "id"
                          ],
                          "properties": {
                            "type": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "id": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        }
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "primaryApplicantName": {
                        "type": "string"
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ],
                        "default": "English"
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "utilityName": {
                            "type": "string"
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "electricityUsageSource": {
                        "type": "string"
                      },
                      "salesRepName": {
                        "type": "string"
                      },
                      "salesRepLicenseNumber": {
                        "type": "string"
                      },
                      "salesRepEmail": {
                        "type": "string"
                      },
                      "salesRepPhoneNumber": {
                        "type": "string"
                      },
                      "stripeCustomerId": {
                        "type": "string"
                      },
                      "inboundPayments": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "provider": {
                            "type": "string",
                            "enum": [
                              "concord",
                              "stripe"
                            ]
                          },
                          "providerId": {
                            "type": "string"
                          }
                        }
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "1 - Created",
                          "2 - Credit Approved",
                          "3 - Credit Approved",
                          "4 - Credit Denied",
                          "Terms & Conditions Accepted",
                          "5 - Contract Created",
                          "6 - Contract Sent",
                          "7 - Contract Signed",
                          "8 - Contract Approved",
                          "9 - Notice to Proceed eligible",
                          "10 - M0 Notice to Proceed issued",
                          "Install Milestone Submitted",
                          "Install Milestone Rejected",
                          "Install Milestone Resubmitted",
                          "Install Milestone Approved",
                          "System Activation Milestone Submitted",
                          "System Activation Milestone Rejected",
                          "System Activation Milestone Resubmitted",
                          "System Activation Milestone Approved",
                          "Job Close Out Approved",
                          "99 - Credit Expired"
                        ]
                      },
                      "monitoringSiteId": {
                        "type": "string",
                        "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                      },
                      "currentMilestone": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "accountMilestoneId": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "exception": {
                            "type": "object"
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "ptoGrantedDate": {
                        "type": "string",
                        "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                      },
                      "epcIncorrectSubmittedPtoGrantedDate": {
                        "type": "string",
                        "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                      },
                      "ptoGreenlight": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "greenlightStatus": {
                            "type": "boolean"
                          },
                          "trancheClosed": {
                            "type": "boolean"
                          },
                          "tranchedClosedOn": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideUser": {
                            "type": "string"
                          }
                        }
                      },
                      "electricianSignoffDate": {
                        "type": "object",
                        "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "notes": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "milestones": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "install": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      },
                      "milestones": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "completedAt": {
                              "type": "string"
                            },
                            "completed": {
                              "type": "boolean"
                            },
                            "name": {
                              "type": "string"
                            },
                            "order": {
                              "type": "number",
                              "minimum": 0
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "approved",
                                "conditionallyApproved",
                                "paused",
                                "pending",
                                "rejected",
                                "restarted",
                                "resubmitted",
                                "submitted"
                              ]
                            },
                            "type": {
                              "type": "string",
                              "enum": [
                                "pending",
                                "customerAgreement",
                                "initialAccountDetails",
                                "noticeToProceed",
                                "install",
                                "activation",
                                "postActivation",
                                "title",
                                "installComplete",
                                "installPackageComplete",
                                "noticeToProceedIssued",
                                "systemActivated",
                                "systemActivation"
                              ]
                            },
                            "exception": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "note": {
                                  "type": "string"
                                },
                                "exceptionGivenBy": {
                                  "type": "string"
                                }
                              }
                            },
                            "requirements": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "completedAt": {
                                    "type": "string"
                                  },
                                  "isRequired": {
                                    "type": "boolean"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "order": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "status": {
                                    "type": "string",
                                    "enum": [
                                      "completed",
                                      "error",
                                      "inProgress",
                                      "pending",
                                      "rejected",
                                      "resubmitted",
                                      "submitted"
                                    ]
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "activationDocuments",
                                      "activationPackage",
                                      "acceptTermsAndConditions",
                                      "confirmInstalledSystem",
                                      "consumerAccountSignUp",
                                      "consumerOrderReview",
                                      "contractSigned",
                                      "contractFinalized",
                                      "creditApproved",
                                      "customerInfo",
                                      "customerRequirements",
                                      "customerSignOff",
                                      "dxfApproved",
                                      "domesticContentConfirmation",
                                      "electricalPhotosApproved",
                                      "electricianSignOff",
                                      "existingSystemDocumentation",
                                      "extendedWarranty",
                                      "finalDesignApproved",
                                      "incentives",
                                      "incentiveDocumentsApproved",
                                      "identityVerified",
                                      "installPackage",
                                      "installPhotosApproved",
                                      "jobCloseOutApproved",
                                      "monitoringActive",
                                      "monitoringSiteId",
                                      "ntpPackage",
                                      "paymentMethodSubmitted",
                                      "permitApproved",
                                      "planSetApproved",
                                      "productionModelApproved",
                                      "projectSitePhotosApproved",
                                      "proposal",
                                      "ptoConfirmation",
                                      "quoteActive",
                                      "roofPhotosApproved",
                                      "shadeReportApproved",
                                      "siteImprovements",
                                      "storagePhotosApproved",
                                      "systemCommissioningApproved",
                                      "systemDetailsSubmitted",
                                      "titleApproved",
                                      "underwriting",
                                      "utilityBill",
                                      "utilityPowerTurnedOnApproved",
                                      "proofOfLoad",
                                      "workOrderApproved",
                                      "postActivationPackage",
                                      "proofOfInstallation",
                                      "hvacInstallation",
                                      "voltageReadings",
                                      "staticPressureReadings",
                                      "laserThermometerReading",
                                      "salesRepVerification",
                                      "siteAssessment",
                                      "fsmChecklistApproved",
                                      "measureQuickSystemVitalsApproved",
                                      "bluetoothHVACToolApproved",
                                      "indoorSystemApproved",
                                      "outdoorSystemApproved",
                                      "zoningSystemApproved",
                                      "thermostatApproved",
                                      "accessoriesApproved",
                                      "installationCommissioningDocumentsApproved"
                                    ]
                                  },
                                  "statusTimeline": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "oldStatus": {
                                          "type": "string"
                                        },
                                        "newStatus": {
                                          "type": "string"
                                        },
                                        "modifiedAt": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "requirements": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "completedAt": {
                                          "type": "string"
                                        },
                                        "isRequired": {
                                          "type": "boolean"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "order": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "status": {
                                          "type": "string",
                                          "enum": [
                                            "completed",
                                            "error",
                                            "inProgress",
                                            "pending",
                                            "rejected",
                                            "resubmitted",
                                            "submitted"
                                          ]
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "activationDocuments",
                                            "activationPackage",
                                            "acceptTermsAndConditions",
                                            "confirmInstalledSystem",
                                            "consumerAccountSignUp",
                                            "consumerOrderReview",
                                            "contractSigned",
                                            "contractFinalized",
                                            "creditApproved",
                                            "customerInfo",
                                            "customerRequirements",
                                            "customerSignOff",
                                            "dxfApproved",
                                            "domesticContentConfirmation",
                                            "electricalPhotosApproved",
                                            "electricianSignOff",
                                            "existingSystemDocumentation",
                                            "extendedWarranty",
                                            "finalDesignApproved",
                                            "incentives",
                                            "incentiveDocumentsApproved",
                                            "identityVerified",
                                            "installPackage",
                                            "installPhotosApproved",
                                            "jobCloseOutApproved",
                                            "monitoringActive",
                                            "monitoringSiteId",
                                            "ntpPackage",
                                            "paymentMethodSubmitted",
                                            "permitApproved",
                                            "planSetApproved",
                                            "productionModelApproved",
                                            "projectSitePhotosApproved",
                                            "proposal",
                                            "ptoConfirmation",
                                            "quoteActive",
                                            "roofPhotosApproved",
                                            "shadeReportApproved",
                                            "siteImprovements",
                                            "storagePhotosApproved",
                                            "systemCommissioningApproved",
                                            "systemDetailsSubmitted",
                                            "titleApproved",
                                            "underwriting",
                                            "utilityBill",
                                            "utilityPowerTurnedOnApproved",
                                            "proofOfLoad",
                                            "workOrderApproved",
                                            "postActivationPackage",
                                            "proofOfInstallation",
                                            "hvacInstallation",
                                            "voltageReadings",
                                            "staticPressureReadings",
                                            "laserThermometerReading",
                                            "salesRepVerification",
                                            "siteAssessment",
                                            "fsmChecklistApproved",
                                            "measureQuickSystemVitalsApproved",
                                            "bluetoothHVACToolApproved",
                                            "indoorSystemApproved",
                                            "outdoorSystemApproved",
                                            "zoningSystemApproved",
                                            "thermostatApproved",
                                            "accessoriesApproved",
                                            "installationCommissioningDocumentsApproved"
                                          ]
                                        },
                                        "statusTimeline": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "oldStatus": {
                                                "type": "string"
                                              },
                                              "newStatus": {
                                                "type": "string"
                                              },
                                              "modifiedAt": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "itcAdderQualifications": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "lowIncomeCommunityEligible": {
                            "type": "boolean"
                          },
                          "incomeCategory": {
                            "type": "string"
                          },
                          "energyCommunityEligible": {
                            "type": "boolean"
                          },
                          "ecEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalTract",
                              "FFECounty",
                              "CoalTractAndFFECounty"
                            ]
                          },
                          "ecCoalTractEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalPowerPlantClosure",
                              "CoalMineClosure",
                              "CoalPowerPlantAndMineClosure",
                              "TractAdjacency"
                            ]
                          },
                          "ecFfeCountyMsaName": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaType": {
                            "type": "string"
                          }
                        }
                      },
                      "cancellation": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "reason": {
                            "type": "string",
                            "enum": [
                              "financialConcerns",
                              "ineligiblePropertyType",
                              "choseDifferentFinancialProvider",
                              "unhappyWithSalesProcess",
                              "reasonNotProvided"
                            ]
                          },
                          "requesterType": {
                            "type": "string",
                            "enum": [
                              "customer",
                              "organization",
                              "internal"
                            ]
                          },
                          "notes": {
                            "type": "string"
                          },
                          "supportingDocuments": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "accountId": {
                                  "type": "string"
                                },
                                "applicationId": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "pending",
                                    "approved",
                                    "rejected"
                                  ]
                                },
                                "archived": {
                                  "type": "boolean"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "incomingDirectPayInvoice",
                                    "dxf",
                                    "planSet",
                                    "shadeReport",
                                    "permit",
                                    "productionModel",
                                    "incentiveDocuments",
                                    "electricianSignOff",
                                    "proofOfLoad",
                                    "domesticContentDocuments",
                                    "solarReadinessAdder",
                                    "solarReadinessInvoice",
                                    "invoice",
                                    "billOfMaterials",
                                    "fsmChecklist",
                                    "measureQuickSystemVitals",
                                    "bluetoothHVACTool",
                                    "installContract",
                                    "proofOfLoadHVAC",
                                    "hvacInstallationPhotos",
                                    "ahriCertificate",
                                    "energyBackupInstallationPhotos",
                                    "cslbDisclosure",
                                    "puertoRicoDocuments",
                                    "welcomeCall",
                                    "onSitePhysicalSurvey",
                                    "proofOfEquipment",
                                    "contract",
                                    "disclosure",
                                    "supporting",
                                    "utilityBill",
                                    "voidedCheck",
                                    "siteAssessment",
                                    "completionOfConstruction",
                                    "projectSite",
                                    "roof",
                                    "electrical",
                                    "storage",
                                    "systemCommissioning",
                                    "staticPressure",
                                    "indoorSystem",
                                    "outdoorSystem",
                                    "zoningSystem",
                                    "thermostat",
                                    "accessories",
                                    "ptoConfirmation",
                                    "extendedWarranty",
                                    "incentives",
                                    "netMeteringApproval",
                                    "conditionalApproval",
                                    "interconnectionAgreement",
                                    "siteImprovements",
                                    "identityVerification",
                                    "titleVerification",
                                    "cancellation",
                                    "reactivation",
                                    "flag",
                                    "epcFeedback",
                                    "salesAgreement",
                                    "oemWarranty",
                                    "oemWarrantyDocuments",
                                    "extendedWarrantyDocuments",
                                    "existingSystemPhotos"
                                  ]
                                },
                                "externalReference": {
                                  "type": "string"
                                },
                                "files": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "originalName": {
                                        "type": "string"
                                      },
                                      "contentType": {
                                        "type": "string"
                                      },
                                      "md5Hash": {
                                        "type": "string"
                                      },
                                      "sizeKB": {
                                        "type": "number"
                                      },
                                      "viewUrls": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "url": {
                                              "type": "string"
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "original",
                                                "preview",
                                                "gallery",
                                                "thumbnail"
                                              ]
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "meta": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "createdAt": {
                                      "type": "string"
                                    },
                                    "updatedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            },
                            "nullable": true
                          },
                          "isCancelled": {
                            "type": "boolean"
                          },
                          "requestedBy": {
                            "type": "string"
                          },
                          "requestedByDisplayName": {
                            "type": "string"
                          },
                          "requestedByOrgDisplayName": {
                            "type": "string"
                          },
                          "requestedDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      },
                      "ced": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "cedSplitPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                          },
                          "cedProjectId": {
                            "type": "string",
                            "description": "The CED Greentech project ID"
                          }
                        }
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean"
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean"
                      },
                      "designTool": {
                        "type": "string"
                      },
                      "installer": {
                        "type": "object",
                        "description": "This information will only be provided for accounts in IL",
                        "properties": {
                          "legalName": {
                            "type": "string"
                          },
                          "iccDocketNumber": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteFirstName": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteLastName": {
                            "type": "string"
                          },
                          "phoneNumber": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "state": {
                            "type": "string"
                          }
                        }
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "solar"
                      },
                      "priceSheetMappingId": {
                        "type": "string",
                        "nullable": true
                      },
                      "ntpAttestment": {
                        "type": "object",
                        "nullable": true,
                        "description": "An attestment that NTP data is correct.",
                        "properties": {
                          "attestmentText": {
                            "type": "string",
                            "description": "The attestment text attached to the attestment action."
                          }
                        }
                      },
                      "workOrderTotalPrice": {
                        "type": "number",
                        "nullable": true,
                        "description": "The total price of the work order for accounts",
                        "minimum": 0
                      },
                      "systemDetails": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "accountId": {
                            "type": "string"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "systemSizeKw": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "asBuiltSystemSizeKw": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "inverterManufacturer": {
                            "deprecated": true,
                            "type": [
                              "null",
                              "string"
                            ],
                            "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                          },
                          "inverterModel": {
                            "type": [
                              "null",
                              "string"
                            ],
                            "deprecated": true
                          },
                          "inverterCount": {
                            "type": [
                              "null",
                              "number"
                            ],
                            "deprecated": true
                          },
                          "panelManufacturer": {
                            "type": [
                              "null",
                              "string"
                            ],
                            "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                          },
                          "panelModel": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "totalPanelCount": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            },
                            "minItems": 0,
                            "maxItems": 12,
                            "description": "All 12 months are required"
                          },
                          "mountingType": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "mountingManufacturer": {
                            "type": [
                              "null",
                              "string"
                            ],
                            "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                          },
                          "mountingModel": {
                            "type": [
                              "null",
                              "string"
                            ],
                            "deprecated": true
                          },
                          "totalMountingCount": {
                            "type": [
                              "null",
                              "number"
                            ],
                            "deprecated": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "storageManufacturer": {
                            "deprecated": true,
                            "type": [
                              "null",
                              "string"
                            ],
                            "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                          },
                          "storageModel": {
                            "type": [
                              "null",
                              "string"
                            ],
                            "deprecated": true
                          },
                          "totalStorageCount": {
                            "type": [
                              "null",
                              "number"
                            ],
                            "deprecated": true
                          },
                          "totalStorageCapacityKwh": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "attestment": {
                            "type": "object",
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "isActive": {
                            "type": "boolean"
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "isApproved": {
                            "type": "boolean"
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                },
                                "name": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "model": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "productId": {
                                  "type": "string",
                                  "description": "Id from the LightReach Product Catalog"
                                },
                                "serialNumbers": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                }
                              }
                            }
                          },
                          "installKits": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            }
                          },
                          "services": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            }
                          },
                          "discounts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "name",
                                "cost"
                              ],
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "monthlyPaymentCap": {
                        "type": "object",
                        "properties": {
                          "greaterThanZeroEscalationRate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "zeroEscalationRate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "capTableVersionUsed": {
                            "type": "string"
                          },
                          "dateCapsApplied": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "override": {
                            "type": "boolean"
                          },
                          "overrideDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "overrideUserName": {
                            "type": "string"
                          }
                        }
                      },
                      "directPay": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "directPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via a direct pay materials vendor"
                          },
                          "directPayMaterialVendorAlias": {
                            "type": "string",
                            "description": "The alias of the materials vendor"
                          },
                          "projectId": {
                            "type": "string",
                            "description": "The CED project ID, only valid for CED projects"
                          },
                          "projectIdentifier": {
                            "type": "string",
                            "description": "The project identifier"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "DEPRECATED: Create a new account. Update to use the /api/v2/accounts endpoint",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "applicants",
                  "utility",
                  "salesRepName"
                ],
                "properties": {
                  "externalReference": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "externalReferenceIds": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "id"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "id": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    }
                  },
                  "programType": {
                    "type": "string",
                    "enum": [
                      "doePr",
                      "energyBackup",
                      "hvac",
                      "newHomes",
                      "solar"
                    ]
                  },
                  "friendlyName": {
                    "type": "string"
                  },
                  "address": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "state"
                    ],
                    "properties": {
                      "address1": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "address2": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "city": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "state": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "zip": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    }
                  },
                  "applicants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "firstName",
                        "lastName",
                        "phoneNumber",
                        "email"
                      ],
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "primary",
                            "secondary"
                          ]
                        },
                        "firstName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "lastName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "middleName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "phoneNumber": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "transform": [
                            "trim",
                            "toLowerCase"
                          ]
                        },
                        "address": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "state"
                          ],
                          "properties": {
                            "address1": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "address2": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "city": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "state": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "zip": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        },
                        "disclosures": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "type",
                              "version"
                            ],
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "ObjectId"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "creditApplication",
                                  "prequalification",
                                  "txtMessageNotifications",
                                  "termsAndConditions"
                                ]
                              },
                              "version": {
                                "type": "string"
                              },
                              "accepted": {
                                "type": "boolean"
                              }
                            }
                          }
                        },
                        "ssnFormat": {
                          "type": "string"
                        },
                        "creditDOB": {
                          "type": "string",
                          "description": "This should be in the format MM/dd/yyyy"
                        },
                        "dob": {
                          "type": "string",
                          "description": "This should be in the format MM/dd/yyyy"
                        }
                      }
                    },
                    "minItems": 1,
                    "maxItems": 2
                  },
                  "coordinates": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "lat",
                      "lon"
                    ],
                    "properties": {
                      "lat": {
                        "type": "number"
                      },
                      "lon": {
                        "type": "number"
                      }
                    }
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "English",
                      "Spanish"
                    ],
                    "default": "English"
                  },
                  "utility": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "lseId"
                    ],
                    "properties": {
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "rate": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "electricityUsageKwh": {
                    "anyOf": [
                      {
                        "type": "number",
                        "minimum": 0,
                        "description": "Total annual usage in kWh"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number",
                          "minimum": 0
                        },
                        "minItems": 12,
                        "maxItems": 12,
                        "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                      }
                    ]
                  },
                  "systemDetails": {
                    "anyOf": [
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "deprecated": true,
                        "required": [],
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverterManufacturer": {
                            "deprecated": true,
                            "type": "string",
                            "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                          },
                          "inverterModel": {
                            "type": "string",
                            "deprecated": true
                          },
                          "inverterCount": {
                            "type": "number",
                            "minimum": 0,
                            "deprecated": true
                          },
                          "mountingModel": {
                            "type": "string",
                            "deprecated": true
                          },
                          "totalMountingCount": {
                            "type": "number",
                            "minimum": 0,
                            "deprecated": true
                          },
                          "storageManufacturer": {
                            "deprecated": true,
                            "type": "string",
                            "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                          },
                          "storageModel": {
                            "type": "string",
                            "deprecated": true
                          },
                          "totalStorageCount": {
                            "type": "number",
                            "minimum": 0,
                            "deprecated": true
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                          },
                          "panelModel": {
                            "type": "string"
                          },
                          "panelVintage": {
                            "type": "string"
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "mountingType": {
                            "type": "string"
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            },
                            "minItems": 0,
                            "maxItems": 12,
                            "description": "All 12 months are required"
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                },
                                "name": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "model": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "productId": {
                                  "type": "string",
                                  "description": "Id from the LightReach Product Catalog"
                                },
                                "serialNumbers": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                }
                              }
                            }
                          },
                          "installKits": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "services": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "discounts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "name",
                                "cost"
                              ],
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "ahriNumber": {
                            "type": "string",
                            "nullable": true,
                            "description": "AHRI number for the system"
                          }
                        }
                      }
                    ]
                  },
                  "salesRepName": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepIdProviderToken": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepLicenseNumber": {
                    "type": "string",
                    "description": "This value is required for all finance contracts in California, Connecticut, Illinois, and Maryland. Effective January 2, 2024 they will be required in Nevada as well.",
                    "transform": [
                      "trim",
                      "toLowerCase"
                    ]
                  },
                  "salesRepEmail": {
                    "type": "string",
                    "description": "Required in select states.",
                    "transform": [
                      "trim",
                      "toLowerCase"
                    ]
                  },
                  "salesRepPhoneNumber": {
                    "type": "string",
                    "description": "Required in select states.",
                    "transform": [
                      "trim"
                    ]
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  }
                },
                "allOf": [
                  {
                    "if": {
                      "properties": {
                        "salesRepIdProviderToken": {
                          "type": "string",
                          "minLength": 1
                        }
                      },
                      "required": [
                        "salesRepIdProviderToken"
                      ]
                    },
                    "then": {
                      "required": [
                        "salesRepEmail"
                      ]
                    }
                  },
                  {
                    "if": {
                      "allOf": [
                        {
                          "properties": {
                            "programType": {
                              "type": "string",
                              "enum": [
                                "solar"
                              ]
                            }
                          }
                        },
                        {
                          "properties": {
                            "address": {
                              "type": "object",
                              "properties": {
                                "state": {
                                  "enum": [
                                    "PR"
                                  ]
                                }
                              },
                              "required": [
                                "state"
                              ]
                            }
                          }
                        }
                      ]
                    },
                    "then": {
                      "required": [
                        "coordinates"
                      ]
                    },
                    "else": {
                      "allOf": [
                        {
                          "required": [
                            "address"
                          ]
                        },
                        {
                          "properties": {
                            "address": {
                              "allOf": [
                                {
                                  "type": "object",
                                  "required": [
                                    "address1",
                                    "city",
                                    "state",
                                    "zip"
                                  ]
                                }
                              ]
                            }
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          },
          "required": true
        },
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ],
                      "default": "English"
                    },
                    "utility": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lseId"
                      ],
                      "properties": {
                        "lseId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "tariffId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "rate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "utilityName": {
                          "type": "string"
                        }
                      }
                    },
                    "electricityUsageKwh": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "description": "Total annual usage in kWh"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "number",
                            "minimum": 0
                          },
                          "minItems": 12,
                          "maxItems": 12,
                          "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                        }
                      ]
                    },
                    "electricityUsageSource": {
                      "type": "string"
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "stripeCustomerId": {
                      "type": "string"
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "monitoringSiteId": {
                      "type": "string",
                      "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "permitSubmittedDate": {
                      "type": "object",
                      "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "permitApprovedDate": {
                      "type": "object",
                      "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "installScheduledDate": {
                      "type": "object",
                      "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "expectedPTODate": {
                      "type": "object",
                      "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "ptoGrantedDate": {
                      "type": "string",
                      "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                    },
                    "epcIncorrectSubmittedPtoGrantedDate": {
                      "type": "string",
                      "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                    },
                    "ptoGreenlight": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "greenlightStatus": {
                          "type": "boolean"
                        },
                        "trancheClosed": {
                          "type": "boolean"
                        },
                        "tranchedClosedOn": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideUser": {
                          "type": "string"
                        }
                      }
                    },
                    "electricianSignoffDate": {
                      "type": "object",
                      "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "itcAdderQualifications": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "lowIncomeCommunityEligible": {
                          "type": "boolean"
                        },
                        "incomeCategory": {
                          "type": "string"
                        },
                        "energyCommunityEligible": {
                          "type": "boolean"
                        },
                        "ecEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalTract",
                            "FFECounty",
                            "CoalTractAndFFECounty"
                          ]
                        },
                        "ecCoalTractEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalPowerPlantClosure",
                            "CoalMineClosure",
                            "CoalPowerPlantAndMineClosure",
                            "TractAdjacency"
                          ]
                        },
                        "ecFfeCountyMsaName": {
                          "type": "string"
                        },
                        "ecFfeCountyMsaType": {
                          "type": "string"
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "ced": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "cedSplitPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                        },
                        "cedProjectId": {
                          "type": "string",
                          "description": "The CED Greentech project ID"
                        }
                      }
                    },
                    "noInverterConsumptionCT": {
                      "type": "boolean"
                    },
                    "batteryMonitoringSiteId": {
                      "type": "string"
                    },
                    "noBatteryConsumptionCT": {
                      "type": "boolean"
                    },
                    "designTool": {
                      "type": "string"
                    },
                    "installer": {
                      "type": "object",
                      "description": "This information will only be provided for accounts in IL",
                      "properties": {
                        "legalName": {
                          "type": "string"
                        },
                        "iccDocketNumber": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteFirstName": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteLastName": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        }
                      }
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ],
                      "default": "solar"
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "ntpAttestment": {
                      "type": "object",
                      "nullable": true,
                      "description": "An attestment that NTP data is correct.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "workOrderTotalPrice": {
                      "type": "number",
                      "nullable": true,
                      "description": "The total price of the work order for accounts",
                      "minimum": 0
                    },
                    "systemDetails": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "accountId": {
                          "type": "string"
                        },
                        "systemFirstYearProductionKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "systemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "asBuiltSystemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "inverters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "inverterManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                        },
                        "inverterModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "inverterCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "panelManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                        },
                        "panelModel": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "totalPanelCount": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "arrays": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "panelCount": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The number of panels in this single array"
                              },
                              "orientation": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "landscape",
                                      "portrait",
                                      "combination"
                                    ],
                                    "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "deprecated": true
                              },
                              "tilt": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The tilt from horizontal of the panels in the array"
                              },
                              "azimuth": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The direction in degrees of the array"
                              },
                              "annualTSRF": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The annual total solar access fraction"
                              },
                              "monthlySolarAccess": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "accessPercent"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "minimum": 1,
                                      "maximum": 12,
                                      "description": "The month 1-12"
                                    },
                                    "accessPercent": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly solar access percent"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "size": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The total size of the array in Watts"
                              },
                              "inverter": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The inverter index starting with 0 in the inverters array"
                              }
                            }
                          }
                        },
                        "firstYearMonthlyProductionKwh": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "month": {
                                "type": "number",
                                "description": "The month 1-12",
                                "minimum": 1,
                                "maximum": 12
                              },
                              "productionKwh": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly production in Kwh"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "mountingType": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "mountingManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                        },
                        "mountingModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalMountingCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "storage": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "storageManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                        },
                        "storageModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCapacityKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "attestment": {
                          "type": "object",
                          "nullable": true,
                          "required": [
                            "attestmentText"
                          ],
                          "description": "Optional object that attests the range is as expected.",
                          "properties": {
                            "attestmentText": {
                              "type": "string",
                              "description": "The attestment text attached to the attestment action."
                            }
                          }
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "isCurrent": {
                          "type": "boolean"
                        },
                        "isApproved": {
                          "type": "boolean"
                        },
                        "toleranceException": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "note": {
                              "type": "string",
                              "nullable": true
                            },
                            "exceptionGivenBy": {
                              "type": "string",
                              "nullable": true,
                              "description": "The user who provided the exception"
                            }
                          }
                        },
                        "equipment": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "type": {
                                "type": "string",
                                "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                              },
                              "name": {
                                "type": "string"
                              },
                              "manufacturer": {
                                "type": "string"
                              },
                              "model": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              },
                              "productId": {
                                "type": "string",
                                "description": "Id from the LightReach Product Catalog"
                              },
                              "serialNumbers": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                              }
                            }
                          }
                        },
                        "installKits": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "services": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "name",
                              "cost"
                            ],
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          },
                          "nullable": true
                        },
                        "mountingHardware": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "type",
                              "mountingHardwareModels"
                            ],
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "mountingHardwareModels": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "manufacturer",
                                    "category",
                                    "sku"
                                  ],
                                  "properties": {
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "category": {
                                      "type": "string"
                                    },
                                    "sku": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "domesticContentAttestment": {
                          "type": "object",
                          "additionalProperties": false,
                          "nullable": true,
                          "required": [
                            "valueConfirmation"
                          ],
                          "description": "Optional object that attests the domestic content value confirmation.",
                          "properties": {
                            "valueConfirmation": {
                              "type": "boolean",
                              "description": "The affirmation or denial (opt-out) of domestic content."
                            },
                            "resubmission": {
                              "type": "boolean",
                              "description": "If this is a resubmission of a domestic content attestment."
                            },
                            "attestmentType": {
                              "type": "string",
                              "enum": [
                                "pvOnly",
                                "storageOnly",
                                "pvAndStorage",
                                "optOut"
                              ],
                              "description": "The type of the domestic content attestment (including opt-out)."
                            }
                          }
                        },
                        "domesticContentQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "annualConsumption": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "consumption"
                            ],
                            "properties": {
                              "month": {
                                "type": "number"
                              },
                              "consumption": {
                                "type": "number"
                              }
                            }
                          },
                          "deprecated": true
                        },
                        "itcQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "safeHarborYear": {
                                  "type": "number",
                                  "minimum": 2025
                                },
                                "pvFeocQualified": {
                                  "type": "boolean"
                                },
                                "batteryFeocQualified": {
                                  "type": "boolean"
                                },
                                "inverterFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvTotalFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSpliceFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryIncluded": {
                                  "type": "boolean"
                                },
                                "feocExceptionGranted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "directPay": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "directPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via a direct pay materials vendor"
                        },
                        "directPayMaterialVendorAlias": {
                          "type": "string",
                          "description": "The alias of the materials vendor"
                        },
                        "projectId": {
                          "type": "string",
                          "description": "The CED project ID, only valid for CED projects"
                        },
                        "projectIdentifier": {
                          "type": "string",
                          "description": "The project identifier"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/search": {
      "get": {
        "summary": "Search for accounts",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": ""
            },
            "in": "query",
            "name": "searchTerm",
            "required": false,
            "description": "A text string to search for one or more accounts"
          },
          {
            "schema": {
              "type": "number",
              "nullable": true,
              "minimum": 1,
              "maximum": 50
            },
            "in": "query",
            "name": "pageSize",
            "required": false,
            "description": "Number of items to return per page"
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "pageNum",
            "required": false,
            "description": "Current page. Starts at 1."
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "id",
                          "organizationId"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "organizationId": {
                            "type": "string"
                          },
                          "licensedOrganizationId": {
                            "type": "string"
                          },
                          "externalReference": {
                            "type": "string"
                          },
                          "externalReferenceIds": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "id"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "id": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            }
                          },
                          "friendlyName": {
                            "type": "string"
                          },
                          "primaryApplicantName": {
                            "type": "string"
                          },
                          "coordinates": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "lat",
                              "lon"
                            ],
                            "properties": {
                              "lat": {
                                "type": "number"
                              },
                              "lon": {
                                "type": "number"
                              }
                            }
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "applicants": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "firstName",
                                "lastName",
                                "phoneNumber",
                                "email"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "enum": [
                                    "primary",
                                    "secondary"
                                  ]
                                },
                                "firstName": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ],
                                  "minLength": 1
                                },
                                "lastName": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ],
                                  "minLength": 1
                                },
                                "middleName": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "phoneNumber": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "email": {
                                  "type": "string",
                                  "format": "email",
                                  "transform": [
                                    "trim",
                                    "toLowerCase"
                                  ]
                                },
                                "address": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "state"
                                  ],
                                  "properties": {
                                    "address1": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "address2": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "city": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "state": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "zip": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    }
                                  }
                                },
                                "disclosures": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "type",
                                      "version"
                                    ],
                                    "properties": {
                                      "id": {
                                        "type": "string",
                                        "format": "ObjectId"
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "creditApplication",
                                          "prequalification",
                                          "txtMessageNotifications",
                                          "termsAndConditions"
                                        ]
                                      },
                                      "version": {
                                        "type": "string"
                                      },
                                      "accepted": {
                                        "type": "boolean"
                                      }
                                    }
                                  }
                                },
                                "ssnFormat": {
                                  "type": "string"
                                },
                                "creditDOB": {
                                  "type": "string",
                                  "description": "This should be in the format MM/dd/yyyy"
                                },
                                "dob": {
                                  "type": "string",
                                  "description": "This should be in the format MM/dd/yyyy"
                                }
                              }
                            },
                            "minItems": 1
                          },
                          "language": {
                            "type": "string",
                            "enum": [
                              "English",
                              "Spanish"
                            ],
                            "default": "English"
                          },
                          "utility": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "lseId"
                            ],
                            "properties": {
                              "lseId": {
                                "type": "number",
                                "minimum": 0
                              },
                              "tariffId": {
                                "type": "number",
                                "minimum": 0
                              },
                              "rate": {
                                "type": "number",
                                "minimum": 0
                              },
                              "utilityName": {
                                "type": "string"
                              }
                            }
                          },
                          "electricityUsageKwh": {
                            "anyOf": [
                              {
                                "type": "number",
                                "minimum": 0,
                                "description": "Total annual usage in kWh"
                              },
                              {
                                "type": "array",
                                "items": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "minItems": 12,
                                "maxItems": 12,
                                "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                              }
                            ]
                          },
                          "electricityUsageSource": {
                            "type": "string"
                          },
                          "salesRepName": {
                            "type": "string"
                          },
                          "salesRepLicenseNumber": {
                            "type": "string"
                          },
                          "salesRepEmail": {
                            "type": "string"
                          },
                          "salesRepPhoneNumber": {
                            "type": "string"
                          },
                          "stripeCustomerId": {
                            "type": "string"
                          },
                          "inboundPayments": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "properties": {
                              "provider": {
                                "type": "string",
                                "enum": [
                                  "concord",
                                  "stripe"
                                ]
                              },
                              "providerId": {
                                "type": "string"
                              }
                            }
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "1 - Created",
                              "2 - Credit Approved",
                              "3 - Credit Approved",
                              "4 - Credit Denied",
                              "Terms & Conditions Accepted",
                              "5 - Contract Created",
                              "6 - Contract Sent",
                              "7 - Contract Signed",
                              "8 - Contract Approved",
                              "9 - Notice to Proceed eligible",
                              "10 - M0 Notice to Proceed issued",
                              "Install Milestone Submitted",
                              "Install Milestone Rejected",
                              "Install Milestone Resubmitted",
                              "Install Milestone Approved",
                              "System Activation Milestone Submitted",
                              "System Activation Milestone Rejected",
                              "System Activation Milestone Resubmitted",
                              "System Activation Milestone Approved",
                              "Job Close Out Approved",
                              "99 - Credit Expired"
                            ]
                          },
                          "monitoringSiteId": {
                            "type": "string",
                            "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                          },
                          "currentMilestone": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "customerAgreement",
                                  "initialAccountDetails",
                                  "noticeToProceed",
                                  "install",
                                  "activation",
                                  "postActivation",
                                  "title",
                                  "installComplete",
                                  "installPackageComplete",
                                  "noticeToProceedIssued",
                                  "systemActivated",
                                  "systemActivation"
                                ]
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "accountMilestoneId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "approved",
                                  "conditionallyApproved",
                                  "paused",
                                  "pending",
                                  "rejected",
                                  "restarted",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "exception": {
                                "type": "object"
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    },
                                    "requirements": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "completedAt": {
                                            "type": "string"
                                          },
                                          "isRequired": {
                                            "type": "boolean"
                                          },
                                          "name": {
                                            "type": "string"
                                          },
                                          "order": {
                                            "type": "number",
                                            "minimum": 0
                                          },
                                          "status": {
                                            "type": "string",
                                            "enum": [
                                              "completed",
                                              "error",
                                              "inProgress",
                                              "pending",
                                              "rejected",
                                              "resubmitted",
                                              "submitted"
                                            ]
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "activationDocuments",
                                              "activationPackage",
                                              "acceptTermsAndConditions",
                                              "confirmInstalledSystem",
                                              "consumerAccountSignUp",
                                              "consumerOrderReview",
                                              "contractSigned",
                                              "contractFinalized",
                                              "creditApproved",
                                              "customerInfo",
                                              "customerRequirements",
                                              "customerSignOff",
                                              "dxfApproved",
                                              "domesticContentConfirmation",
                                              "electricalPhotosApproved",
                                              "electricianSignOff",
                                              "existingSystemDocumentation",
                                              "extendedWarranty",
                                              "finalDesignApproved",
                                              "incentives",
                                              "incentiveDocumentsApproved",
                                              "identityVerified",
                                              "installPackage",
                                              "installPhotosApproved",
                                              "jobCloseOutApproved",
                                              "monitoringActive",
                                              "monitoringSiteId",
                                              "ntpPackage",
                                              "paymentMethodSubmitted",
                                              "permitApproved",
                                              "planSetApproved",
                                              "productionModelApproved",
                                              "projectSitePhotosApproved",
                                              "proposal",
                                              "ptoConfirmation",
                                              "quoteActive",
                                              "roofPhotosApproved",
                                              "shadeReportApproved",
                                              "siteImprovements",
                                              "storagePhotosApproved",
                                              "systemCommissioningApproved",
                                              "systemDetailsSubmitted",
                                              "titleApproved",
                                              "underwriting",
                                              "utilityBill",
                                              "utilityPowerTurnedOnApproved",
                                              "proofOfLoad",
                                              "workOrderApproved",
                                              "postActivationPackage",
                                              "proofOfInstallation",
                                              "hvacInstallation",
                                              "voltageReadings",
                                              "staticPressureReadings",
                                              "laserThermometerReading",
                                              "salesRepVerification",
                                              "siteAssessment",
                                              "fsmChecklistApproved",
                                              "measureQuickSystemVitalsApproved",
                                              "bluetoothHVACToolApproved",
                                              "indoorSystemApproved",
                                              "outdoorSystemApproved",
                                              "zoningSystemApproved",
                                              "thermostatApproved",
                                              "accessoriesApproved",
                                              "installationCommissioningDocumentsApproved"
                                            ]
                                          },
                                          "statusTimeline": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "properties": {
                                                "oldStatus": {
                                                  "type": "string"
                                                },
                                                "newStatus": {
                                                  "type": "string"
                                                },
                                                "modifiedAt": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "permitSubmittedDate": {
                            "type": "object",
                            "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "permitApprovedDate": {
                            "type": "object",
                            "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "installScheduledDate": {
                            "type": "object",
                            "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "expectedPTODate": {
                            "type": "object",
                            "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "ptoGrantedDate": {
                            "type": "string",
                            "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                          },
                          "epcIncorrectSubmittedPtoGrantedDate": {
                            "type": "string",
                            "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                          },
                          "ptoGreenlight": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "greenlightStatus": {
                                "type": "boolean"
                              },
                              "trancheClosed": {
                                "type": "boolean"
                              },
                              "tranchedClosedOn": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideUser": {
                                "type": "string"
                              }
                            }
                          },
                          "electricianSignoffDate": {
                            "type": "object",
                            "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "notes": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "milestones": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "install": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "milestones": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "completed": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "approved",
                                    "conditionallyApproved",
                                    "paused",
                                    "pending",
                                    "rejected",
                                    "restarted",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "pending",
                                    "customerAgreement",
                                    "initialAccountDetails",
                                    "noticeToProceed",
                                    "install",
                                    "activation",
                                    "postActivation",
                                    "title",
                                    "installComplete",
                                    "installPackageComplete",
                                    "noticeToProceedIssued",
                                    "systemActivated",
                                    "systemActivation"
                                  ]
                                },
                                "exception": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "note": {
                                      "type": "string"
                                    },
                                    "exceptionGivenBy": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      },
                                      "requirements": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "completedAt": {
                                              "type": "string"
                                            },
                                            "isRequired": {
                                              "type": "boolean"
                                            },
                                            "name": {
                                              "type": "string"
                                            },
                                            "order": {
                                              "type": "number",
                                              "minimum": 0
                                            },
                                            "status": {
                                              "type": "string",
                                              "enum": [
                                                "completed",
                                                "error",
                                                "inProgress",
                                                "pending",
                                                "rejected",
                                                "resubmitted",
                                                "submitted"
                                              ]
                                            },
                                            "type": {
                                              "type": "string",
                                              "enum": [
                                                "activationDocuments",
                                                "activationPackage",
                                                "acceptTermsAndConditions",
                                                "confirmInstalledSystem",
                                                "consumerAccountSignUp",
                                                "consumerOrderReview",
                                                "contractSigned",
                                                "contractFinalized",
                                                "creditApproved",
                                                "customerInfo",
                                                "customerRequirements",
                                                "customerSignOff",
                                                "dxfApproved",
                                                "domesticContentConfirmation",
                                                "electricalPhotosApproved",
                                                "electricianSignOff",
                                                "existingSystemDocumentation",
                                                "extendedWarranty",
                                                "finalDesignApproved",
                                                "incentives",
                                                "incentiveDocumentsApproved",
                                                "identityVerified",
                                                "installPackage",
                                                "installPhotosApproved",
                                                "jobCloseOutApproved",
                                                "monitoringActive",
                                                "monitoringSiteId",
                                                "ntpPackage",
                                                "paymentMethodSubmitted",
                                                "permitApproved",
                                                "planSetApproved",
                                                "productionModelApproved",
                                                "projectSitePhotosApproved",
                                                "proposal",
                                                "ptoConfirmation",
                                                "quoteActive",
                                                "roofPhotosApproved",
                                                "shadeReportApproved",
                                                "siteImprovements",
                                                "storagePhotosApproved",
                                                "systemCommissioningApproved",
                                                "systemDetailsSubmitted",
                                                "titleApproved",
                                                "underwriting",
                                                "utilityBill",
                                                "utilityPowerTurnedOnApproved",
                                                "proofOfLoad",
                                                "workOrderApproved",
                                                "postActivationPackage",
                                                "proofOfInstallation",
                                                "hvacInstallation",
                                                "voltageReadings",
                                                "staticPressureReadings",
                                                "laserThermometerReading",
                                                "salesRepVerification",
                                                "siteAssessment",
                                                "fsmChecklistApproved",
                                                "measureQuickSystemVitalsApproved",
                                                "bluetoothHVACToolApproved",
                                                "indoorSystemApproved",
                                                "outdoorSystemApproved",
                                                "zoningSystemApproved",
                                                "thermostatApproved",
                                                "accessoriesApproved",
                                                "installationCommissioningDocumentsApproved"
                                              ]
                                            },
                                            "statusTimeline": {
                                              "type": "array",
                                              "items": {
                                                "type": "object",
                                                "properties": {
                                                  "oldStatus": {
                                                    "type": "string"
                                                  },
                                                  "newStatus": {
                                                    "type": "string"
                                                  },
                                                  "modifiedAt": {
                                                    "type": "string"
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "itcAdderQualifications": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "properties": {
                              "lowIncomeCommunityEligible": {
                                "type": "boolean"
                              },
                              "incomeCategory": {
                                "type": "string"
                              },
                              "energyCommunityEligible": {
                                "type": "boolean"
                              },
                              "ecEligibilityCriteria": {
                                "type": "string",
                                "enum": [
                                  "CoalTract",
                                  "FFECounty",
                                  "CoalTractAndFFECounty"
                                ]
                              },
                              "ecCoalTractEligibilityCriteria": {
                                "type": "string",
                                "enum": [
                                  "CoalPowerPlantClosure",
                                  "CoalMineClosure",
                                  "CoalPowerPlantAndMineClosure",
                                  "TractAdjacency"
                                ]
                              },
                              "ecFfeCountyMsaName": {
                                "type": "string"
                              },
                              "ecFfeCountyMsaType": {
                                "type": "string"
                              }
                            }
                          },
                          "cancellation": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "reason": {
                                "type": "string",
                                "enum": [
                                  "financialConcerns",
                                  "ineligiblePropertyType",
                                  "choseDifferentFinancialProvider",
                                  "unhappyWithSalesProcess",
                                  "reasonNotProvided"
                                ]
                              },
                              "requesterType": {
                                "type": "string",
                                "enum": [
                                  "customer",
                                  "organization",
                                  "internal"
                                ]
                              },
                              "notes": {
                                "type": "string"
                              },
                              "supportingDocuments": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "accountId": {
                                      "type": "string"
                                    },
                                    "applicationId": {
                                      "type": "string"
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "pending",
                                        "approved",
                                        "rejected"
                                      ]
                                    },
                                    "archived": {
                                      "type": "boolean"
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "incomingDirectPayInvoice",
                                        "dxf",
                                        "planSet",
                                        "shadeReport",
                                        "permit",
                                        "productionModel",
                                        "incentiveDocuments",
                                        "electricianSignOff",
                                        "proofOfLoad",
                                        "domesticContentDocuments",
                                        "solarReadinessAdder",
                                        "solarReadinessInvoice",
                                        "invoice",
                                        "billOfMaterials",
                                        "fsmChecklist",
                                        "measureQuickSystemVitals",
                                        "bluetoothHVACTool",
                                        "installContract",
                                        "proofOfLoadHVAC",
                                        "hvacInstallationPhotos",
                                        "ahriCertificate",
                                        "energyBackupInstallationPhotos",
                                        "cslbDisclosure",
                                        "puertoRicoDocuments",
                                        "welcomeCall",
                                        "onSitePhysicalSurvey",
                                        "proofOfEquipment",
                                        "contract",
                                        "disclosure",
                                        "supporting",
                                        "utilityBill",
                                        "voidedCheck",
                                        "siteAssessment",
                                        "completionOfConstruction",
                                        "projectSite",
                                        "roof",
                                        "electrical",
                                        "storage",
                                        "systemCommissioning",
                                        "staticPressure",
                                        "indoorSystem",
                                        "outdoorSystem",
                                        "zoningSystem",
                                        "thermostat",
                                        "accessories",
                                        "ptoConfirmation",
                                        "extendedWarranty",
                                        "incentives",
                                        "netMeteringApproval",
                                        "conditionalApproval",
                                        "interconnectionAgreement",
                                        "siteImprovements",
                                        "identityVerification",
                                        "titleVerification",
                                        "cancellation",
                                        "reactivation",
                                        "flag",
                                        "epcFeedback",
                                        "salesAgreement",
                                        "oemWarranty",
                                        "oemWarrantyDocuments",
                                        "extendedWarrantyDocuments",
                                        "existingSystemPhotos"
                                      ]
                                    },
                                    "externalReference": {
                                      "type": "string"
                                    },
                                    "files": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "originalName": {
                                            "type": "string"
                                          },
                                          "contentType": {
                                            "type": "string"
                                          },
                                          "md5Hash": {
                                            "type": "string"
                                          },
                                          "sizeKB": {
                                            "type": "number"
                                          },
                                          "viewUrls": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "properties": {
                                                "url": {
                                                  "type": "string"
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "original",
                                                    "preview",
                                                    "gallery",
                                                    "thumbnail"
                                                  ]
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "meta": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "properties": {
                                        "createdAt": {
                                          "type": "string"
                                        },
                                        "updatedAt": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "isCancelled": {
                                "type": "boolean"
                              },
                              "requestedBy": {
                                "type": "string"
                              },
                              "requestedByDisplayName": {
                                "type": "string"
                              },
                              "requestedByOrgDisplayName": {
                                "type": "string"
                              },
                              "requestedDate": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          },
                          "ced": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "properties": {
                              "cedSplitPayEnabled": {
                                "type": "boolean",
                                "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                              },
                              "cedProjectId": {
                                "type": "string",
                                "description": "The CED Greentech project ID"
                              }
                            }
                          },
                          "noInverterConsumptionCT": {
                            "type": "boolean"
                          },
                          "batteryMonitoringSiteId": {
                            "type": "string"
                          },
                          "noBatteryConsumptionCT": {
                            "type": "boolean"
                          },
                          "designTool": {
                            "type": "string"
                          },
                          "installer": {
                            "type": "object",
                            "description": "This information will only be provided for accounts in IL",
                            "properties": {
                              "legalName": {
                                "type": "string"
                              },
                              "iccDocketNumber": {
                                "type": "string"
                              },
                              "qualifiedPersonOnsiteFirstName": {
                                "type": "string"
                              },
                              "qualifiedPersonOnsiteLastName": {
                                "type": "string"
                              },
                              "phoneNumber": {
                                "type": "string"
                              },
                              "email": {
                                "type": "string"
                              },
                              "address": {
                                "type": "string"
                              },
                              "city": {
                                "type": "string"
                              },
                              "state": {
                                "type": "string"
                              }
                            }
                          },
                          "programType": {
                            "type": "string",
                            "enum": [
                              "doePr",
                              "energyBackup",
                              "hvac",
                              "newHomes",
                              "solar"
                            ],
                            "default": "solar"
                          },
                          "priceSheetMappingId": {
                            "type": "string",
                            "nullable": true
                          },
                          "ntpAttestment": {
                            "type": "object",
                            "nullable": true,
                            "description": "An attestment that NTP data is correct.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "workOrderTotalPrice": {
                            "type": "number",
                            "nullable": true,
                            "description": "The total price of the work order for accounts",
                            "minimum": 0
                          },
                          "systemDetails": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "accountId": {
                                "type": "string"
                              },
                              "systemFirstYearProductionKwh": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "systemSizeKw": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "asBuiltSystemSizeKw": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "inverters": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "manufacturer": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    },
                                    "model": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    },
                                    "count": {
                                      "type": [
                                        "null",
                                        "number"
                                      ]
                                    },
                                    "vintage": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    }
                                  }
                                }
                              },
                              "inverterManufacturer": {
                                "deprecated": true,
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                              },
                              "inverterModel": {
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "deprecated": true
                              },
                              "inverterCount": {
                                "type": [
                                  "null",
                                  "number"
                                ],
                                "deprecated": true
                              },
                              "panelManufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                              },
                              "panelModel": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "totalPanelCount": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "arrays": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "panelCount": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The number of panels in this single array"
                                    },
                                    "orientation": {
                                      "oneOf": [
                                        {
                                          "type": "string",
                                          "enum": [
                                            "landscape",
                                            "portrait",
                                            "combination"
                                          ],
                                          "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                        },
                                        {
                                          "type": "null"
                                        }
                                      ],
                                      "deprecated": true
                                    },
                                    "tilt": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The tilt from horizontal of the panels in the array"
                                    },
                                    "azimuth": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The direction in degrees of the array"
                                    },
                                    "annualTSRF": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The annual total solar access fraction"
                                    },
                                    "monthlySolarAccess": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                          "month",
                                          "accessPercent"
                                        ],
                                        "properties": {
                                          "month": {
                                            "type": "number",
                                            "minimum": 1,
                                            "maximum": 12,
                                            "description": "The month 1-12"
                                          },
                                          "accessPercent": {
                                            "type": "number",
                                            "minimum": 0,
                                            "description": "The monthly solar access percent"
                                          }
                                        }
                                      },
                                      "minItems": 0,
                                      "maxItems": 12,
                                      "description": "All 12 months are required"
                                    },
                                    "size": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The total size of the array in Watts"
                                    },
                                    "inverter": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The inverter index starting with 0 in the inverters array"
                                    }
                                  }
                                }
                              },
                              "firstYearMonthlyProductionKwh": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "description": "The month 1-12",
                                      "minimum": 1,
                                      "maximum": 12
                                    },
                                    "productionKwh": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly production in Kwh"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "mountingType": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "mountingManufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                              },
                              "mountingModel": {
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "deprecated": true
                              },
                              "totalMountingCount": {
                                "type": [
                                  "null",
                                  "number"
                                ],
                                "deprecated": true
                              },
                              "storage": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "manufacturer": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    },
                                    "model": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    },
                                    "count": {
                                      "type": [
                                        "null",
                                        "number"
                                      ]
                                    },
                                    "vintage": {
                                      "type": [
                                        "null",
                                        "string"
                                      ]
                                    }
                                  }
                                }
                              },
                              "storageManufacturer": {
                                "deprecated": true,
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                              },
                              "storageModel": {
                                "type": [
                                  "null",
                                  "string"
                                ],
                                "deprecated": true
                              },
                              "totalStorageCount": {
                                "type": [
                                  "null",
                                  "number"
                                ],
                                "deprecated": true
                              },
                              "totalStorageCapacityKwh": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "attestment": {
                                "type": "object",
                                "nullable": true,
                                "required": [
                                  "attestmentText"
                                ],
                                "description": "Optional object that attests the range is as expected.",
                                "properties": {
                                  "attestmentText": {
                                    "type": "string",
                                    "description": "The attestment text attached to the attestment action."
                                  }
                                }
                              },
                              "isActive": {
                                "type": "boolean"
                              },
                              "isCurrent": {
                                "type": "boolean"
                              },
                              "isApproved": {
                                "type": "boolean"
                              },
                              "toleranceException": {
                                "type": "object",
                                "nullable": true,
                                "properties": {
                                  "note": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "exceptionGivenBy": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "The user who provided the exception"
                                  }
                                }
                              },
                              "equipment": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "model": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "productId": {
                                      "type": "string",
                                      "description": "Id from the LightReach Product Catalog"
                                    },
                                    "serialNumbers": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                    }
                                  }
                                }
                              },
                              "installKits": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                }
                              },
                              "services": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                }
                              },
                              "discounts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "name",
                                    "cost"
                                  ],
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "mountingHardware": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "type",
                                    "mountingHardwareModels"
                                  ],
                                  "properties": {
                                    "type": {
                                      "type": "string"
                                    },
                                    "mountingHardwareModels": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                          "manufacturer",
                                          "category",
                                          "sku"
                                        ],
                                        "properties": {
                                          "manufacturer": {
                                            "type": "string"
                                          },
                                          "category": {
                                            "type": "string"
                                          },
                                          "sku": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "domesticContentAttestment": {
                                "type": "object",
                                "additionalProperties": false,
                                "nullable": true,
                                "required": [
                                  "valueConfirmation"
                                ],
                                "description": "Optional object that attests the domestic content value confirmation.",
                                "properties": {
                                  "valueConfirmation": {
                                    "type": "boolean",
                                    "description": "The affirmation or denial (opt-out) of domestic content."
                                  },
                                  "resubmission": {
                                    "type": "boolean",
                                    "description": "If this is a resubmission of a domestic content attestment."
                                  },
                                  "attestmentType": {
                                    "type": "string",
                                    "enum": [
                                      "pvOnly",
                                      "storageOnly",
                                      "pvAndStorage",
                                      "optOut"
                                    ],
                                    "description": "The type of the domestic content attestment (including opt-out)."
                                  }
                                }
                              },
                              "domesticContentQualification": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "result": {
                                    "type": "object",
                                    "properties": {
                                      "pvQualified": {
                                        "type": "boolean"
                                      },
                                      "pvTotalPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "pvSystemPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryQualified": {
                                        "type": "boolean"
                                      },
                                      "batteryPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "panelPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "inverterPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingRailPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingFastenerPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingClampPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingSplicePercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingBonusPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "problems": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "annualConsumption": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "consumption"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number"
                                    },
                                    "consumption": {
                                      "type": "number"
                                    }
                                  }
                                },
                                "deprecated": true
                              },
                              "itcQualification": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "result": {
                                    "type": "object",
                                    "properties": {
                                      "pvQualified": {
                                        "type": "boolean"
                                      },
                                      "pvTotalPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "pvSystemPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryQualified": {
                                        "type": "boolean"
                                      },
                                      "batteryPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "panelPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "inverterPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingRailPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingFastenerPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingClampPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingSplicePercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingBonusPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "problems": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        }
                                      },
                                      "safeHarborYear": {
                                        "type": "number",
                                        "minimum": 2025
                                      },
                                      "pvFeocQualified": {
                                        "type": "boolean"
                                      },
                                      "batteryFeocQualified": {
                                        "type": "boolean"
                                      },
                                      "inverterFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingTotalFastenerPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingTotalFastenerFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "pvTotalFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "pvSystemFeocPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryFeocPercentageThreshold": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "panelFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingRailFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingFastenerFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingClampFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingSpliceFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "rackingBonusFeocPercentage": {
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 100
                                      },
                                      "batteryIncluded": {
                                        "type": "boolean"
                                      },
                                      "feocExceptionGranted": {
                                        "type": "boolean"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "monthlyPaymentCap": {
                            "type": "object",
                            "properties": {
                              "greaterThanZeroEscalationRate": {
                                "type": "number",
                                "minimum": 0
                              },
                              "zeroEscalationRate": {
                                "type": "number",
                                "minimum": 0
                              },
                              "capTableVersionUsed": {
                                "type": "string"
                              },
                              "dateCapsApplied": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "override": {
                                "type": "boolean"
                              },
                              "overrideDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "overrideUserName": {
                                "type": "string"
                              }
                            }
                          },
                          "directPay": {
                            "type": "object",
                            "nullable": true,
                            "additionalProperties": false,
                            "properties": {
                              "directPayEnabled": {
                                "type": "boolean",
                                "description": "True if the project is being fulfilled via a direct pay materials vendor"
                              },
                              "directPayMaterialVendorAlias": {
                                "type": "string",
                                "description": "The alias of the materials vendor"
                              },
                              "projectId": {
                                "type": "string",
                                "description": "The CED project ID, only valid for CED projects"
                              },
                              "projectIdentifier": {
                                "type": "string",
                                "description": "The project identifier"
                              }
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "number"
                    },
                    "pageNum": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}": {
      "get": {
        "summary": "Find an account by id",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ],
                      "default": "English"
                    },
                    "utility": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lseId"
                      ],
                      "properties": {
                        "lseId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "tariffId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "rate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "utilityName": {
                          "type": "string"
                        }
                      }
                    },
                    "electricityUsageKwh": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "description": "Total annual usage in kWh"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "number",
                            "minimum": 0
                          },
                          "minItems": 12,
                          "maxItems": 12,
                          "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                        }
                      ]
                    },
                    "electricityUsageSource": {
                      "type": "string"
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "stripeCustomerId": {
                      "type": "string"
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "monitoringSiteId": {
                      "type": "string",
                      "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "permitSubmittedDate": {
                      "type": "object",
                      "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "permitApprovedDate": {
                      "type": "object",
                      "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "installScheduledDate": {
                      "type": "object",
                      "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "expectedPTODate": {
                      "type": "object",
                      "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "ptoGrantedDate": {
                      "type": "string",
                      "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                    },
                    "epcIncorrectSubmittedPtoGrantedDate": {
                      "type": "string",
                      "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                    },
                    "ptoGreenlight": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "greenlightStatus": {
                          "type": "boolean"
                        },
                        "trancheClosed": {
                          "type": "boolean"
                        },
                        "tranchedClosedOn": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideUser": {
                          "type": "string"
                        }
                      }
                    },
                    "electricianSignoffDate": {
                      "type": "object",
                      "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "itcAdderQualifications": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "lowIncomeCommunityEligible": {
                          "type": "boolean"
                        },
                        "incomeCategory": {
                          "type": "string"
                        },
                        "energyCommunityEligible": {
                          "type": "boolean"
                        },
                        "ecEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalTract",
                            "FFECounty",
                            "CoalTractAndFFECounty"
                          ]
                        },
                        "ecCoalTractEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalPowerPlantClosure",
                            "CoalMineClosure",
                            "CoalPowerPlantAndMineClosure",
                            "TractAdjacency"
                          ]
                        },
                        "ecFfeCountyMsaName": {
                          "type": "string"
                        },
                        "ecFfeCountyMsaType": {
                          "type": "string"
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "ced": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "cedSplitPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                        },
                        "cedProjectId": {
                          "type": "string",
                          "description": "The CED Greentech project ID"
                        }
                      }
                    },
                    "noInverterConsumptionCT": {
                      "type": "boolean"
                    },
                    "batteryMonitoringSiteId": {
                      "type": "string"
                    },
                    "noBatteryConsumptionCT": {
                      "type": "boolean"
                    },
                    "designTool": {
                      "type": "string"
                    },
                    "installer": {
                      "type": "object",
                      "description": "This information will only be provided for accounts in IL",
                      "properties": {
                        "legalName": {
                          "type": "string"
                        },
                        "iccDocketNumber": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteFirstName": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteLastName": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        }
                      }
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ],
                      "default": "solar"
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "ntpAttestment": {
                      "type": "object",
                      "nullable": true,
                      "description": "An attestment that NTP data is correct.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "workOrderTotalPrice": {
                      "type": "number",
                      "nullable": true,
                      "description": "The total price of the work order for accounts",
                      "minimum": 0
                    },
                    "systemDetails": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "accountId": {
                          "type": "string"
                        },
                        "systemFirstYearProductionKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "systemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "asBuiltSystemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "inverters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "inverterManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                        },
                        "inverterModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "inverterCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "panelManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                        },
                        "panelModel": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "totalPanelCount": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "arrays": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "panelCount": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The number of panels in this single array"
                              },
                              "orientation": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "landscape",
                                      "portrait",
                                      "combination"
                                    ],
                                    "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "deprecated": true
                              },
                              "tilt": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The tilt from horizontal of the panels in the array"
                              },
                              "azimuth": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The direction in degrees of the array"
                              },
                              "annualTSRF": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The annual total solar access fraction"
                              },
                              "monthlySolarAccess": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "accessPercent"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "minimum": 1,
                                      "maximum": 12,
                                      "description": "The month 1-12"
                                    },
                                    "accessPercent": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly solar access percent"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "size": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The total size of the array in Watts"
                              },
                              "inverter": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The inverter index starting with 0 in the inverters array"
                              }
                            }
                          }
                        },
                        "firstYearMonthlyProductionKwh": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "month": {
                                "type": "number",
                                "description": "The month 1-12",
                                "minimum": 1,
                                "maximum": 12
                              },
                              "productionKwh": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly production in Kwh"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "mountingType": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "mountingManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                        },
                        "mountingModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalMountingCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "storage": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "storageManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                        },
                        "storageModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCapacityKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "attestment": {
                          "type": "object",
                          "nullable": true,
                          "required": [
                            "attestmentText"
                          ],
                          "description": "Optional object that attests the range is as expected.",
                          "properties": {
                            "attestmentText": {
                              "type": "string",
                              "description": "The attestment text attached to the attestment action."
                            }
                          }
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "isCurrent": {
                          "type": "boolean"
                        },
                        "isApproved": {
                          "type": "boolean"
                        },
                        "toleranceException": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "note": {
                              "type": "string",
                              "nullable": true
                            },
                            "exceptionGivenBy": {
                              "type": "string",
                              "nullable": true,
                              "description": "The user who provided the exception"
                            }
                          }
                        },
                        "equipment": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "type": {
                                "type": "string",
                                "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                              },
                              "name": {
                                "type": "string"
                              },
                              "manufacturer": {
                                "type": "string"
                              },
                              "model": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              },
                              "productId": {
                                "type": "string",
                                "description": "Id from the LightReach Product Catalog"
                              },
                              "serialNumbers": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                              }
                            }
                          }
                        },
                        "installKits": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "services": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "name",
                              "cost"
                            ],
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          },
                          "nullable": true
                        },
                        "mountingHardware": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "type",
                              "mountingHardwareModels"
                            ],
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "mountingHardwareModels": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "manufacturer",
                                    "category",
                                    "sku"
                                  ],
                                  "properties": {
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "category": {
                                      "type": "string"
                                    },
                                    "sku": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "domesticContentAttestment": {
                          "type": "object",
                          "additionalProperties": false,
                          "nullable": true,
                          "required": [
                            "valueConfirmation"
                          ],
                          "description": "Optional object that attests the domestic content value confirmation.",
                          "properties": {
                            "valueConfirmation": {
                              "type": "boolean",
                              "description": "The affirmation or denial (opt-out) of domestic content."
                            },
                            "resubmission": {
                              "type": "boolean",
                              "description": "If this is a resubmission of a domestic content attestment."
                            },
                            "attestmentType": {
                              "type": "string",
                              "enum": [
                                "pvOnly",
                                "storageOnly",
                                "pvAndStorage",
                                "optOut"
                              ],
                              "description": "The type of the domestic content attestment (including opt-out)."
                            }
                          }
                        },
                        "domesticContentQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "annualConsumption": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "consumption"
                            ],
                            "properties": {
                              "month": {
                                "type": "number"
                              },
                              "consumption": {
                                "type": "number"
                              }
                            }
                          },
                          "deprecated": true
                        },
                        "itcQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "safeHarborYear": {
                                  "type": "number",
                                  "minimum": 2025
                                },
                                "pvFeocQualified": {
                                  "type": "boolean"
                                },
                                "batteryFeocQualified": {
                                  "type": "boolean"
                                },
                                "inverterFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvTotalFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSpliceFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryIncluded": {
                                  "type": "boolean"
                                },
                                "feocExceptionGranted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "directPay": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "directPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via a direct pay materials vendor"
                        },
                        "directPayMaterialVendorAlias": {
                          "type": "string",
                          "description": "The alias of the materials vendor"
                        },
                        "projectId": {
                          "type": "string",
                          "description": "The CED project ID, only valid for CED projects"
                        },
                        "projectIdentifier": {
                          "type": "string",
                          "description": "The project identifier"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update an existing account",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "dependencies": {
                  "address": [
                    "coordinates"
                  ]
                },
                "properties": {
                  "externalReference": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "externalReferenceIds": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "id"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "id": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    }
                  },
                  "programType": {
                    "type": "string",
                    "enum": [
                      "doePr",
                      "energyBackup",
                      "hvac",
                      "newHomes",
                      "solar"
                    ]
                  },
                  "friendlyName": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "address": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "address1": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "address2": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "city": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "state": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "zip": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    }
                  },
                  "applicants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "primary",
                            "secondary"
                          ]
                        },
                        "firstName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "lastName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "middleName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "phoneNumber": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "transform": [
                            "trim",
                            "toLowerCase"
                          ]
                        },
                        "address": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "address1": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "address2": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "city": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "state": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "zip": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        },
                        "disclosures": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "type",
                              "version"
                            ],
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "ObjectId"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "creditApplication",
                                  "prequalification",
                                  "txtMessageNotifications",
                                  "termsAndConditions"
                                ]
                              },
                              "version": {
                                "type": "string"
                              },
                              "accepted": {
                                "type": "boolean"
                              }
                            }
                          }
                        }
                      }
                    },
                    "minItems": 1,
                    "maxItems": 2
                  },
                  "coordinates": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "lat": {
                        "type": "number"
                      },
                      "lon": {
                        "type": "number"
                      }
                    }
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "English",
                      "Spanish"
                    ]
                  },
                  "utility": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "rate": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "electricityUsageKwh": {
                    "anyOf": [
                      {
                        "type": "number",
                        "minimum": 0,
                        "description": "Total annual usage in kWh"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number",
                          "minimum": 0
                        },
                        "minItems": 12,
                        "maxItems": 12,
                        "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                      }
                    ]
                  },
                  "systemDetails": {
                    "anyOf": [
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "systemFirstYearProductionKwh",
                          "systemSizeKw"
                        ],
                        "properties": {
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverterManufacturer": {
                            "type": "string",
                            "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                          },
                          "inverterModel": {
                            "type": "string"
                          },
                          "inverterCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                          },
                          "panelModel": {
                            "type": "string"
                          },
                          "panelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                          },
                          "mountingModel": {
                            "type": "string"
                          },
                          "mountingCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "storageManufacturer": {
                            "type": "string",
                            "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                          },
                          "storageModel": {
                            "type": "string"
                          },
                          "storageCount": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                },
                                "name": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "model": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "productId": {
                                  "type": "string",
                                  "description": "Id from the LightReach Product Catalog"
                                },
                                "serialNumbers": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                }
                              }
                            }
                          },
                          "installKits": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "services": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "discounts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "name",
                                "cost"
                              ],
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "ahriNumber": {
                            "type": "string",
                            "nullable": true,
                            "description": "AHRI number for the system"
                          }
                        }
                      }
                    ]
                  },
                  "salesRepName": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepIdProviderToken": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepLicenseNumber": {
                    "type": "string",
                    "description": "This value is required for all finance contracts in California, Connecticut, Illinois, and Maryland. Effective January 2, 2024 they will be required in Nevada as well.",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepEmail": {
                    "type": "string",
                    "description": "Required in select states.",
                    "transform": [
                      "trim",
                      "toLowerCase"
                    ]
                  },
                  "salesRepPhoneNumber": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "notes": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "milestones": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "install": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "if": {
                  "properties": {
                    "salesRepIdProviderToken": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "salesRepIdProviderToken"
                  ]
                },
                "then": {
                  "required": [
                    "salesRepEmail"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ],
                      "default": "English"
                    },
                    "utility": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lseId"
                      ],
                      "properties": {
                        "lseId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "tariffId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "rate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "utilityName": {
                          "type": "string"
                        }
                      }
                    },
                    "electricityUsageKwh": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "description": "Total annual usage in kWh"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "number",
                            "minimum": 0
                          },
                          "minItems": 12,
                          "maxItems": 12,
                          "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                        }
                      ]
                    },
                    "electricityUsageSource": {
                      "type": "string"
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "stripeCustomerId": {
                      "type": "string"
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "monitoringSiteId": {
                      "type": "string",
                      "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "permitSubmittedDate": {
                      "type": "object",
                      "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "permitApprovedDate": {
                      "type": "object",
                      "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "installScheduledDate": {
                      "type": "object",
                      "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "expectedPTODate": {
                      "type": "object",
                      "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "ptoGrantedDate": {
                      "type": "string",
                      "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                    },
                    "epcIncorrectSubmittedPtoGrantedDate": {
                      "type": "string",
                      "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                    },
                    "ptoGreenlight": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "greenlightStatus": {
                          "type": "boolean"
                        },
                        "trancheClosed": {
                          "type": "boolean"
                        },
                        "tranchedClosedOn": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideUser": {
                          "type": "string"
                        }
                      }
                    },
                    "electricianSignoffDate": {
                      "type": "object",
                      "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "itcAdderQualifications": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "lowIncomeCommunityEligible": {
                          "type": "boolean"
                        },
                        "incomeCategory": {
                          "type": "string"
                        },
                        "energyCommunityEligible": {
                          "type": "boolean"
                        },
                        "ecEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalTract",
                            "FFECounty",
                            "CoalTractAndFFECounty"
                          ]
                        },
                        "ecCoalTractEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalPowerPlantClosure",
                            "CoalMineClosure",
                            "CoalPowerPlantAndMineClosure",
                            "TractAdjacency"
                          ]
                        },
                        "ecFfeCountyMsaName": {
                          "type": "string"
                        },
                        "ecFfeCountyMsaType": {
                          "type": "string"
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "ced": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "cedSplitPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                        },
                        "cedProjectId": {
                          "type": "string",
                          "description": "The CED Greentech project ID"
                        }
                      }
                    },
                    "noInverterConsumptionCT": {
                      "type": "boolean"
                    },
                    "batteryMonitoringSiteId": {
                      "type": "string"
                    },
                    "noBatteryConsumptionCT": {
                      "type": "boolean"
                    },
                    "designTool": {
                      "type": "string"
                    },
                    "installer": {
                      "type": "object",
                      "description": "This information will only be provided for accounts in IL",
                      "properties": {
                        "legalName": {
                          "type": "string"
                        },
                        "iccDocketNumber": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteFirstName": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteLastName": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        }
                      }
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ],
                      "default": "solar"
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "ntpAttestment": {
                      "type": "object",
                      "nullable": true,
                      "description": "An attestment that NTP data is correct.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "workOrderTotalPrice": {
                      "type": "number",
                      "nullable": true,
                      "description": "The total price of the work order for accounts",
                      "minimum": 0
                    },
                    "systemDetails": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "accountId": {
                          "type": "string"
                        },
                        "systemFirstYearProductionKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "systemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "asBuiltSystemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "inverters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "inverterManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                        },
                        "inverterModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "inverterCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "panelManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                        },
                        "panelModel": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "totalPanelCount": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "arrays": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "panelCount": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The number of panels in this single array"
                              },
                              "orientation": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "landscape",
                                      "portrait",
                                      "combination"
                                    ],
                                    "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "deprecated": true
                              },
                              "tilt": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The tilt from horizontal of the panels in the array"
                              },
                              "azimuth": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The direction in degrees of the array"
                              },
                              "annualTSRF": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The annual total solar access fraction"
                              },
                              "monthlySolarAccess": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "accessPercent"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "minimum": 1,
                                      "maximum": 12,
                                      "description": "The month 1-12"
                                    },
                                    "accessPercent": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly solar access percent"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "size": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The total size of the array in Watts"
                              },
                              "inverter": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The inverter index starting with 0 in the inverters array"
                              }
                            }
                          }
                        },
                        "firstYearMonthlyProductionKwh": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "month": {
                                "type": "number",
                                "description": "The month 1-12",
                                "minimum": 1,
                                "maximum": 12
                              },
                              "productionKwh": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly production in Kwh"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "mountingType": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "mountingManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                        },
                        "mountingModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalMountingCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "storage": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "storageManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                        },
                        "storageModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCapacityKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "attestment": {
                          "type": "object",
                          "nullable": true,
                          "required": [
                            "attestmentText"
                          ],
                          "description": "Optional object that attests the range is as expected.",
                          "properties": {
                            "attestmentText": {
                              "type": "string",
                              "description": "The attestment text attached to the attestment action."
                            }
                          }
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "isCurrent": {
                          "type": "boolean"
                        },
                        "isApproved": {
                          "type": "boolean"
                        },
                        "toleranceException": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "note": {
                              "type": "string",
                              "nullable": true
                            },
                            "exceptionGivenBy": {
                              "type": "string",
                              "nullable": true,
                              "description": "The user who provided the exception"
                            }
                          }
                        },
                        "equipment": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "type": {
                                "type": "string",
                                "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                              },
                              "name": {
                                "type": "string"
                              },
                              "manufacturer": {
                                "type": "string"
                              },
                              "model": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              },
                              "productId": {
                                "type": "string",
                                "description": "Id from the LightReach Product Catalog"
                              },
                              "serialNumbers": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                              }
                            }
                          }
                        },
                        "installKits": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "services": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "name",
                              "cost"
                            ],
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          },
                          "nullable": true
                        },
                        "mountingHardware": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "type",
                              "mountingHardwareModels"
                            ],
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "mountingHardwareModels": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "manufacturer",
                                    "category",
                                    "sku"
                                  ],
                                  "properties": {
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "category": {
                                      "type": "string"
                                    },
                                    "sku": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "domesticContentAttestment": {
                          "type": "object",
                          "additionalProperties": false,
                          "nullable": true,
                          "required": [
                            "valueConfirmation"
                          ],
                          "description": "Optional object that attests the domestic content value confirmation.",
                          "properties": {
                            "valueConfirmation": {
                              "type": "boolean",
                              "description": "The affirmation or denial (opt-out) of domestic content."
                            },
                            "resubmission": {
                              "type": "boolean",
                              "description": "If this is a resubmission of a domestic content attestment."
                            },
                            "attestmentType": {
                              "type": "string",
                              "enum": [
                                "pvOnly",
                                "storageOnly",
                                "pvAndStorage",
                                "optOut"
                              ],
                              "description": "The type of the domestic content attestment (including opt-out)."
                            }
                          }
                        },
                        "domesticContentQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "annualConsumption": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "consumption"
                            ],
                            "properties": {
                              "month": {
                                "type": "number"
                              },
                              "consumption": {
                                "type": "number"
                              }
                            }
                          },
                          "deprecated": true
                        },
                        "itcQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "safeHarborYear": {
                                  "type": "number",
                                  "minimum": 2025
                                },
                                "pvFeocQualified": {
                                  "type": "boolean"
                                },
                                "batteryFeocQualified": {
                                  "type": "boolean"
                                },
                                "inverterFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvTotalFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSpliceFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryIncluded": {
                                  "type": "boolean"
                                },
                                "feocExceptionGranted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "directPay": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "directPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via a direct pay materials vendor"
                        },
                        "directPayMaterialVendorAlias": {
                          "type": "string",
                          "description": "The alias of the materials vendor"
                        },
                        "projectId": {
                          "type": "string",
                          "description": "The CED project ID, only valid for CED projects"
                        },
                        "projectIdentifier": {
                          "type": "string",
                          "description": "The project identifier"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/complete-requirements": {
      "get": {
        "summary": "Completes the requirements identityVerified, titleApproved, consumerAccountSignUp, consumerOrderReview, and paymentMethodSubmitted for a given account ONLY in NEXT",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ],
                      "default": "English"
                    },
                    "utility": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lseId"
                      ],
                      "properties": {
                        "lseId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "tariffId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "rate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "utilityName": {
                          "type": "string"
                        }
                      }
                    },
                    "electricityUsageKwh": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "description": "Total annual usage in kWh"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "number",
                            "minimum": 0
                          },
                          "minItems": 12,
                          "maxItems": 12,
                          "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                        }
                      ]
                    },
                    "electricityUsageSource": {
                      "type": "string"
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "stripeCustomerId": {
                      "type": "string"
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "monitoringSiteId": {
                      "type": "string",
                      "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "permitSubmittedDate": {
                      "type": "object",
                      "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "permitApprovedDate": {
                      "type": "object",
                      "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "installScheduledDate": {
                      "type": "object",
                      "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "expectedPTODate": {
                      "type": "object",
                      "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "ptoGrantedDate": {
                      "type": "string",
                      "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                    },
                    "epcIncorrectSubmittedPtoGrantedDate": {
                      "type": "string",
                      "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                    },
                    "ptoGreenlight": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "greenlightStatus": {
                          "type": "boolean"
                        },
                        "trancheClosed": {
                          "type": "boolean"
                        },
                        "tranchedClosedOn": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideUser": {
                          "type": "string"
                        }
                      }
                    },
                    "electricianSignoffDate": {
                      "type": "object",
                      "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "itcAdderQualifications": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "lowIncomeCommunityEligible": {
                          "type": "boolean"
                        },
                        "incomeCategory": {
                          "type": "string"
                        },
                        "energyCommunityEligible": {
                          "type": "boolean"
                        },
                        "ecEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalTract",
                            "FFECounty",
                            "CoalTractAndFFECounty"
                          ]
                        },
                        "ecCoalTractEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalPowerPlantClosure",
                            "CoalMineClosure",
                            "CoalPowerPlantAndMineClosure",
                            "TractAdjacency"
                          ]
                        },
                        "ecFfeCountyMsaName": {
                          "type": "string"
                        },
                        "ecFfeCountyMsaType": {
                          "type": "string"
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "ced": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "cedSplitPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                        },
                        "cedProjectId": {
                          "type": "string",
                          "description": "The CED Greentech project ID"
                        }
                      }
                    },
                    "noInverterConsumptionCT": {
                      "type": "boolean"
                    },
                    "batteryMonitoringSiteId": {
                      "type": "string"
                    },
                    "noBatteryConsumptionCT": {
                      "type": "boolean"
                    },
                    "designTool": {
                      "type": "string"
                    },
                    "installer": {
                      "type": "object",
                      "description": "This information will only be provided for accounts in IL",
                      "properties": {
                        "legalName": {
                          "type": "string"
                        },
                        "iccDocketNumber": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteFirstName": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteLastName": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        }
                      }
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ],
                      "default": "solar"
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "ntpAttestment": {
                      "type": "object",
                      "nullable": true,
                      "description": "An attestment that NTP data is correct.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "workOrderTotalPrice": {
                      "type": "number",
                      "nullable": true,
                      "description": "The total price of the work order for accounts",
                      "minimum": 0
                    },
                    "systemDetails": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "accountId": {
                          "type": "string"
                        },
                        "systemFirstYearProductionKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "systemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "asBuiltSystemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "inverters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "inverterManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                        },
                        "inverterModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "inverterCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "panelManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                        },
                        "panelModel": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "totalPanelCount": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "arrays": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "panelCount": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The number of panels in this single array"
                              },
                              "orientation": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "landscape",
                                      "portrait",
                                      "combination"
                                    ],
                                    "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "deprecated": true
                              },
                              "tilt": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The tilt from horizontal of the panels in the array"
                              },
                              "azimuth": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The direction in degrees of the array"
                              },
                              "annualTSRF": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The annual total solar access fraction"
                              },
                              "monthlySolarAccess": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "accessPercent"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "minimum": 1,
                                      "maximum": 12,
                                      "description": "The month 1-12"
                                    },
                                    "accessPercent": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly solar access percent"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "size": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The total size of the array in Watts"
                              },
                              "inverter": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The inverter index starting with 0 in the inverters array"
                              }
                            }
                          }
                        },
                        "firstYearMonthlyProductionKwh": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "month": {
                                "type": "number",
                                "description": "The month 1-12",
                                "minimum": 1,
                                "maximum": 12
                              },
                              "productionKwh": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly production in Kwh"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "mountingType": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "mountingManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                        },
                        "mountingModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalMountingCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "storage": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "storageManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                        },
                        "storageModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCapacityKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "attestment": {
                          "type": "object",
                          "nullable": true,
                          "required": [
                            "attestmentText"
                          ],
                          "description": "Optional object that attests the range is as expected.",
                          "properties": {
                            "attestmentText": {
                              "type": "string",
                              "description": "The attestment text attached to the attestment action."
                            }
                          }
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "isCurrent": {
                          "type": "boolean"
                        },
                        "isApproved": {
                          "type": "boolean"
                        },
                        "toleranceException": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "note": {
                              "type": "string",
                              "nullable": true
                            },
                            "exceptionGivenBy": {
                              "type": "string",
                              "nullable": true,
                              "description": "The user who provided the exception"
                            }
                          }
                        },
                        "equipment": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "type": {
                                "type": "string",
                                "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                              },
                              "name": {
                                "type": "string"
                              },
                              "manufacturer": {
                                "type": "string"
                              },
                              "model": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              },
                              "productId": {
                                "type": "string",
                                "description": "Id from the LightReach Product Catalog"
                              },
                              "serialNumbers": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                              }
                            }
                          }
                        },
                        "installKits": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "services": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "name",
                              "cost"
                            ],
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          },
                          "nullable": true
                        },
                        "mountingHardware": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "type",
                              "mountingHardwareModels"
                            ],
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "mountingHardwareModels": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "manufacturer",
                                    "category",
                                    "sku"
                                  ],
                                  "properties": {
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "category": {
                                      "type": "string"
                                    },
                                    "sku": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "domesticContentAttestment": {
                          "type": "object",
                          "additionalProperties": false,
                          "nullable": true,
                          "required": [
                            "valueConfirmation"
                          ],
                          "description": "Optional object that attests the domestic content value confirmation.",
                          "properties": {
                            "valueConfirmation": {
                              "type": "boolean",
                              "description": "The affirmation or denial (opt-out) of domestic content."
                            },
                            "resubmission": {
                              "type": "boolean",
                              "description": "If this is a resubmission of a domestic content attestment."
                            },
                            "attestmentType": {
                              "type": "string",
                              "enum": [
                                "pvOnly",
                                "storageOnly",
                                "pvAndStorage",
                                "optOut"
                              ],
                              "description": "The type of the domestic content attestment (including opt-out)."
                            }
                          }
                        },
                        "domesticContentQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "annualConsumption": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "consumption"
                            ],
                            "properties": {
                              "month": {
                                "type": "number"
                              },
                              "consumption": {
                                "type": "number"
                              }
                            }
                          },
                          "deprecated": true
                        },
                        "itcQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "safeHarborYear": {
                                  "type": "number",
                                  "minimum": 2025
                                },
                                "pvFeocQualified": {
                                  "type": "boolean"
                                },
                                "batteryFeocQualified": {
                                  "type": "boolean"
                                },
                                "inverterFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvTotalFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSpliceFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryIncluded": {
                                  "type": "boolean"
                                },
                                "feocExceptionGranted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "directPay": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "directPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via a direct pay materials vendor"
                        },
                        "directPayMaterialVendorAlias": {
                          "type": "string",
                          "description": "The alias of the materials vendor"
                        },
                        "projectId": {
                          "type": "string",
                          "description": "The CED project ID, only valid for CED projects"
                        },
                        "projectIdentifier": {
                          "type": "string",
                          "description": "The project identifier"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/send-invite": {
      "post": {
        "summary": "Send an invite to an account",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "The email address to send the invite to"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/summary": {
      "get": {
        "summary": "Get a summary of the accounts and milestones for an organization. This includes a high level milestone summary detailing how many accounts are at each milestone as well as a list of all accounts.",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "searchTerm",
            "required": false,
            "description": "A text string to search for one or more accounts"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "currentMilestone",
            "required": false,
            "description": "The milestone key to filter by"
          },
          {
            "schema": {
              "type": "number",
              "nullable": true,
              "minimum": 1,
              "maximum": 50
            },
            "in": "query",
            "name": "pageSize",
            "required": false,
            "description": "Number of items to return per page"
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "pageNum",
            "required": false,
            "description": "Current page. Starts at 1."
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "advancedFilters",
            "required": false
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeCompletedAccounts",
            "required": false
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "onlyCancelledAccounts",
            "required": false,
            "description": "This is only available to admins. Returns only cancelled accounts. includeCompletedAccounts needs to be set to true."
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "onlyPostActivationAccounts",
            "required": false,
            "description": "Return only accounts that are post-activation"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "MOST_RELEVANT",
                "NEWEST",
                "OLDEST",
                "NEWEST_UPDATES",
                "OLDEST_UPDATES"
              ]
            },
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "how to sort the accounts"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "total": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pageNum": {
                      "type": "number",
                      "minimum": 0
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "accounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "id",
                              "organizationId"
                            ],
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "organizationId": {
                                "type": "string"
                              },
                              "organizationName": {
                                "type": "string"
                              },
                              "licensedOrganizationId": {
                                "type": "string"
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "friendlyName": {
                                "type": "string"
                              },
                              "coordinates": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "lat",
                                  "lon"
                                ],
                                "properties": {
                                  "lat": {
                                    "type": "number"
                                  },
                                  "lon": {
                                    "type": "number"
                                  }
                                }
                              },
                              "address": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "state"
                                ],
                                "properties": {
                                  "address1": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "address2": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "city": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "state": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "zip": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  }
                                }
                              },
                              "applicants": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "type",
                                    "firstName",
                                    "lastName",
                                    "phoneNumber",
                                    "email"
                                  ],
                                  "properties": {
                                    "id": {
                                      "type": "string"
                                    },
                                    "type": {
                                      "enum": [
                                        "primary",
                                        "secondary"
                                      ]
                                    },
                                    "firstName": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ],
                                      "minLength": 1
                                    },
                                    "lastName": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ],
                                      "minLength": 1
                                    },
                                    "middleName": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "phoneNumber": {
                                      "type": "string",
                                      "transform": [
                                        "trim"
                                      ]
                                    },
                                    "email": {
                                      "type": "string",
                                      "format": "email",
                                      "transform": [
                                        "trim",
                                        "toLowerCase"
                                      ]
                                    },
                                    "address": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "state"
                                      ],
                                      "properties": {
                                        "address1": {
                                          "type": "string",
                                          "transform": [
                                            "trim"
                                          ]
                                        },
                                        "address2": {
                                          "type": "string",
                                          "transform": [
                                            "trim"
                                          ]
                                        },
                                        "city": {
                                          "type": "string",
                                          "transform": [
                                            "trim"
                                          ]
                                        },
                                        "state": {
                                          "type": "string",
                                          "transform": [
                                            "trim"
                                          ]
                                        },
                                        "zip": {
                                          "type": "string",
                                          "transform": [
                                            "trim"
                                          ]
                                        }
                                      }
                                    },
                                    "disclosures": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "required": [
                                          "type",
                                          "version"
                                        ],
                                        "properties": {
                                          "id": {
                                            "type": "string",
                                            "format": "ObjectId"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "creditApplication",
                                              "prequalification",
                                              "txtMessageNotifications",
                                              "termsAndConditions"
                                            ]
                                          },
                                          "version": {
                                            "type": "string"
                                          },
                                          "accepted": {
                                            "type": "boolean"
                                          }
                                        }
                                      }
                                    },
                                    "ssnFormat": {
                                      "type": "string"
                                    },
                                    "creditDOB": {
                                      "type": "string",
                                      "description": "This should be in the format MM/dd/yyyy"
                                    },
                                    "dob": {
                                      "type": "string",
                                      "description": "This should be in the format MM/dd/yyyy"
                                    }
                                  }
                                },
                                "minItems": 1
                              },
                              "language": {
                                "type": "string",
                                "enum": [
                                  "English",
                                  "Spanish"
                                ],
                                "default": "English"
                              },
                              "utility": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "lseId"
                                ],
                                "properties": {
                                  "lseId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "tariffId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "rate": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "utilityName": {
                                    "type": "string"
                                  }
                                }
                              },
                              "salesRepName": {
                                "type": "string"
                              },
                              "salesRepLicenseNumber": {
                                "type": "string"
                              },
                              "salesRepEmail": {
                                "type": "string"
                              },
                              "salesRepPhoneNumber": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "1 - Created",
                                  "2 - Credit Approved",
                                  "3 - Credit Approved",
                                  "4 - Credit Denied",
                                  "Terms & Conditions Accepted",
                                  "5 - Contract Created",
                                  "6 - Contract Sent",
                                  "7 - Contract Signed",
                                  "8 - Contract Approved",
                                  "9 - Notice to Proceed eligible",
                                  "10 - M0 Notice to Proceed issued",
                                  "Install Milestone Submitted",
                                  "Install Milestone Rejected",
                                  "Install Milestone Resubmitted",
                                  "Install Milestone Approved",
                                  "System Activation Milestone Submitted",
                                  "System Activation Milestone Rejected",
                                  "System Activation Milestone Resubmitted",
                                  "System Activation Milestone Approved",
                                  "Job Close Out Approved",
                                  "99 - Credit Expired"
                                ]
                              },
                              "currentMilestone": {
                                "type": "object",
                                "properties": {
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "pending",
                                      "customerAgreement",
                                      "initialAccountDetails",
                                      "noticeToProceed",
                                      "install",
                                      "activation",
                                      "postActivation",
                                      "title",
                                      "installComplete",
                                      "installPackageComplete",
                                      "noticeToProceedIssued",
                                      "systemActivated",
                                      "systemActivation"
                                    ]
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "order": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "accountMilestoneId": {
                                    "type": "string"
                                  },
                                  "status": {
                                    "type": "string",
                                    "enum": [
                                      "approved",
                                      "conditionallyApproved",
                                      "paused",
                                      "pending",
                                      "rejected",
                                      "restarted",
                                      "resubmitted",
                                      "submitted"
                                    ]
                                  },
                                  "exception": {
                                    "type": "object"
                                  },
                                  "requirements": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "properties": {
                                        "completedAt": {
                                          "type": "string"
                                        },
                                        "isRequired": {
                                          "type": "boolean"
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "order": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "status": {
                                          "type": "string",
                                          "enum": [
                                            "completed",
                                            "error",
                                            "inProgress",
                                            "pending",
                                            "rejected",
                                            "resubmitted",
                                            "submitted"
                                          ]
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "activationDocuments",
                                            "activationPackage",
                                            "acceptTermsAndConditions",
                                            "confirmInstalledSystem",
                                            "consumerAccountSignUp",
                                            "consumerOrderReview",
                                            "contractSigned",
                                            "contractFinalized",
                                            "creditApproved",
                                            "customerInfo",
                                            "customerRequirements",
                                            "customerSignOff",
                                            "dxfApproved",
                                            "domesticContentConfirmation",
                                            "electricalPhotosApproved",
                                            "electricianSignOff",
                                            "existingSystemDocumentation",
                                            "extendedWarranty",
                                            "finalDesignApproved",
                                            "incentives",
                                            "incentiveDocumentsApproved",
                                            "identityVerified",
                                            "installPackage",
                                            "installPhotosApproved",
                                            "jobCloseOutApproved",
                                            "monitoringActive",
                                            "monitoringSiteId",
                                            "ntpPackage",
                                            "paymentMethodSubmitted",
                                            "permitApproved",
                                            "planSetApproved",
                                            "productionModelApproved",
                                            "projectSitePhotosApproved",
                                            "proposal",
                                            "ptoConfirmation",
                                            "quoteActive",
                                            "roofPhotosApproved",
                                            "shadeReportApproved",
                                            "siteImprovements",
                                            "storagePhotosApproved",
                                            "systemCommissioningApproved",
                                            "systemDetailsSubmitted",
                                            "titleApproved",
                                            "underwriting",
                                            "utilityBill",
                                            "utilityPowerTurnedOnApproved",
                                            "proofOfLoad",
                                            "workOrderApproved",
                                            "postActivationPackage",
                                            "proofOfInstallation",
                                            "hvacInstallation",
                                            "voltageReadings",
                                            "staticPressureReadings",
                                            "laserThermometerReading",
                                            "salesRepVerification",
                                            "siteAssessment",
                                            "fsmChecklistApproved",
                                            "measureQuickSystemVitalsApproved",
                                            "bluetoothHVACToolApproved",
                                            "indoorSystemApproved",
                                            "outdoorSystemApproved",
                                            "zoningSystemApproved",
                                            "thermostatApproved",
                                            "accessoriesApproved",
                                            "installationCommissioningDocumentsApproved"
                                          ]
                                        },
                                        "statusTimeline": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "oldStatus": {
                                                "type": "string"
                                              },
                                              "newStatus": {
                                                "type": "string"
                                              },
                                              "modifiedAt": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        },
                                        "requirements": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "completedAt": {
                                                "type": "string"
                                              },
                                              "isRequired": {
                                                "type": "boolean"
                                              },
                                              "name": {
                                                "type": "string"
                                              },
                                              "order": {
                                                "type": "number",
                                                "minimum": 0
                                              },
                                              "status": {
                                                "type": "string",
                                                "enum": [
                                                  "completed",
                                                  "error",
                                                  "inProgress",
                                                  "pending",
                                                  "rejected",
                                                  "resubmitted",
                                                  "submitted"
                                                ]
                                              },
                                              "type": {
                                                "type": "string",
                                                "enum": [
                                                  "activationDocuments",
                                                  "activationPackage",
                                                  "acceptTermsAndConditions",
                                                  "confirmInstalledSystem",
                                                  "consumerAccountSignUp",
                                                  "consumerOrderReview",
                                                  "contractSigned",
                                                  "contractFinalized",
                                                  "creditApproved",
                                                  "customerInfo",
                                                  "customerRequirements",
                                                  "customerSignOff",
                                                  "dxfApproved",
                                                  "domesticContentConfirmation",
                                                  "electricalPhotosApproved",
                                                  "electricianSignOff",
                                                  "existingSystemDocumentation",
                                                  "extendedWarranty",
                                                  "finalDesignApproved",
                                                  "incentives",
                                                  "incentiveDocumentsApproved",
                                                  "identityVerified",
                                                  "installPackage",
                                                  "installPhotosApproved",
                                                  "jobCloseOutApproved",
                                                  "monitoringActive",
                                                  "monitoringSiteId",
                                                  "ntpPackage",
                                                  "paymentMethodSubmitted",
                                                  "permitApproved",
                                                  "planSetApproved",
                                                  "productionModelApproved",
                                                  "projectSitePhotosApproved",
                                                  "proposal",
                                                  "ptoConfirmation",
                                                  "quoteActive",
                                                  "roofPhotosApproved",
                                                  "shadeReportApproved",
                                                  "siteImprovements",
                                                  "storagePhotosApproved",
                                                  "systemCommissioningApproved",
                                                  "systemDetailsSubmitted",
                                                  "titleApproved",
                                                  "underwriting",
                                                  "utilityBill",
                                                  "utilityPowerTurnedOnApproved",
                                                  "proofOfLoad",
                                                  "workOrderApproved",
                                                  "postActivationPackage",
                                                  "proofOfInstallation",
                                                  "hvacInstallation",
                                                  "voltageReadings",
                                                  "staticPressureReadings",
                                                  "laserThermometerReading",
                                                  "salesRepVerification",
                                                  "siteAssessment",
                                                  "fsmChecklistApproved",
                                                  "measureQuickSystemVitalsApproved",
                                                  "bluetoothHVACToolApproved",
                                                  "indoorSystemApproved",
                                                  "outdoorSystemApproved",
                                                  "zoningSystemApproved",
                                                  "thermostatApproved",
                                                  "accessoriesApproved",
                                                  "installationCommissioningDocumentsApproved"
                                                ]
                                              },
                                              "statusTimeline": {
                                                "type": "array",
                                                "items": {
                                                  "type": "object",
                                                  "properties": {
                                                    "oldStatus": {
                                                      "type": "string"
                                                    },
                                                    "newStatus": {
                                                      "type": "string"
                                                    },
                                                    "modifiedAt": {
                                                      "type": "string"
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "milestones": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "completed": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "approved",
                                        "conditionallyApproved",
                                        "paused",
                                        "pending",
                                        "rejected",
                                        "restarted",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "pending",
                                        "customerAgreement",
                                        "initialAccountDetails",
                                        "noticeToProceed",
                                        "install",
                                        "activation",
                                        "postActivation",
                                        "title",
                                        "installComplete",
                                        "installPackageComplete",
                                        "noticeToProceedIssued",
                                        "systemActivated",
                                        "systemActivation"
                                      ]
                                    },
                                    "exception": {
                                      "type": "object",
                                      "nullable": true,
                                      "properties": {
                                        "note": {
                                          "type": "string"
                                        },
                                        "exceptionGivenBy": {
                                          "type": "string"
                                        }
                                      }
                                    },
                                    "requirements": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "completedAt": {
                                            "type": "string"
                                          },
                                          "isRequired": {
                                            "type": "boolean"
                                          },
                                          "name": {
                                            "type": "string"
                                          },
                                          "order": {
                                            "type": "number",
                                            "minimum": 0
                                          },
                                          "status": {
                                            "type": "string",
                                            "enum": [
                                              "completed",
                                              "error",
                                              "inProgress",
                                              "pending",
                                              "rejected",
                                              "resubmitted",
                                              "submitted"
                                            ]
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "activationDocuments",
                                              "activationPackage",
                                              "acceptTermsAndConditions",
                                              "confirmInstalledSystem",
                                              "consumerAccountSignUp",
                                              "consumerOrderReview",
                                              "contractSigned",
                                              "contractFinalized",
                                              "creditApproved",
                                              "customerInfo",
                                              "customerRequirements",
                                              "customerSignOff",
                                              "dxfApproved",
                                              "domesticContentConfirmation",
                                              "electricalPhotosApproved",
                                              "electricianSignOff",
                                              "existingSystemDocumentation",
                                              "extendedWarranty",
                                              "finalDesignApproved",
                                              "incentives",
                                              "incentiveDocumentsApproved",
                                              "identityVerified",
                                              "installPackage",
                                              "installPhotosApproved",
                                              "jobCloseOutApproved",
                                              "monitoringActive",
                                              "monitoringSiteId",
                                              "ntpPackage",
                                              "paymentMethodSubmitted",
                                              "permitApproved",
                                              "planSetApproved",
                                              "productionModelApproved",
                                              "projectSitePhotosApproved",
                                              "proposal",
                                              "ptoConfirmation",
                                              "quoteActive",
                                              "roofPhotosApproved",
                                              "shadeReportApproved",
                                              "siteImprovements",
                                              "storagePhotosApproved",
                                              "systemCommissioningApproved",
                                              "systemDetailsSubmitted",
                                              "titleApproved",
                                              "underwriting",
                                              "utilityBill",
                                              "utilityPowerTurnedOnApproved",
                                              "proofOfLoad",
                                              "workOrderApproved",
                                              "postActivationPackage",
                                              "proofOfInstallation",
                                              "hvacInstallation",
                                              "voltageReadings",
                                              "staticPressureReadings",
                                              "laserThermometerReading",
                                              "salesRepVerification",
                                              "siteAssessment",
                                              "fsmChecklistApproved",
                                              "measureQuickSystemVitalsApproved",
                                              "bluetoothHVACToolApproved",
                                              "indoorSystemApproved",
                                              "outdoorSystemApproved",
                                              "zoningSystemApproved",
                                              "thermostatApproved",
                                              "accessoriesApproved",
                                              "installationCommissioningDocumentsApproved"
                                            ]
                                          },
                                          "statusTimeline": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "properties": {
                                                "oldStatus": {
                                                  "type": "string"
                                                },
                                                "newStatus": {
                                                  "type": "string"
                                                },
                                                "modifiedAt": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "requirements": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "properties": {
                                                "completedAt": {
                                                  "type": "string"
                                                },
                                                "isRequired": {
                                                  "type": "boolean"
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "order": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "status": {
                                                  "type": "string",
                                                  "enum": [
                                                    "completed",
                                                    "error",
                                                    "inProgress",
                                                    "pending",
                                                    "rejected",
                                                    "resubmitted",
                                                    "submitted"
                                                  ]
                                                },
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "activationDocuments",
                                                    "activationPackage",
                                                    "acceptTermsAndConditions",
                                                    "confirmInstalledSystem",
                                                    "consumerAccountSignUp",
                                                    "consumerOrderReview",
                                                    "contractSigned",
                                                    "contractFinalized",
                                                    "creditApproved",
                                                    "customerInfo",
                                                    "customerRequirements",
                                                    "customerSignOff",
                                                    "dxfApproved",
                                                    "domesticContentConfirmation",
                                                    "electricalPhotosApproved",
                                                    "electricianSignOff",
                                                    "existingSystemDocumentation",
                                                    "extendedWarranty",
                                                    "finalDesignApproved",
                                                    "incentives",
                                                    "incentiveDocumentsApproved",
                                                    "identityVerified",
                                                    "installPackage",
                                                    "installPhotosApproved",
                                                    "jobCloseOutApproved",
                                                    "monitoringActive",
                                                    "monitoringSiteId",
                                                    "ntpPackage",
                                                    "paymentMethodSubmitted",
                                                    "permitApproved",
                                                    "planSetApproved",
                                                    "productionModelApproved",
                                                    "projectSitePhotosApproved",
                                                    "proposal",
                                                    "ptoConfirmation",
                                                    "quoteActive",
                                                    "roofPhotosApproved",
                                                    "shadeReportApproved",
                                                    "siteImprovements",
                                                    "storagePhotosApproved",
                                                    "systemCommissioningApproved",
                                                    "systemDetailsSubmitted",
                                                    "titleApproved",
                                                    "underwriting",
                                                    "utilityBill",
                                                    "utilityPowerTurnedOnApproved",
                                                    "proofOfLoad",
                                                    "workOrderApproved",
                                                    "postActivationPackage",
                                                    "proofOfInstallation",
                                                    "hvacInstallation",
                                                    "voltageReadings",
                                                    "staticPressureReadings",
                                                    "laserThermometerReading",
                                                    "salesRepVerification",
                                                    "siteAssessment",
                                                    "fsmChecklistApproved",
                                                    "measureQuickSystemVitalsApproved",
                                                    "bluetoothHVACToolApproved",
                                                    "indoorSystemApproved",
                                                    "outdoorSystemApproved",
                                                    "zoningSystemApproved",
                                                    "thermostatApproved",
                                                    "accessoriesApproved",
                                                    "installationCommissioningDocumentsApproved"
                                                  ]
                                                },
                                                "statusTimeline": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "properties": {
                                                      "oldStatus": {
                                                        "type": "string"
                                                      },
                                                      "newStatus": {
                                                        "type": "string"
                                                      },
                                                      "modifiedAt": {
                                                        "type": "string"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "createdAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "updatedAt": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "permitSubmittedDate": {
                                "type": "object",
                                "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "permitApprovedDate": {
                                "type": "object",
                                "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "installScheduledDate": {
                                "type": "object",
                                "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "expectedPTODate": {
                                "type": "object",
                                "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "electricianSignoffDate": {
                                "type": "object",
                                "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "cancellation": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "reason": {
                                    "type": "string",
                                    "enum": [
                                      "financialConcerns",
                                      "ineligiblePropertyType",
                                      "choseDifferentFinancialProvider",
                                      "unhappyWithSalesProcess",
                                      "reasonNotProvided"
                                    ]
                                  },
                                  "requesterType": {
                                    "type": "string",
                                    "enum": [
                                      "customer",
                                      "organization",
                                      "internal"
                                    ]
                                  },
                                  "notes": {
                                    "type": "string"
                                  },
                                  "supportingDocuments": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "properties": {
                                        "id": {
                                          "type": "string"
                                        },
                                        "accountId": {
                                          "type": "string"
                                        },
                                        "applicationId": {
                                          "type": "string"
                                        },
                                        "status": {
                                          "type": "string",
                                          "enum": [
                                            "pending",
                                            "approved",
                                            "rejected"
                                          ]
                                        },
                                        "archived": {
                                          "type": "boolean"
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "incomingDirectPayInvoice",
                                            "dxf",
                                            "planSet",
                                            "shadeReport",
                                            "permit",
                                            "productionModel",
                                            "incentiveDocuments",
                                            "electricianSignOff",
                                            "proofOfLoad",
                                            "domesticContentDocuments",
                                            "solarReadinessAdder",
                                            "solarReadinessInvoice",
                                            "invoice",
                                            "billOfMaterials",
                                            "fsmChecklist",
                                            "measureQuickSystemVitals",
                                            "bluetoothHVACTool",
                                            "installContract",
                                            "proofOfLoadHVAC",
                                            "hvacInstallationPhotos",
                                            "ahriCertificate",
                                            "energyBackupInstallationPhotos",
                                            "cslbDisclosure",
                                            "puertoRicoDocuments",
                                            "welcomeCall",
                                            "onSitePhysicalSurvey",
                                            "proofOfEquipment",
                                            "contract",
                                            "disclosure",
                                            "supporting",
                                            "utilityBill",
                                            "voidedCheck",
                                            "siteAssessment",
                                            "completionOfConstruction",
                                            "projectSite",
                                            "roof",
                                            "electrical",
                                            "storage",
                                            "systemCommissioning",
                                            "staticPressure",
                                            "indoorSystem",
                                            "outdoorSystem",
                                            "zoningSystem",
                                            "thermostat",
                                            "accessories",
                                            "ptoConfirmation",
                                            "extendedWarranty",
                                            "incentives",
                                            "netMeteringApproval",
                                            "conditionalApproval",
                                            "interconnectionAgreement",
                                            "siteImprovements",
                                            "identityVerification",
                                            "titleVerification",
                                            "cancellation",
                                            "reactivation",
                                            "flag",
                                            "epcFeedback",
                                            "salesAgreement",
                                            "oemWarranty",
                                            "oemWarrantyDocuments",
                                            "extendedWarrantyDocuments",
                                            "existingSystemPhotos"
                                          ]
                                        },
                                        "externalReference": {
                                          "type": "string"
                                        },
                                        "files": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                              "originalName": {
                                                "type": "string"
                                              },
                                              "contentType": {
                                                "type": "string"
                                              },
                                              "md5Hash": {
                                                "type": "string"
                                              },
                                              "sizeKB": {
                                                "type": "number"
                                              },
                                              "viewUrls": {
                                                "type": "array",
                                                "items": {
                                                  "type": "object",
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "url": {
                                                      "type": "string"
                                                    },
                                                    "type": {
                                                      "type": "string",
                                                      "enum": [
                                                        "original",
                                                        "preview",
                                                        "gallery",
                                                        "thumbnail"
                                                      ]
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          }
                                        },
                                        "meta": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "createdAt": {
                                              "type": "string"
                                            },
                                            "updatedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    },
                                    "nullable": true
                                  },
                                  "isCancelled": {
                                    "type": "boolean"
                                  },
                                  "requestedBy": {
                                    "type": "string"
                                  },
                                  "requestedByDisplayName": {
                                    "type": "string"
                                  },
                                  "requestedByOrgDisplayName": {
                                    "type": "string"
                                  },
                                  "requestedDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  }
                                }
                              },
                              "primaryApplicantName": {
                                "type": "string"
                              },
                              "programType": {
                                "type": "string",
                                "enum": [
                                  "doePr",
                                  "energyBackup",
                                  "hvac",
                                  "newHomes",
                                  "solar"
                                ]
                              },
                              "daysAging": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "ntpWithoutInstall": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "installApprovedWithoutActivationApproved": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "invoiceWithoutInstallSubmitted": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "installSubmittedWithoutInvoice": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "installConditionalApprovalWithoutActivationSubmitted": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "installRejected": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "installSubmittedWithoutActivationApproved": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "activationRejectedWithoutActivationResubmitted": {
                                    "type": "number",
                                    "minimum": 0
                                  }
                                }
                              }
                            }
                          }
                        },
                        "milestoneSummary": {
                          "type": "object",
                          "properties": {
                            "totalCount": {
                              "type": "number",
                              "minimum": 0
                            },
                            "milestones": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "name": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string"
                                  },
                                  "count": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "order": {
                                    "type": "number",
                                    "minimum": 0
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/export/csv/{requestId}/download": {
      "get": {
        "summary": "Download the CSV export file for a given export request ID.",
        "tags": [
          "Accounts"
        ],
        "description": "\n        When an export request is created, it will be processed asynchronously.\n        Notification will be sent to the user when the export is complete.\n        This endpoint allows you to download the CSV file once the export is complete.\n        ",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "requestId",
            "required": true,
            "description": "The export request identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/accounts/{accountId}/activation-package": {
      "post": {
        "summary": "Validates that the requirements for submitting an activation package have been completed",
        "tags": [
          "activationPackage"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": false,
                "type": "object",
                "required": [
                  "monitoringSiteId",
                  "ptoGrantedDate",
                  "action"
                ],
                "properties": {
                  "monitoringSiteId": {
                    "type": "string",
                    "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date that the PTO was granted ISO Date string YYYY-MM-DD"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "edit",
                      "create",
                      "review"
                    ],
                    "description": "The type of activation package submission.  The \"review\" action is only allowed for Palmetto Finance users."
                  },
                  "reviewStatus": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected"
                    ],
                    "description": "Status of install package submission (for Palmetto Finance use only)"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "pending",
                          "approved",
                          "rejected"
                        ]
                      },
                      "archived": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "incomingDirectPayInvoice",
                          "dxf",
                          "planSet",
                          "shadeReport",
                          "permit",
                          "productionModel",
                          "incentiveDocuments",
                          "electricianSignOff",
                          "proofOfLoad",
                          "domesticContentDocuments",
                          "solarReadinessAdder",
                          "solarReadinessInvoice",
                          "invoice",
                          "billOfMaterials",
                          "fsmChecklist",
                          "measureQuickSystemVitals",
                          "bluetoothHVACTool",
                          "installContract",
                          "proofOfLoadHVAC",
                          "hvacInstallationPhotos",
                          "ahriCertificate",
                          "energyBackupInstallationPhotos",
                          "cslbDisclosure",
                          "puertoRicoDocuments",
                          "welcomeCall",
                          "onSitePhysicalSurvey",
                          "proofOfEquipment",
                          "contract",
                          "disclosure",
                          "supporting",
                          "utilityBill",
                          "voidedCheck",
                          "siteAssessment",
                          "completionOfConstruction",
                          "projectSite",
                          "roof",
                          "electrical",
                          "storage",
                          "systemCommissioning",
                          "staticPressure",
                          "indoorSystem",
                          "outdoorSystem",
                          "zoningSystem",
                          "thermostat",
                          "accessories",
                          "ptoConfirmation",
                          "extendedWarranty",
                          "incentives",
                          "netMeteringApproval",
                          "conditionalApproval",
                          "interconnectionAgreement",
                          "siteImprovements",
                          "identityVerification",
                          "titleVerification",
                          "cancellation",
                          "reactivation",
                          "flag",
                          "epcFeedback",
                          "salesAgreement",
                          "oemWarranty",
                          "oemWarrantyDocuments",
                          "extendedWarrantyDocuments",
                          "existingSystemPhotos"
                        ]
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "originalName": {
                              "type": "string"
                            },
                            "contentType": {
                              "type": "string"
                            },
                            "md5Hash": {
                              "type": "string"
                            },
                            "sizeKB": {
                              "type": "number"
                            },
                            "viewUrls": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "url": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "original",
                                      "preview",
                                      "gallery",
                                      "thumbnail"
                                    ]
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "meta": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications": {
      "get": {
        "summary": "Fetch a list of applications for an account",
        "tags": [
          "Applications"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "applicantNotFound",
                                "approved",
                                "creditFrozen",
                                "canceled",
                                "approvedWithStipulations",
                                "declined",
                                "error",
                                "expired",
                                "new",
                                "pending",
                                "processing",
                                "withdrawn",
                                "notChosen"
                              ]
                            },
                            "underwritingNotes": {
                              "type": "array",
                              "items": {
                                "type": "string",
                                "enum": [
                                  "Applicant not found",
                                  "Credit is frozen",
                                  "Credit score too low",
                                  "Insufficient credit history",
                                  "Limited credit experience",
                                  "Bankruptcy",
                                  "Application was pre-approved",
                                  "Other: Error, unable to obtain credit report"
                                ]
                              }
                            },
                            "creditExpiryDate": {
                              "type": "string"
                            },
                            "creditDecisionDate": {
                              "type": "string"
                            },
                            "applicationId": {
                              "type": "string"
                            },
                            "creditCheckResults": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "creditProviders": {
                                  "type": "array",
                                  "items": {
                                    "type": "string",
                                    "enum": [
                                      "transunion",
                                      "equifax",
                                      "experian",
                                      "transunionDirect"
                                    ]
                                  }
                                }
                              }
                            }
                          }
                        },
                        "minItems": 1
                      },
                      "propertyOwnershipStatus": {
                        "type": "string",
                        "enum": [
                          "manualVerificationRequired",
                          "unverified",
                          "verified"
                        ],
                        "default": "unverified"
                      },
                      "underwritingNotes": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "Applicant not found",
                            "Credit is frozen",
                            "Credit score too low",
                            "Insufficient credit history",
                            "Limited credit experience",
                            "Bankruptcy",
                            "Application was pre-approved",
                            "Other: Error, unable to obtain credit report"
                          ]
                        }
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "applicantNotFound",
                          "approved",
                          "creditFrozen",
                          "canceled",
                          "approvedWithStipulations",
                          "declined",
                          "error",
                          "expired",
                          "new",
                          "pending",
                          "processing",
                          "withdrawn",
                          "notChosen"
                        ]
                      },
                      "statusDecisionDate": {
                        "type": "string"
                      },
                      "stipulations": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "stipulationType": {
                              "type": "string",
                              "enum": [
                                "administrative",
                                "designVerification"
                              ],
                              "description": "The type of stipulation"
                            },
                            "accountMilestoneType": {
                              "type": "string",
                              "description": "The type of milestone this stipulation is associated with"
                            },
                            "id": {
                              "type": "string",
                              "description": "The unique identifier for the stipulation"
                            },
                            "accountId": {
                              "type": "string",
                              "description": "The account identifier"
                            },
                            "appliedBy": {
                              "type": "string",
                              "description": "The id of the user to applied the stipulation"
                            },
                            "appliedByDisplayName": {
                              "type": "string",
                              "description": "The name of the user to applied the stipulation"
                            },
                            "appliedDate": {
                              "type": "string",
                              "format": "date-time",
                              "description": "The date the stipulation was applied"
                            },
                            "description": {
                              "type": "string",
                              "description": "Detailed description of what is need to satisfy the stipulation"
                            },
                            "isSatisfied": {
                              "type": "boolean",
                              "default": false
                            },
                            "isSatisfiedNote": {
                              "type": "string",
                              "description": "An optional note about how the stipulation was satisfied"
                            },
                            "requiresReview": {
                              "type": "boolean",
                              "default": false,
                              "description": "Requires manual review to satisfy"
                            },
                            "reason": {
                              "type": "string",
                              "enum": [
                                "Account Details",
                                "Consumer Compliance",
                                "Housing Stock",
                                "Customer Action Required",
                                "Age Related",
                                "Potential OFAC Match",
                                "Other"
                              ],
                              "description": "An optional reason for the stipulation"
                            }
                          }
                        }
                      },
                      "creditExpiryDate": {
                        "type": "string"
                      },
                      "monthlyPaymentCap": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "greaterThanZeroEscalationRate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "zeroEscalationRate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new application for an account",
        "tags": [
          "Applications"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "applicants"
                ],
                "properties": {
                  "externalReference": {
                    "type": "string"
                  },
                  "applicants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "primary",
                            "secondary"
                          ]
                        },
                        "firstName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "lastName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "middleName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "phoneNumber": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "transform": [
                            "trim",
                            "toLowerCase"
                          ]
                        },
                        "address": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "state"
                          ],
                          "properties": {
                            "address1": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "address2": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "city": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "state": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "zip": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        },
                        "disclosures": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "type",
                              "version"
                            ],
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "ObjectId"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "creditApplication",
                                  "prequalification",
                                  "txtMessageNotifications",
                                  "termsAndConditions"
                                ]
                              },
                              "version": {
                                "type": "string"
                              },
                              "accepted": {
                                "type": "boolean"
                              }
                            }
                          }
                        },
                        "ssnFormat": {
                          "type": "string"
                        },
                        "creditDOB": {
                          "type": "string",
                          "description": "This should be in the format MM/dd/yyyy"
                        },
                        "dob": {
                          "type": "string",
                          "description": "This should be in the format MM/dd/yyyy"
                        },
                        "ssn": {
                          "type": "string",
                          "description": "SSN is required and must be either 4 digits (e.g., 1234) or 9 digits (e.g., 123456789)"
                        }
                      }
                    },
                    "minItems": 1
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "propertyOwnershipStatus": {
                      "type": "string",
                      "enum": [
                        "manualVerificationRequired",
                        "unverified",
                        "verified"
                      ],
                      "default": "unverified"
                    },
                    "underwritingNotes": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "Applicant not found",
                          "Credit is frozen",
                          "Credit score too low",
                          "Insufficient credit history",
                          "Limited credit experience",
                          "Bankruptcy",
                          "Application was pre-approved",
                          "Other: Error, unable to obtain credit report"
                        ]
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "applicantNotFound",
                        "approved",
                        "creditFrozen",
                        "canceled",
                        "approvedWithStipulations",
                        "declined",
                        "error",
                        "expired",
                        "new",
                        "pending",
                        "processing",
                        "withdrawn",
                        "notChosen"
                      ]
                    },
                    "statusDecisionDate": {
                      "type": "string"
                    },
                    "stipulations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "stipulationType": {
                            "type": "string",
                            "enum": [
                              "administrative",
                              "designVerification"
                            ],
                            "description": "The type of stipulation"
                          },
                          "accountMilestoneType": {
                            "type": "string",
                            "description": "The type of milestone this stipulation is associated with"
                          },
                          "id": {
                            "type": "string",
                            "description": "The unique identifier for the stipulation"
                          },
                          "accountId": {
                            "type": "string",
                            "description": "The account identifier"
                          },
                          "appliedBy": {
                            "type": "string",
                            "description": "The id of the user to applied the stipulation"
                          },
                          "appliedByDisplayName": {
                            "type": "string",
                            "description": "The name of the user to applied the stipulation"
                          },
                          "appliedDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "The date the stipulation was applied"
                          },
                          "description": {
                            "type": "string",
                            "description": "Detailed description of what is need to satisfy the stipulation"
                          },
                          "isSatisfied": {
                            "type": "boolean",
                            "default": false
                          },
                          "isSatisfiedNote": {
                            "type": "string",
                            "description": "An optional note about how the stipulation was satisfied"
                          },
                          "requiresReview": {
                            "type": "boolean",
                            "default": false,
                            "description": "Requires manual review to satisfy"
                          },
                          "reason": {
                            "type": "string",
                            "enum": [
                              "Account Details",
                              "Consumer Compliance",
                              "Housing Stock",
                              "Customer Action Required",
                              "Age Related",
                              "Potential OFAC Match",
                              "Other"
                            ],
                            "description": "An optional reason for the stipulation"
                          }
                        }
                      }
                    },
                    "creditExpiryDate": {
                      "type": "string"
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        }
                      }
                    },
                    "redirectUrl": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found Response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Not Found Response",
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "description": "friendly error message"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications/{applicationId}": {
      "get": {
        "summary": "Find an account's application by id",
        "tags": [
          "Applications"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "applicationId",
            "required": true,
            "description": "The application identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "propertyOwnershipStatus": {
                      "type": "string",
                      "enum": [
                        "manualVerificationRequired",
                        "unverified",
                        "verified"
                      ],
                      "default": "unverified"
                    },
                    "underwritingNotes": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "Applicant not found",
                          "Credit is frozen",
                          "Credit score too low",
                          "Insufficient credit history",
                          "Limited credit experience",
                          "Bankruptcy",
                          "Application was pre-approved",
                          "Other: Error, unable to obtain credit report"
                        ]
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "applicantNotFound",
                        "approved",
                        "creditFrozen",
                        "canceled",
                        "approvedWithStipulations",
                        "declined",
                        "error",
                        "expired",
                        "new",
                        "pending",
                        "processing",
                        "withdrawn",
                        "notChosen"
                      ]
                    },
                    "statusDecisionDate": {
                      "type": "string"
                    },
                    "stipulations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "stipulationType": {
                            "type": "string",
                            "enum": [
                              "administrative",
                              "designVerification"
                            ],
                            "description": "The type of stipulation"
                          },
                          "accountMilestoneType": {
                            "type": "string",
                            "description": "The type of milestone this stipulation is associated with"
                          },
                          "id": {
                            "type": "string",
                            "description": "The unique identifier for the stipulation"
                          },
                          "accountId": {
                            "type": "string",
                            "description": "The account identifier"
                          },
                          "appliedBy": {
                            "type": "string",
                            "description": "The id of the user to applied the stipulation"
                          },
                          "appliedByDisplayName": {
                            "type": "string",
                            "description": "The name of the user to applied the stipulation"
                          },
                          "appliedDate": {
                            "type": "string",
                            "format": "date-time",
                            "description": "The date the stipulation was applied"
                          },
                          "description": {
                            "type": "string",
                            "description": "Detailed description of what is need to satisfy the stipulation"
                          },
                          "isSatisfied": {
                            "type": "boolean",
                            "default": false
                          },
                          "isSatisfiedNote": {
                            "type": "string",
                            "description": "An optional note about how the stipulation was satisfied"
                          },
                          "requiresReview": {
                            "type": "boolean",
                            "default": false,
                            "description": "Requires manual review to satisfy"
                          },
                          "reason": {
                            "type": "string",
                            "enum": [
                              "Account Details",
                              "Consumer Compliance",
                              "Housing Stock",
                              "Customer Action Required",
                              "Age Related",
                              "Potential OFAC Match",
                              "Other"
                            ],
                            "description": "An optional reason for the stipulation"
                          }
                        }
                      }
                    },
                    "creditExpiryDate": {
                      "type": "string"
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications/{applicationId}/property-reports": {
      "get": {
        "summary": "Get the results of property title verification associated with this application",
        "tags": [
          "Applications"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeReportDetails",
            "required": false,
            "description": "If true, the property details report will be included in the response"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "applicationId",
            "required": true,
            "description": "The application identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "parcelProvider": {
                        "type": "string"
                      },
                      "response": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "Reports": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "Data": {
                                  "type": "object",
                                  "additionalProperties": true
                                },
                                "LitePropertyList": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": true
                                  }
                                },
                                "MaxResultsCount": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "StatusDescription": {
                                  "type": "string"
                                },
                                "message": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      },
                      "result": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "applicantMentionedAsOwner": {
                            "type": "boolean"
                          },
                          "applicantName": {
                            "type": "string"
                          },
                          "ownerNamesOnParcel": {
                            "type": "string"
                          },
                          "propertyInExpectedLocation": {
                            "type": "boolean"
                          },
                          "distanceBetween": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "manualVerificationRequired",
                              "unverified",
                              "verified"
                            ]
                          }
                        }
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications/external/send": {
      "post": {
        "summary": "Generate and send by email a signed URL to allow an external application form",
        "tags": [
          "Applications"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "description": "The email address to send the invite to"
                  },
                  "firstName": {
                    "type": "string",
                    "description": "The first name of the applicant being invited"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/assets/systemdetails": {
      "post": {
        "summary": "Add high level PV System details to an account, necessary for quoting",
        "tags": [
          "Assets"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "deprecated": true,
                "required": [],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "format": "ObjectId"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0
                  },
                  "inverterManufacturer": {
                    "deprecated": true,
                    "type": "string",
                    "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                  },
                  "inverterModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "inverterCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "mountingModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "totalMountingCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "storageManufacturer": {
                    "deprecated": true,
                    "type": "string",
                    "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                  },
                  "storageModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "totalStorageCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "inverters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "manufacturer": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "model": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "count": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "vintage": {
                          "type": [
                            "null",
                            "string"
                          ]
                        }
                      }
                    }
                  },
                  "panelManufacturer": {
                    "type": "string",
                    "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                  },
                  "panelModel": {
                    "type": "string"
                  },
                  "panelVintage": {
                    "type": "string"
                  },
                  "totalPanelCount": {
                    "type": "number",
                    "minimum": 0
                  },
                  "mountingType": {
                    "type": "string"
                  },
                  "mountingManufacturer": {
                    "type": "string",
                    "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                  },
                  "mountingHardware": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "mountingHardwareModels"
                      ],
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "mountingHardwareModels": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "manufacturer",
                              "category",
                              "sku"
                            ],
                            "properties": {
                              "manufacturer": {
                                "type": "string"
                              },
                              "category": {
                                "type": "string"
                              },
                              "sku": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "storage": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "manufacturer": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "model": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "count": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "vintage": {
                          "type": [
                            "null",
                            "string"
                          ]
                        }
                      }
                    }
                  },
                  "annualConsumption": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "month",
                        "consumption"
                      ],
                      "properties": {
                        "month": {
                          "type": "number"
                        },
                        "consumption": {
                          "type": "number"
                        }
                      }
                    },
                    "deprecated": true
                  },
                  "arrays": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "panelCount": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The number of panels in this single array"
                        },
                        "orientation": {
                          "oneOf": [
                            {
                              "type": "string",
                              "enum": [
                                "landscape",
                                "portrait",
                                "combination"
                              ],
                              "description": "The orientation of the panels in the array: landscape, portrait, combination"
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "deprecated": true
                        },
                        "tilt": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The tilt from horizontal of the panels in the array"
                        },
                        "azimuth": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The direction in degrees of the array"
                        },
                        "annualTSRF": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The annual total solar access fraction"
                        },
                        "monthlySolarAccess": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "accessPercent"
                            ],
                            "properties": {
                              "month": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 12,
                                "description": "The month 1-12"
                              },
                              "accessPercent": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly solar access percent"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "size": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The total size of the array in Watts"
                        },
                        "inverter": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The inverter index starting with 0 in the inverters array"
                        }
                      }
                    }
                  },
                  "firstYearMonthlyProductionKwh": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "month": {
                          "type": "number",
                          "description": "The month 1-12",
                          "minimum": 1,
                          "maximum": 12
                        },
                        "productionKwh": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monthly production in Kwh"
                        }
                      }
                    },
                    "minItems": 0,
                    "maxItems": 12,
                    "description": "All 12 months are required"
                  },
                  "totalStorageCapacityKwh": {
                    "type": "number",
                    "minimum": 0
                  },
                  "toleranceException": {
                    "type": "object",
                    "nullable": true,
                    "properties": {
                      "note": {
                        "type": "string"
                      },
                      "exceptionGivenBy": {
                        "type": "string",
                        "nullable": true,
                        "description": "The user who provided the exception"
                      }
                    }
                  },
                  "attestment": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "required": [
                      "attestmentText"
                    ],
                    "description": "Optional object that attests the range is as expected.",
                    "properties": {
                      "attestmentText": {
                        "type": "string",
                        "description": "The attestment text attached to the attestment action."
                      }
                    }
                  },
                  "domesticContentAttestment": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "required": [
                      "valueConfirmation"
                    ],
                    "description": "Optional object that attests the domestic content value confirmation.",
                    "properties": {
                      "valueConfirmation": {
                        "type": "boolean",
                        "description": "The affirmation or denial (opt-out) of domestic content."
                      },
                      "resubmission": {
                        "type": "boolean",
                        "description": "If this is a resubmission of a domestic content attestment."
                      },
                      "attestmentType": {
                        "type": "string",
                        "enum": [
                          "pvOnly",
                          "storageOnly",
                          "pvAndStorage",
                          "optOut"
                        ],
                        "description": "The type of the domestic content attestment (including opt-out)."
                      }
                    }
                  },
                  "domesticContentQualification": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "result": {
                        "type": "object",
                        "properties": {
                          "pvQualified": {
                            "type": "boolean"
                          },
                          "pvTotalPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryQualified": {
                            "type": "boolean"
                          },
                          "batteryPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "inverterPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSplicePercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "itcQualification": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "result": {
                        "type": "object",
                        "properties": {
                          "pvQualified": {
                            "type": "boolean"
                          },
                          "pvTotalPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryQualified": {
                            "type": "boolean"
                          },
                          "batteryPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "inverterPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSplicePercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "safeHarborYear": {
                            "type": "number",
                            "minimum": 2025
                          },
                          "pvFeocQualified": {
                            "type": "boolean"
                          },
                          "batteryFeocQualified": {
                            "type": "boolean"
                          },
                          "inverterFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingTotalFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingTotalFastenerFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvTotalFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemFeocPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryFeocPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSpliceFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryIncluded": {
                            "type": "boolean"
                          },
                          "feocExceptionGranted": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ],
                      "default": "English"
                    },
                    "utility": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lseId"
                      ],
                      "properties": {
                        "lseId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "tariffId": {
                          "type": "number",
                          "minimum": 0
                        },
                        "rate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "utilityName": {
                          "type": "string"
                        }
                      }
                    },
                    "electricityUsageKwh": {
                      "anyOf": [
                        {
                          "type": "number",
                          "minimum": 0,
                          "description": "Total annual usage in kWh"
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "number",
                            "minimum": 0
                          },
                          "minItems": 12,
                          "maxItems": 12,
                          "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                        }
                      ]
                    },
                    "electricityUsageSource": {
                      "type": "string"
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "stripeCustomerId": {
                      "type": "string"
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "monitoringSiteId": {
                      "type": "string",
                      "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "permitSubmittedDate": {
                      "type": "object",
                      "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "permitApprovedDate": {
                      "type": "object",
                      "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "installScheduledDate": {
                      "type": "object",
                      "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "expectedPTODate": {
                      "type": "object",
                      "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "ptoGrantedDate": {
                      "type": "string",
                      "description": "Date PTO was granted ISO Date string YYYY-MM-DD."
                    },
                    "epcIncorrectSubmittedPtoGrantedDate": {
                      "type": "string",
                      "description": "Original PTO date submitted by EPC if it was changed during review ISO Date string YYYY-MM-DD."
                    },
                    "ptoGreenlight": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "greenlightStatus": {
                          "type": "boolean"
                        },
                        "trancheClosed": {
                          "type": "boolean"
                        },
                        "tranchedClosedOn": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "manualOverrideUser": {
                          "type": "string"
                        }
                      }
                    },
                    "electricianSignoffDate": {
                      "type": "object",
                      "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                      "additionalProperties": true
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "itcAdderQualifications": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "lowIncomeCommunityEligible": {
                          "type": "boolean"
                        },
                        "incomeCategory": {
                          "type": "string"
                        },
                        "energyCommunityEligible": {
                          "type": "boolean"
                        },
                        "ecEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalTract",
                            "FFECounty",
                            "CoalTractAndFFECounty"
                          ]
                        },
                        "ecCoalTractEligibilityCriteria": {
                          "type": "string",
                          "enum": [
                            "CoalPowerPlantClosure",
                            "CoalMineClosure",
                            "CoalPowerPlantAndMineClosure",
                            "TractAdjacency"
                          ]
                        },
                        "ecFfeCountyMsaName": {
                          "type": "string"
                        },
                        "ecFfeCountyMsaType": {
                          "type": "string"
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "ced": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "cedSplitPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                        },
                        "cedProjectId": {
                          "type": "string",
                          "description": "The CED Greentech project ID"
                        }
                      }
                    },
                    "noInverterConsumptionCT": {
                      "type": "boolean"
                    },
                    "batteryMonitoringSiteId": {
                      "type": "string"
                    },
                    "noBatteryConsumptionCT": {
                      "type": "boolean"
                    },
                    "designTool": {
                      "type": "string"
                    },
                    "installer": {
                      "type": "object",
                      "description": "This information will only be provided for accounts in IL",
                      "properties": {
                        "legalName": {
                          "type": "string"
                        },
                        "iccDocketNumber": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteFirstName": {
                          "type": "string"
                        },
                        "qualifiedPersonOnsiteLastName": {
                          "type": "string"
                        },
                        "phoneNumber": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "address": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        }
                      }
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ],
                      "default": "solar"
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "ntpAttestment": {
                      "type": "object",
                      "nullable": true,
                      "description": "An attestment that NTP data is correct.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "workOrderTotalPrice": {
                      "type": "number",
                      "nullable": true,
                      "description": "The total price of the work order for accounts",
                      "minimum": 0
                    },
                    "systemDetails": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "accountId": {
                          "type": "string"
                        },
                        "systemFirstYearProductionKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "systemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "asBuiltSystemSizeKw": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "inverters": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "inverterManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                        },
                        "inverterModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "inverterCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "panelManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                        },
                        "panelModel": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "totalPanelCount": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "arrays": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "panelCount": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The number of panels in this single array"
                              },
                              "orientation": {
                                "oneOf": [
                                  {
                                    "type": "string",
                                    "enum": [
                                      "landscape",
                                      "portrait",
                                      "combination"
                                    ],
                                    "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                  },
                                  {
                                    "type": "null"
                                  }
                                ],
                                "deprecated": true
                              },
                              "tilt": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The tilt from horizontal of the panels in the array"
                              },
                              "azimuth": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The direction in degrees of the array"
                              },
                              "annualTSRF": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The annual total solar access fraction"
                              },
                              "monthlySolarAccess": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "month",
                                    "accessPercent"
                                  ],
                                  "properties": {
                                    "month": {
                                      "type": "number",
                                      "minimum": 1,
                                      "maximum": 12,
                                      "description": "The month 1-12"
                                    },
                                    "accessPercent": {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "The monthly solar access percent"
                                    }
                                  }
                                },
                                "minItems": 0,
                                "maxItems": 12,
                                "description": "All 12 months are required"
                              },
                              "size": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The total size of the array in Watts"
                              },
                              "inverter": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The inverter index starting with 0 in the inverters array"
                              }
                            }
                          }
                        },
                        "firstYearMonthlyProductionKwh": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "month": {
                                "type": "number",
                                "description": "The month 1-12",
                                "minimum": 1,
                                "maximum": 12
                              },
                              "productionKwh": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly production in Kwh"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "mountingType": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "mountingManufacturer": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                        },
                        "mountingModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalMountingCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "storage": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "manufacturer": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "model": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              },
                              "count": {
                                "type": [
                                  "null",
                                  "number"
                                ]
                              },
                              "vintage": {
                                "type": [
                                  "null",
                                  "string"
                                ]
                              }
                            }
                          }
                        },
                        "storageManufacturer": {
                          "deprecated": true,
                          "type": [
                            "null",
                            "string"
                          ],
                          "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                        },
                        "storageModel": {
                          "type": [
                            "null",
                            "string"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCount": {
                          "type": [
                            "null",
                            "number"
                          ],
                          "deprecated": true
                        },
                        "totalStorageCapacityKwh": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "attestment": {
                          "type": "object",
                          "nullable": true,
                          "required": [
                            "attestmentText"
                          ],
                          "description": "Optional object that attests the range is as expected.",
                          "properties": {
                            "attestmentText": {
                              "type": "string",
                              "description": "The attestment text attached to the attestment action."
                            }
                          }
                        },
                        "isActive": {
                          "type": "boolean"
                        },
                        "isCurrent": {
                          "type": "boolean"
                        },
                        "isApproved": {
                          "type": "boolean"
                        },
                        "toleranceException": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "note": {
                              "type": "string",
                              "nullable": true
                            },
                            "exceptionGivenBy": {
                              "type": "string",
                              "nullable": true,
                              "description": "The user who provided the exception"
                            }
                          }
                        },
                        "equipment": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "type": {
                                "type": "string",
                                "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                              },
                              "name": {
                                "type": "string"
                              },
                              "manufacturer": {
                                "type": "string"
                              },
                              "model": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              },
                              "productId": {
                                "type": "string",
                                "description": "Id from the LightReach Product Catalog"
                              },
                              "serialNumbers": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                },
                                "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                              }
                            }
                          }
                        },
                        "installKits": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "services": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          }
                        },
                        "discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "name",
                              "cost"
                            ],
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "cost": {
                                "type": "number",
                                "minimum": 0
                              }
                            }
                          },
                          "nullable": true
                        },
                        "mountingHardware": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "type",
                              "mountingHardwareModels"
                            ],
                            "properties": {
                              "type": {
                                "type": "string"
                              },
                              "mountingHardwareModels": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "manufacturer",
                                    "category",
                                    "sku"
                                  ],
                                  "properties": {
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "category": {
                                      "type": "string"
                                    },
                                    "sku": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          }
                        },
                        "domesticContentAttestment": {
                          "type": "object",
                          "additionalProperties": false,
                          "nullable": true,
                          "required": [
                            "valueConfirmation"
                          ],
                          "description": "Optional object that attests the domestic content value confirmation.",
                          "properties": {
                            "valueConfirmation": {
                              "type": "boolean",
                              "description": "The affirmation or denial (opt-out) of domestic content."
                            },
                            "resubmission": {
                              "type": "boolean",
                              "description": "If this is a resubmission of a domestic content attestment."
                            },
                            "attestmentType": {
                              "type": "string",
                              "enum": [
                                "pvOnly",
                                "storageOnly",
                                "pvAndStorage",
                                "optOut"
                              ],
                              "description": "The type of the domestic content attestment (including opt-out)."
                            }
                          }
                        },
                        "domesticContentQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "annualConsumption": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "consumption"
                            ],
                            "properties": {
                              "month": {
                                "type": "number"
                              },
                              "consumption": {
                                "type": "number"
                              }
                            }
                          },
                          "deprecated": true
                        },
                        "itcQualification": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "result": {
                              "type": "object",
                              "properties": {
                                "pvQualified": {
                                  "type": "boolean"
                                },
                                "pvTotalPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryQualified": {
                                  "type": "boolean"
                                },
                                "batteryPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "inverterPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSplicePercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "problems": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "safeHarborYear": {
                                  "type": "number",
                                  "minimum": 2025
                                },
                                "pvFeocQualified": {
                                  "type": "boolean"
                                },
                                "batteryFeocQualified": {
                                  "type": "boolean"
                                },
                                "inverterFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingTotalFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvTotalFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "pvSystemFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryFeocPercentageThreshold": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "panelFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingRailFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingFastenerFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingClampFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingSpliceFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "rackingBonusFeocPercentage": {
                                  "type": "number",
                                  "minimum": 0,
                                  "maximum": 100
                                },
                                "batteryIncluded": {
                                  "type": "boolean"
                                },
                                "feocExceptionGranted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "directPay": {
                      "type": "object",
                      "nullable": true,
                      "additionalProperties": false,
                      "properties": {
                        "directPayEnabled": {
                          "type": "boolean",
                          "description": "True if the project is being fulfilled via a direct pay materials vendor"
                        },
                        "directPayMaterialVendorAlias": {
                          "type": "string",
                          "description": "The alias of the materials vendor"
                        },
                        "projectId": {
                          "type": "string",
                          "description": "The CED project ID, only valid for CED projects"
                        },
                        "projectIdentifier": {
                          "type": "string",
                          "description": "The project identifier"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/available-adders": {
      "get": {
        "summary": "Returns the available adders for the account and the additional pricing bands they open up",
        "tags": [
          "Adders"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "arbitrageBattery": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Returns additional kWh Rate Bands, if the Arbitrage Battery adder is available"
                    },
                    "backupBattery": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Backup batteries do not add additional kWh Rate Bands. The presence of this field with a 0 value indicates that a backup battery is able to be added."
                    },
                    "electricalUpgrade": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Returns additional kWh Rate Bands, if the Electrical Upgrade adder  is available"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/contracts/current": {
      "get": {
        "summary": "Find an account's contract, if any",
        "tags": [
          "Contracts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "accountId",
                    "contractDocuments",
                    "status"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "quoteId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "contractDocuments": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "settingsId": {
                            "type": "string"
                          },
                          "references": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "type": {
                            "type": "string"
                          },
                          "provider": {
                            "type": "string"
                          },
                          "providerData": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "templateId": {
                                "type": "string"
                              },
                              "envelopeId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "status": {
                            "enum": [
                              "created",
                              "declined",
                              "partiallySigned",
                              "sent",
                              "signed",
                              "voided"
                            ]
                          },
                          "recipients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string"
                                },
                                "signedAt": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        [
                          "created",
                          "sent",
                          "partiallySigned",
                          "signed",
                          "approved",
                          "rejected",
                          "voided",
                          "disclosureSent",
                          "disclosureSigned"
                        ]
                      ]
                    },
                    "url": {
                      "description": "This link is only good for 5 minutes and can only be used once",
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/contracts/{contractId}/disclosure/status": {
      "post": {
        "summary": "Pull an account's disclosure status, if any",
        "tags": [
          "Contracts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "contractId",
            "required": true,
            "description": "The contract identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "accountId",
                    "contractDocuments",
                    "status"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "quoteId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "contractDocuments": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "settingsId": {
                            "type": "string"
                          },
                          "references": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "type": {
                            "type": "string"
                          },
                          "provider": {
                            "type": "string"
                          },
                          "providerData": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "templateId": {
                                "type": "string"
                              },
                              "envelopeId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "status": {
                            "enum": [
                              "created",
                              "declined",
                              "partiallySigned",
                              "sent",
                              "signed",
                              "voided"
                            ]
                          },
                          "recipients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string"
                                },
                                "signedAt": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        [
                          "created",
                          "sent",
                          "partiallySigned",
                          "signed",
                          "approved",
                          "rejected",
                          "voided",
                          "disclosureSent",
                          "disclosureSigned"
                        ]
                      ]
                    },
                    "url": {
                      "description": "This link is only good for 5 minutes and can only be used once",
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/contracts/current/signing-link": {
      "post": {
        "summary": "Get the Docusign signing link for the current contract",
        "tags": [
          "Contracts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "returnUrl"
                ],
                "properties": {
                  "returnUrl": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Docusign signing link for the account holder to sign the contract. This link is only good for 5 minutes and can only be used once.",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Docusign signing link for the account holder to sign the contract. This link is only good for 5 minutes and can only be used once.",
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/contracts/current/send": {
      "post": {
        "summary": "Send/Resend the contract (if any) to be signed",
        "tags": [
          "Contracts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": [
                  "object",
                  "null"
                ],
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "externalReference": {
                    "type": "string",
                    "description": "An external reference value attached to the contract.  It will be included in all contract webhooks."
                  },
                  "returnUrl": {
                    "type": "string",
                    "description": "This is required if `includeSigningLink` query param is present. The returnUrl is used when generating the signing link to redirect the user to the url once the signing is complete."
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "force",
            "required": false,
            "description": "Force resending, if authorized"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeSigningLink",
            "required": false,
            "description": "Includes the signing link to access the contract in Docusign directly. `returnUrl` must be present in the body to retrieve the signing link"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "accountId",
                    "contractDocuments",
                    "status"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "quoteId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "contractDocuments": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "settingsId": {
                            "type": "string"
                          },
                          "references": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "value": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "type": {
                            "type": "string"
                          },
                          "provider": {
                            "type": "string"
                          },
                          "providerData": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "templateId": {
                                "type": "string"
                              },
                              "envelopeId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          },
                          "status": {
                            "enum": [
                              "created",
                              "declined",
                              "partiallySigned",
                              "sent",
                              "signed",
                              "voided"
                            ]
                          },
                          "recipients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string"
                                },
                                "signedAt": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        [
                          "created",
                          "sent",
                          "partiallySigned",
                          "signed",
                          "approved",
                          "rejected",
                          "voided",
                          "disclosureSent",
                          "disclosureSigned"
                        ]
                      ]
                    },
                    "url": {
                      "description": "This link is only good for 5 minutes and can only be used once",
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/contracts/{contractId}": {
      "delete": {
        "summary": "Void an account's contract by id",
        "tags": [
          "Contracts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "contractId",
            "required": true,
            "description": "The contract identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/documents": {
      "get": {
        "summary": "Fetch a list of documents",
        "tags": [
          "Documents"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeArchived",
            "required": false,
            "description": "If true archived documents will also be returned."
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "filter",
            "required": false,
            "description": "A list of document types to filter by."
          },
          {
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "in": "query",
            "name": "status",
            "required": false,
            "description": "A list of document statuses to filter by."
          },
          {
            "schema": {
              "default": "idAscending",
              "type": "string",
              "enum": [
                "idDescending",
                "idAscending"
              ]
            },
            "in": "query",
            "name": "sort",
            "required": false,
            "description": "The sort-order of how documents will be returned."
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "pending",
                          "approved",
                          "rejected"
                        ]
                      },
                      "archived": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "incomingDirectPayInvoice",
                          "dxf",
                          "planSet",
                          "shadeReport",
                          "permit",
                          "productionModel",
                          "incentiveDocuments",
                          "electricianSignOff",
                          "proofOfLoad",
                          "domesticContentDocuments",
                          "solarReadinessAdder",
                          "solarReadinessInvoice",
                          "invoice",
                          "billOfMaterials",
                          "fsmChecklist",
                          "measureQuickSystemVitals",
                          "bluetoothHVACTool",
                          "installContract",
                          "proofOfLoadHVAC",
                          "hvacInstallationPhotos",
                          "ahriCertificate",
                          "energyBackupInstallationPhotos",
                          "cslbDisclosure",
                          "puertoRicoDocuments",
                          "welcomeCall",
                          "onSitePhysicalSurvey",
                          "proofOfEquipment",
                          "contract",
                          "disclosure",
                          "supporting",
                          "utilityBill",
                          "voidedCheck",
                          "siteAssessment",
                          "completionOfConstruction",
                          "projectSite",
                          "roof",
                          "electrical",
                          "storage",
                          "systemCommissioning",
                          "staticPressure",
                          "indoorSystem",
                          "outdoorSystem",
                          "zoningSystem",
                          "thermostat",
                          "accessories",
                          "ptoConfirmation",
                          "extendedWarranty",
                          "incentives",
                          "netMeteringApproval",
                          "conditionalApproval",
                          "interconnectionAgreement",
                          "siteImprovements",
                          "identityVerification",
                          "titleVerification",
                          "cancellation",
                          "reactivation",
                          "flag",
                          "epcFeedback",
                          "salesAgreement",
                          "oemWarranty",
                          "oemWarrantyDocuments",
                          "extendedWarrantyDocuments",
                          "existingSystemPhotos"
                        ]
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "originalName": {
                              "type": "string"
                            },
                            "contentType": {
                              "type": "string"
                            },
                            "md5Hash": {
                              "type": "string"
                            },
                            "sizeKB": {
                              "type": "number"
                            },
                            "viewUrls": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "url": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "original",
                                      "preview",
                                      "gallery",
                                      "thumbnail"
                                    ]
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "meta": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create documents for an account",
        "tags": [
          "Documents"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "pending",
                          "approved",
                          "rejected"
                        ]
                      },
                      "archived": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "incomingDirectPayInvoice",
                          "dxf",
                          "planSet",
                          "shadeReport",
                          "permit",
                          "productionModel",
                          "incentiveDocuments",
                          "electricianSignOff",
                          "proofOfLoad",
                          "domesticContentDocuments",
                          "solarReadinessAdder",
                          "solarReadinessInvoice",
                          "invoice",
                          "billOfMaterials",
                          "fsmChecklist",
                          "measureQuickSystemVitals",
                          "bluetoothHVACTool",
                          "installContract",
                          "proofOfLoadHVAC",
                          "hvacInstallationPhotos",
                          "ahriCertificate",
                          "energyBackupInstallationPhotos",
                          "cslbDisclosure",
                          "puertoRicoDocuments",
                          "welcomeCall",
                          "onSitePhysicalSurvey",
                          "proofOfEquipment",
                          "contract",
                          "disclosure",
                          "supporting",
                          "utilityBill",
                          "voidedCheck",
                          "siteAssessment",
                          "completionOfConstruction",
                          "projectSite",
                          "roof",
                          "electrical",
                          "storage",
                          "systemCommissioning",
                          "staticPressure",
                          "indoorSystem",
                          "outdoorSystem",
                          "zoningSystem",
                          "thermostat",
                          "accessories",
                          "ptoConfirmation",
                          "extendedWarranty",
                          "incentives",
                          "netMeteringApproval",
                          "conditionalApproval",
                          "interconnectionAgreement",
                          "siteImprovements",
                          "identityVerification",
                          "titleVerification",
                          "cancellation",
                          "reactivation",
                          "flag",
                          "epcFeedback",
                          "salesAgreement",
                          "oemWarranty",
                          "oemWarrantyDocuments",
                          "extendedWarrantyDocuments",
                          "existingSystemPhotos"
                        ]
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "originalName": {
                              "type": "string"
                            },
                            "contentType": {
                              "type": "string"
                            },
                            "md5Hash": {
                              "type": "string"
                            },
                            "sizeKB": {
                              "type": "number"
                            },
                            "viewUrls": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "url": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "original",
                                      "preview",
                                      "gallery",
                                      "thumbnail"
                                    ]
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "meta": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "413": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/documents/{documentId}": {
      "delete": {
        "summary": "Archive an account's document by id",
        "tags": [
          "Documents"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "documentId",
            "required": true,
            "description": "The document identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Successfully deleted document"
          }
        }
      },
      "get": {
        "summary": "Find an account's document by id",
        "tags": [
          "Documents"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeArchived",
            "required": false,
            "description": "Will return an archived document, otherwise it archived documents will not be found."
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "documentId",
            "required": true,
            "description": "The document identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "applicationId": {
                      "type": "string"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "pending",
                        "approved",
                        "rejected"
                      ]
                    },
                    "archived": {
                      "type": "boolean"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "incomingDirectPayInvoice",
                        "dxf",
                        "planSet",
                        "shadeReport",
                        "permit",
                        "productionModel",
                        "incentiveDocuments",
                        "electricianSignOff",
                        "proofOfLoad",
                        "domesticContentDocuments",
                        "solarReadinessAdder",
                        "solarReadinessInvoice",
                        "invoice",
                        "billOfMaterials",
                        "fsmChecklist",
                        "measureQuickSystemVitals",
                        "bluetoothHVACTool",
                        "installContract",
                        "proofOfLoadHVAC",
                        "hvacInstallationPhotos",
                        "ahriCertificate",
                        "energyBackupInstallationPhotos",
                        "cslbDisclosure",
                        "puertoRicoDocuments",
                        "welcomeCall",
                        "onSitePhysicalSurvey",
                        "proofOfEquipment",
                        "contract",
                        "disclosure",
                        "supporting",
                        "utilityBill",
                        "voidedCheck",
                        "siteAssessment",
                        "completionOfConstruction",
                        "projectSite",
                        "roof",
                        "electrical",
                        "storage",
                        "systemCommissioning",
                        "staticPressure",
                        "indoorSystem",
                        "outdoorSystem",
                        "zoningSystem",
                        "thermostat",
                        "accessories",
                        "ptoConfirmation",
                        "extendedWarranty",
                        "incentives",
                        "netMeteringApproval",
                        "conditionalApproval",
                        "interconnectionAgreement",
                        "siteImprovements",
                        "identityVerification",
                        "titleVerification",
                        "cancellation",
                        "reactivation",
                        "flag",
                        "epcFeedback",
                        "salesAgreement",
                        "oemWarranty",
                        "oemWarrantyDocuments",
                        "extendedWarrantyDocuments",
                        "existingSystemPhotos"
                      ]
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "files": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "originalName": {
                            "type": "string"
                          },
                          "contentType": {
                            "type": "string"
                          },
                          "md5Hash": {
                            "type": "string"
                          },
                          "sizeKB": {
                            "type": "number"
                          },
                          "viewUrls": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "url": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "original",
                                    "preview",
                                    "gallery",
                                    "thumbnail"
                                  ]
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "meta": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "createdAt": {
                          "type": "string"
                        },
                        "updatedAt": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/documents/{documentId}/files/{*}": {
      "get": {
        "summary": "Find an account's document by id",
        "tags": [
          "Documents"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeArchived",
            "required": false,
            "description": "Will return an archived document, otherwise it archived documents will not be found."
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "download",
            "required": false,
            "description": "Sets headers so the file will be downloaded rather than displayed inline"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "documentId",
            "required": true,
            "description": "The document identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/accounts/{accountId}/install-package": {
      "post": {
        "summary": "Validates that the requirements for install package have been completed",
        "tags": [
          "installPackage"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": false,
                "type": "object",
                "required": [
                  "action"
                ],
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "edit",
                      "create",
                      "review"
                    ],
                    "description": "Type of install package submission. Review is for Palmetto Finance use only"
                  },
                  "reviewStatus": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected"
                    ],
                    "description": "Status of install package submission (for Palmetto Finance use only)"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "pending",
                          "approved",
                          "rejected"
                        ]
                      },
                      "archived": {
                        "type": "boolean"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "incomingDirectPayInvoice",
                          "dxf",
                          "planSet",
                          "shadeReport",
                          "permit",
                          "productionModel",
                          "incentiveDocuments",
                          "electricianSignOff",
                          "proofOfLoad",
                          "domesticContentDocuments",
                          "solarReadinessAdder",
                          "solarReadinessInvoice",
                          "invoice",
                          "billOfMaterials",
                          "fsmChecklist",
                          "measureQuickSystemVitals",
                          "bluetoothHVACTool",
                          "installContract",
                          "proofOfLoadHVAC",
                          "hvacInstallationPhotos",
                          "ahriCertificate",
                          "energyBackupInstallationPhotos",
                          "cslbDisclosure",
                          "puertoRicoDocuments",
                          "welcomeCall",
                          "onSitePhysicalSurvey",
                          "proofOfEquipment",
                          "contract",
                          "disclosure",
                          "supporting",
                          "utilityBill",
                          "voidedCheck",
                          "siteAssessment",
                          "completionOfConstruction",
                          "projectSite",
                          "roof",
                          "electrical",
                          "storage",
                          "systemCommissioning",
                          "staticPressure",
                          "indoorSystem",
                          "outdoorSystem",
                          "zoningSystem",
                          "thermostat",
                          "accessories",
                          "ptoConfirmation",
                          "extendedWarranty",
                          "incentives",
                          "netMeteringApproval",
                          "conditionalApproval",
                          "interconnectionAgreement",
                          "siteImprovements",
                          "identityVerification",
                          "titleVerification",
                          "cancellation",
                          "reactivation",
                          "flag",
                          "epcFeedback",
                          "salesAgreement",
                          "oemWarranty",
                          "oemWarrantyDocuments",
                          "extendedWarrantyDocuments",
                          "existingSystemPhotos"
                        ]
                      },
                      "externalReference": {
                        "type": "string"
                      },
                      "files": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "originalName": {
                              "type": "string"
                            },
                            "contentType": {
                              "type": "string"
                            },
                            "md5Hash": {
                              "type": "string"
                            },
                            "sizeKB": {
                              "type": "number"
                            },
                            "viewUrls": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "url": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "original",
                                      "preview",
                                      "gallery",
                                      "thumbnail"
                                    ]
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "meta": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "createdAt": {
                            "type": "string"
                          },
                          "updatedAt": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/pricing": {
      "get": {
        "summary": "DEPRECATED: Update to use the /api/v3/accounts/:accountId/pricing endpoint",
        "tags": [
          "Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "arbitrageBatteryIncluded",
            "required": false,
            "description": "True if arbitrage battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "programType"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "solar"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/pricing/price-caps/{productType}": {
      "get": {
        "summary": "Fetch an account's available products and services price caps",
        "tags": [
          "Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "arbitrageBattery",
                "backupBattery"
              ]
            },
            "in": "path",
            "name": "productType",
            "required": true,
            "description": "The product type"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "manufacturer",
                      "model",
                      "maxPrice"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "manufacturer": {
                        "type": "string"
                      },
                      "model": {
                        "type": "string"
                      },
                      "maxPrice": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/pricing/{financeProductId}": {
      "get": {
        "summary": "DEPRECATED: Update to use the /api/v3/accounts/:accountId/pricing/:financeProductId endpoint",
        "tags": [
          "Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "arbitrageBatteryIncluded",
            "required": false,
            "description": "True if arbitrage battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "financeProductId",
            "required": true,
            "description": "The finance product identifier for which to load pricing"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "programType"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "solar"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/property-reports": {
      "get": {
        "summary": "Get the results of property title verification associated with the account",
        "tags": [
          "Property Reports"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeReportDetails",
            "required": false,
            "description": "If true, the property details report will be included in the response"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "applicationId": {
                        "type": "string"
                      },
                      "parcelProvider": {
                        "type": "string"
                      },
                      "response": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "Reports": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "Data": {
                                  "type": "object",
                                  "additionalProperties": true
                                },
                                "LitePropertyList": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": true
                                  }
                                },
                                "MaxResultsCount": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "StatusDescription": {
                                  "type": "string"
                                },
                                "message": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      },
                      "result": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "applicantMentionedAsOwner": {
                            "type": "boolean"
                          },
                          "applicantName": {
                            "type": "string"
                          },
                          "ownerNamesOnParcel": {
                            "type": "string"
                          },
                          "propertyInExpectedLocation": {
                            "type": "boolean"
                          },
                          "distanceBetween": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "manualVerificationRequired",
                              "unverified",
                              "verified"
                            ]
                          }
                        }
                      },
                      "createdAt": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/quotes": {
      "get": {
        "summary": "Fetch an account's quotes",
        "tags": [
          "Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "systemPricingDetails",
                      "status",
                      "systemFirstYearProductionKwh",
                      "productId",
                      "kwhPrice",
                      "totalSystemCost",
                      "pricePerWatt",
                      "totalAmountPaid"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "productId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string",
                        "description": "A friendly identifier set by your system to identify the Quote"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ]
                      },
                      "systemFirstYearProductionKwh": {
                        "type": "number",
                        "minimum": 0,
                        "description": "Estimated first year production in kWh"
                      },
                      "systemSizeKw": {
                        "type": "number",
                        "minimum": 0,
                        "description": "system size in kilowatts"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The factor at which the rate escalates on an annual basis"
                      },
                      "kwhPrice": {
                        "type": "number",
                        "minimum": 0,
                        "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                      },
                      "totalSystemCost": {
                        "type": "number",
                        "minimum": 0
                      },
                      "pricePerWatt": {
                        "type": "number",
                        "minimum": 0
                      },
                      "productName": {
                        "type": "string",
                        "description": "The name of the Finance Product selected."
                      },
                      "preConAdderCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of pre-construction adders included in the totalSystemCost."
                      },
                      "systemPricingDetails": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "estimatedAnnualProduction",
                            "guaranteedAnnualProduction"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the given year"
                            },
                            "estimatedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The estimated annual production for the given year"
                            },
                            "guaranteedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The production guarantee for the given year"
                            },
                            "yearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year"
                            },
                            "kwhRate": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The kilowatt hour rate (kWh) paid for the given year"
                            }
                          }
                        }
                      },
                      "totalAmountPaid": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total amount paid over the lifetime of the lease agreement"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "contracted",
                          "voided"
                        ]
                      },
                      "contractId": {
                        "type": "string"
                      },
                      "adders": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "description": "The adders included in the quote"
                      },
                      "effectivePPWRate": {
                        "type": "number",
                        "description": "The effective price per watt rate including battery cost (if applicable)"
                      },
                      "effectivePPWRateWithoutDomesticContent": {
                        "type": "number",
                        "description": "The effective price per watt rate without domestic content"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new quote",
        "tags": [
          "Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "An friendly Id set by your system to identify the Quote"
                  },
                  "arbitrageBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if arbitrage battery is included"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into consideration if available for the given account"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/quotes/{quoteId}": {
      "get": {
        "summary": "Fetch an account's quote by quote id",
        "tags": [
          "Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Void an existing quote",
        "tags": [
          "Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/quotes/custom": {
      "post": {
        "summary": "DEPRECATED: Please use the /v3/accounts/:accountId/quotes/custom endpoint to create a custom priced quote",
        "tags": [
          "Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "kwhRate",
                  "firstYearMonthlyPayment",
                  "pricePerWatt",
                  "escalationRate"
                ],
                "properties": {
                  "kwhRate": {
                    "type": "number",
                    "minimum": 0
                  },
                  "firstYearMonthlyPayment": {
                    "type": "number",
                    "minimum": 0
                  },
                  "pricePerWatt": {
                    "type": "number",
                    "minimum": 0
                  },
                  "escalationRate": {
                    "type": "number",
                    "minimum": 0
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "An friendly Id set by your system to identify the Quote"
                  },
                  "arbitrageBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if arbitrage battery is included"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "monthlyPaymentSchedule": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "year",
                        "kwhRate",
                        "monthlyPayment",
                        "estimatedAnnualProduction",
                        "guaranteedAnnualProduction"
                      ],
                      "properties": {
                        "year": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The year of the agreement"
                        },
                        "kwhRate": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The kilowatt hour rate (kWh) paid for the given year"
                        },
                        "monthlyPayment": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monthly payment for the given year"
                        },
                        "estimatedAnnualProduction": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The estimated annual production for the given year"
                        },
                        "guaranteedAnnualProduction": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The production guarantee for the given year"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/stipulations": {
      "get": {
        "summary": "Returns a list of requirements that must be satisfied for an account.",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "stipulationType": {
                        "type": "string",
                        "enum": [
                          "administrative",
                          "designVerification"
                        ],
                        "description": "The type of stipulation"
                      },
                      "accountMilestoneType": {
                        "type": "string",
                        "description": "The type of milestone this stipulation is associated with"
                      },
                      "id": {
                        "type": "string",
                        "description": "The unique identifier for the stipulation"
                      },
                      "accountId": {
                        "type": "string",
                        "description": "The account identifier"
                      },
                      "appliedBy": {
                        "type": "string",
                        "description": "The id of the user to applied the stipulation"
                      },
                      "appliedByDisplayName": {
                        "type": "string",
                        "description": "The name of the user to applied the stipulation"
                      },
                      "appliedDate": {
                        "type": "string",
                        "format": "date-time",
                        "description": "The date the stipulation was applied"
                      },
                      "description": {
                        "type": "string",
                        "description": "Detailed description of what is need to satisfy the stipulation"
                      },
                      "isSatisfied": {
                        "type": "boolean",
                        "default": false
                      },
                      "isSatisfiedNote": {
                        "type": "string",
                        "description": "An optional note about how the stipulation was satisfied"
                      },
                      "requiresReview": {
                        "type": "boolean",
                        "default": false,
                        "description": "Requires manual review to satisfy"
                      },
                      "reason": {
                        "type": "string",
                        "enum": [
                          "Account Details",
                          "Consumer Compliance",
                          "Housing Stock",
                          "Customer Action Required",
                          "Age Related",
                          "Potential OFAC Match",
                          "Other"
                        ],
                        "description": "An optional reason for the stipulation"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Creates a new stipulation by type for an account",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "stipulationType",
                  "description"
                ],
                "properties": {
                  "stipulationType": {
                    "type": "string",
                    "enum": [
                      "administrative",
                      "designVerification"
                    ],
                    "description": "The type of stipulation supported by this endpoint"
                  },
                  "description": {
                    "type": "string",
                    "description": "Detailed description of what is need to satisfy the stipulation"
                  },
                  "isSatisfied": {
                    "type": "boolean",
                    "default": false
                  },
                  "requiresReview": {
                    "type": "boolean",
                    "default": false,
                    "description": "Requires manual review to satisfy"
                  },
                  "reason": {
                    "type": "string",
                    "enum": [
                      "Account Details",
                      "Consumer Compliance",
                      "Housing Stock",
                      "Customer Action Required",
                      "Age Related",
                      "Potential OFAC Match",
                      "Other"
                    ],
                    "description": "An optional reason for the stipulation"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "stipulationType": {
                      "type": "string",
                      "enum": [
                        "administrative",
                        "designVerification"
                      ],
                      "description": "The type of stipulation supported by this endpoint"
                    },
                    "accountMilestoneType": {
                      "type": "string",
                      "description": "The type of milestone this stipulation is associated with"
                    },
                    "id": {
                      "type": "string",
                      "description": "The unique identifier for the stipulation"
                    },
                    "accountId": {
                      "type": "string",
                      "description": "The account identifier"
                    },
                    "appliedBy": {
                      "type": "string",
                      "description": "The id of the user to applied the stipulation"
                    },
                    "appliedByDisplayName": {
                      "type": "string",
                      "description": "The name of the user to applied the stipulation"
                    },
                    "appliedDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "The date the stipulation was applied"
                    },
                    "description": {
                      "type": "string",
                      "description": "Detailed description of what is need to satisfy the stipulation"
                    },
                    "isSatisfied": {
                      "type": "boolean",
                      "default": false
                    },
                    "isSatisfiedNote": {
                      "type": "string",
                      "description": "An optional note about how the stipulation was satisfied"
                    },
                    "requiresReview": {
                      "type": "boolean",
                      "default": false,
                      "description": "Requires manual review to satisfy"
                    },
                    "reason": {
                      "type": "string",
                      "enum": [
                        "Account Details",
                        "Consumer Compliance",
                        "Housing Stock",
                        "Customer Action Required",
                        "Age Related",
                        "Potential OFAC Match",
                        "Other"
                      ],
                      "description": "An optional reason for the stipulation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update a stipulation by type for an account. Please consider using the PATCH /api/accounts/:accountId/stipulations/:id endpoint instead.",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "stipulationType"
                ],
                "properties": {
                  "stipulationType": {
                    "type": "string",
                    "enum": [
                      "designVerification"
                    ],
                    "description": "The type of stipulation that is supported by this endpoint."
                  },
                  "description": {
                    "type": "string",
                    "description": "Detailed description of what is need to satisfy the stipulation"
                  },
                  "isSatisfied": {
                    "type": "boolean",
                    "default": false
                  },
                  "isSatisfiedNote": {
                    "type": "string",
                    "description": "An optional note about how the stipulation was satisfied"
                  },
                  "requiresReview": {
                    "type": "boolean",
                    "default": false,
                    "description": "Requires manual review to satisfy"
                  },
                  "reason": {
                    "type": "string",
                    "enum": [
                      "Account Details",
                      "Consumer Compliance",
                      "Housing Stock",
                      "Customer Action Required",
                      "Age Related",
                      "Potential OFAC Match",
                      "Other"
                    ],
                    "description": "An optional reason for the stipulation"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "stipulationType": {
                      "type": "string",
                      "enum": [
                        "administrative",
                        "designVerification"
                      ],
                      "description": "The type of stipulation supported by this endpoint"
                    },
                    "accountMilestoneType": {
                      "type": "string",
                      "description": "The type of milestone this stipulation is associated with"
                    },
                    "id": {
                      "type": "string",
                      "description": "The unique identifier for the stipulation"
                    },
                    "accountId": {
                      "type": "string",
                      "description": "The account identifier"
                    },
                    "appliedBy": {
                      "type": "string",
                      "description": "The id of the user to applied the stipulation"
                    },
                    "appliedByDisplayName": {
                      "type": "string",
                      "description": "The name of the user to applied the stipulation"
                    },
                    "appliedDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "The date the stipulation was applied"
                    },
                    "description": {
                      "type": "string",
                      "description": "Detailed description of what is need to satisfy the stipulation"
                    },
                    "isSatisfied": {
                      "type": "boolean",
                      "default": false
                    },
                    "isSatisfiedNote": {
                      "type": "string",
                      "description": "An optional note about how the stipulation was satisfied"
                    },
                    "requiresReview": {
                      "type": "boolean",
                      "default": false,
                      "description": "Requires manual review to satisfy"
                    },
                    "reason": {
                      "type": "string",
                      "enum": [
                        "Account Details",
                        "Consumer Compliance",
                        "Housing Stock",
                        "Customer Action Required",
                        "Age Related",
                        "Potential OFAC Match",
                        "Other"
                      ],
                      "description": "An optional reason for the stipulation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/stipulations/{id}": {
      "patch": {
        "summary": "Update a stipulation by id for an account",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "stipulationType",
                  "isSatisfied"
                ],
                "properties": {
                  "stipulationType": {
                    "type": "string",
                    "enum": [
                      "administrative",
                      "designVerification"
                    ],
                    "description": "The type of stipulation supported by this endpoint"
                  },
                  "isSatisfied": {
                    "type": "boolean"
                  },
                  "isSatisfiedNote": {
                    "type": "string",
                    "description": "An optional note about how the stipulation was satisfied"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "id",
            "required": true,
            "description": "The stipulation identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "stipulationType": {
                      "type": "string",
                      "enum": [
                        "administrative",
                        "designVerification"
                      ],
                      "description": "The type of stipulation supported by this endpoint"
                    },
                    "accountMilestoneType": {
                      "type": "string",
                      "description": "The type of milestone this stipulation is associated with"
                    },
                    "id": {
                      "type": "string",
                      "description": "The unique identifier for the stipulation"
                    },
                    "accountId": {
                      "type": "string",
                      "description": "The account identifier"
                    },
                    "appliedBy": {
                      "type": "string",
                      "description": "The id of the user to applied the stipulation"
                    },
                    "appliedByDisplayName": {
                      "type": "string",
                      "description": "The name of the user to applied the stipulation"
                    },
                    "appliedDate": {
                      "type": "string",
                      "format": "date-time",
                      "description": "The date the stipulation was applied"
                    },
                    "description": {
                      "type": "string",
                      "description": "Detailed description of what is need to satisfy the stipulation"
                    },
                    "isSatisfied": {
                      "type": "boolean",
                      "default": false
                    },
                    "isSatisfiedNote": {
                      "type": "string",
                      "description": "An optional note about how the stipulation was satisfied"
                    },
                    "requiresReview": {
                      "type": "boolean",
                      "default": false,
                      "description": "Requires manual review to satisfy"
                    },
                    "reason": {
                      "type": "string",
                      "enum": [
                        "Account Details",
                        "Consumer Compliance",
                        "Housing Stock",
                        "Customer Action Required",
                        "Age Related",
                        "Potential OFAC Match",
                        "Other"
                      ],
                      "description": "An optional reason for the stipulation"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications/{applicationId}/stipulations/{stipulationType}": {
      "post": {
        "summary": "Creates a new stipulation document for an account and application",
        "tags": [
          "Applications"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "applicationId",
            "required": true,
            "description": "The application identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "stipulationType",
            "required": true,
            "description": "The stipulation type the document will resolve"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design": {
      "post": {
        "summary": "Add the detailed design specifications for a solar PV System to an account",
        "tags": [
          "System Designs"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "systemFirstYearProductionKwh",
                  "systemSizeKw"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "format": "ObjectId"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0
                  },
                  "inverterManufacturer": {
                    "deprecated": true,
                    "type": "string",
                    "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                  },
                  "inverterModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "inverterCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "mountingModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "totalMountingCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "storageManufacturer": {
                    "deprecated": true,
                    "type": "string",
                    "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                  },
                  "storageModel": {
                    "type": "string",
                    "deprecated": true
                  },
                  "totalStorageCount": {
                    "type": "number",
                    "minimum": 0,
                    "deprecated": true
                  },
                  "inverters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "manufacturer": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "model": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "count": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "vintage": {
                          "type": [
                            "null",
                            "string"
                          ]
                        }
                      }
                    }
                  },
                  "panelManufacturer": {
                    "type": "string",
                    "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                  },
                  "panelModel": {
                    "type": "string"
                  },
                  "panelVintage": {
                    "type": "string"
                  },
                  "totalPanelCount": {
                    "type": "number",
                    "minimum": 0
                  },
                  "mountingType": {
                    "type": "string"
                  },
                  "mountingManufacturer": {
                    "type": "string",
                    "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                  },
                  "mountingHardware": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "mountingHardwareModels"
                      ],
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "mountingHardwareModels": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "manufacturer",
                              "category",
                              "sku"
                            ],
                            "properties": {
                              "manufacturer": {
                                "type": "string"
                              },
                              "category": {
                                "type": "string"
                              },
                              "sku": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "storage": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "manufacturer": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "model": {
                          "type": [
                            "null",
                            "string"
                          ]
                        },
                        "count": {
                          "type": [
                            "null",
                            "number"
                          ]
                        },
                        "vintage": {
                          "type": [
                            "null",
                            "string"
                          ]
                        }
                      }
                    }
                  },
                  "annualConsumption": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "month",
                        "consumption"
                      ],
                      "properties": {
                        "month": {
                          "type": "number"
                        },
                        "consumption": {
                          "type": "number"
                        }
                      }
                    },
                    "deprecated": true
                  },
                  "arrays": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "panelCount": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The number of panels in this single array"
                        },
                        "orientation": {
                          "oneOf": [
                            {
                              "type": "string",
                              "enum": [
                                "landscape",
                                "portrait",
                                "combination"
                              ],
                              "description": "The orientation of the panels in the array: landscape, portrait, combination"
                            },
                            {
                              "type": "null"
                            }
                          ],
                          "deprecated": true
                        },
                        "tilt": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The tilt from horizontal of the panels in the array"
                        },
                        "azimuth": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The direction in degrees of the array"
                        },
                        "annualTSRF": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The annual total solar access fraction"
                        },
                        "monthlySolarAccess": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "month",
                              "accessPercent"
                            ],
                            "properties": {
                              "month": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 12,
                                "description": "The month 1-12"
                              },
                              "accessPercent": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The monthly solar access percent"
                              }
                            }
                          },
                          "minItems": 0,
                          "maxItems": 12,
                          "description": "All 12 months are required"
                        },
                        "size": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The total size of the array in Watts"
                        },
                        "inverter": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The inverter index starting with 0 in the inverters array"
                        }
                      }
                    }
                  },
                  "firstYearMonthlyProductionKwh": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [],
                      "properties": {
                        "month": {
                          "type": "number",
                          "description": "The month 1-12",
                          "minimum": 1,
                          "maximum": 12
                        },
                        "productionKwh": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monthly production in Kwh"
                        }
                      }
                    },
                    "minItems": 0,
                    "maxItems": 12,
                    "description": "All 12 months are required"
                  },
                  "totalStorageCapacityKwh": {
                    "type": "number",
                    "minimum": 0
                  },
                  "toleranceException": {
                    "type": "object",
                    "nullable": true,
                    "properties": {
                      "note": {
                        "type": "string"
                      },
                      "exceptionGivenBy": {
                        "type": "string",
                        "nullable": true,
                        "description": "The user who provided the exception"
                      }
                    }
                  },
                  "attestment": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "required": [
                      "attestmentText"
                    ],
                    "description": "Optional object that attests the range is as expected.",
                    "properties": {
                      "attestmentText": {
                        "type": "string",
                        "description": "The attestment text attached to the attestment action."
                      }
                    }
                  },
                  "domesticContentAttestment": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "required": [
                      "valueConfirmation"
                    ],
                    "description": "Optional object that attests the domestic content value confirmation.",
                    "properties": {
                      "valueConfirmation": {
                        "type": "boolean",
                        "description": "The affirmation or denial (opt-out) of domestic content."
                      },
                      "resubmission": {
                        "type": "boolean",
                        "description": "If this is a resubmission of a domestic content attestment."
                      },
                      "attestmentType": {
                        "type": "string",
                        "enum": [
                          "pvOnly",
                          "storageOnly",
                          "pvAndStorage",
                          "optOut"
                        ],
                        "description": "The type of the domestic content attestment (including opt-out)."
                      }
                    }
                  },
                  "domesticContentQualification": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "result": {
                        "type": "object",
                        "properties": {
                          "pvQualified": {
                            "type": "boolean"
                          },
                          "pvTotalPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryQualified": {
                            "type": "boolean"
                          },
                          "batteryPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "inverterPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSplicePercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  },
                  "itcQualification": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "result": {
                        "type": "object",
                        "properties": {
                          "pvQualified": {
                            "type": "boolean"
                          },
                          "pvTotalPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryQualified": {
                            "type": "boolean"
                          },
                          "batteryPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "inverterPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSplicePercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "safeHarborYear": {
                            "type": "number",
                            "minimum": 2025
                          },
                          "pvFeocQualified": {
                            "type": "boolean"
                          },
                          "batteryFeocQualified": {
                            "type": "boolean"
                          },
                          "inverterFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingTotalFastenerPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingTotalFastenerFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvTotalFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "pvSystemFeocPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryFeocPercentageThreshold": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "panelFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingRailFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingFastenerFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingClampFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingSpliceFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "rackingBonusFeocPercentage": {
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "batteryIncluded": {
                            "type": "boolean"
                          },
                          "feocExceptionGranted": {
                            "type": "boolean"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design/current": {
      "get": {
        "summary": "Get the details of the current solar system design for the account",
        "tags": [
          "System Designs"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "accountId": {
                      "type": "string"
                    },
                    "systemFirstYearProductionKwh": {
                      "type": [
                        "null",
                        "number"
                      ]
                    },
                    "systemSizeKw": {
                      "type": [
                        "null",
                        "number"
                      ]
                    },
                    "asBuiltSystemSizeKw": {
                      "type": [
                        "null",
                        "number"
                      ]
                    },
                    "inverters": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "manufacturer": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "model": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "count": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "vintage": {
                            "type": [
                              "null",
                              "string"
                            ]
                          }
                        }
                      }
                    },
                    "inverterManufacturer": {
                      "deprecated": true,
                      "type": [
                        "null",
                        "string"
                      ],
                      "description": "Supported inverter manufacturers: SolarEdge, Enphase, Generac, Tesla, Tigo"
                    },
                    "inverterModel": {
                      "type": [
                        "null",
                        "string"
                      ],
                      "deprecated": true
                    },
                    "inverterCount": {
                      "type": [
                        "null",
                        "number"
                      ],
                      "deprecated": true
                    },
                    "panelManufacturer": {
                      "type": [
                        "null",
                        "string"
                      ],
                      "description": "Supported panel manufacturers: CSI Solar (Canadian Solar), Hyundai Energy Solutions, JA Solar, Jinko Solar, LONGi, Qcells, REC Solar, Silfab Solar, Trina Solar, VSUN, Mission Solar Energy, Panasonic, ZNShine Solar, SEG Solar"
                    },
                    "panelModel": {
                      "type": [
                        "null",
                        "string"
                      ]
                    },
                    "totalPanelCount": {
                      "type": [
                        "null",
                        "number"
                      ]
                    },
                    "arrays": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "panelCount": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The number of panels in this single array"
                          },
                          "orientation": {
                            "oneOf": [
                              {
                                "type": "string",
                                "enum": [
                                  "landscape",
                                  "portrait",
                                  "combination"
                                ],
                                "description": "The orientation of the panels in the array: landscape, portrait, combination"
                              },
                              {
                                "type": "null"
                              }
                            ],
                            "deprecated": true
                          },
                          "tilt": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The tilt from horizontal of the panels in the array"
                          },
                          "azimuth": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The direction in degrees of the array"
                          },
                          "annualTSRF": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The annual total solar access fraction"
                          },
                          "monthlySolarAccess": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "accessPercent"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "minimum": 1,
                                  "maximum": 12,
                                  "description": "The month 1-12"
                                },
                                "accessPercent": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly solar access percent"
                                }
                              }
                            },
                            "minItems": 0,
                            "maxItems": 12,
                            "description": "All 12 months are required"
                          },
                          "size": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total size of the array in Watts"
                          },
                          "inverter": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The inverter index starting with 0 in the inverters array"
                          }
                        }
                      }
                    },
                    "firstYearMonthlyProductionKwh": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "month": {
                            "type": "number",
                            "description": "The month 1-12",
                            "minimum": 1,
                            "maximum": 12
                          },
                          "productionKwh": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly production in Kwh"
                          }
                        }
                      },
                      "minItems": 0,
                      "maxItems": 12,
                      "description": "All 12 months are required"
                    },
                    "mountingType": {
                      "type": [
                        "null",
                        "string"
                      ]
                    },
                    "mountingManufacturer": {
                      "type": [
                        "null",
                        "string"
                      ],
                      "description": "Supported mounting manufacturers: IronRidge, Unirac, SnapNRack, K2, EcoFasten, Roof Tech, Pegasus, S-5!, QuickMount"
                    },
                    "mountingModel": {
                      "type": [
                        "null",
                        "string"
                      ],
                      "deprecated": true
                    },
                    "totalMountingCount": {
                      "type": [
                        "null",
                        "number"
                      ],
                      "deprecated": true
                    },
                    "storage": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "manufacturer": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "model": {
                            "type": [
                              "null",
                              "string"
                            ]
                          },
                          "count": {
                            "type": [
                              "null",
                              "number"
                            ]
                          },
                          "vintage": {
                            "type": [
                              "null",
                              "string"
                            ]
                          }
                        }
                      }
                    },
                    "storageManufacturer": {
                      "deprecated": true,
                      "type": [
                        "null",
                        "string"
                      ],
                      "description": "Supported storage manufacturers: SolarEdge, Tesla, Enphase, Generac"
                    },
                    "storageModel": {
                      "type": [
                        "null",
                        "string"
                      ],
                      "deprecated": true
                    },
                    "totalStorageCount": {
                      "type": [
                        "null",
                        "number"
                      ],
                      "deprecated": true
                    },
                    "totalStorageCapacityKwh": {
                      "type": [
                        "null",
                        "number"
                      ]
                    },
                    "attestment": {
                      "type": "object",
                      "nullable": true,
                      "required": [
                        "attestmentText"
                      ],
                      "description": "Optional object that attests the range is as expected.",
                      "properties": {
                        "attestmentText": {
                          "type": "string",
                          "description": "The attestment text attached to the attestment action."
                        }
                      }
                    },
                    "isActive": {
                      "type": "boolean"
                    },
                    "isCurrent": {
                      "type": "boolean"
                    },
                    "isApproved": {
                      "type": "boolean"
                    },
                    "toleranceException": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "note": {
                          "type": "string",
                          "nullable": true
                        },
                        "exceptionGivenBy": {
                          "type": "string",
                          "nullable": true,
                          "description": "The user who provided the exception"
                        }
                      }
                    },
                    "equipment": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "type": {
                            "type": "string",
                            "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "model": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          },
                          "productId": {
                            "type": "string",
                            "description": "Id from the LightReach Product Catalog"
                          },
                          "serialNumbers": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                          }
                        }
                      }
                    },
                    "installKits": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "discounts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "name",
                          "cost"
                        ],
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "nullable": true
                    },
                    "mountingHardware": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "mountingHardwareModels"
                        ],
                        "properties": {
                          "type": {
                            "type": "string"
                          },
                          "mountingHardwareModels": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "manufacturer",
                                "category",
                                "sku"
                              ],
                              "properties": {
                                "manufacturer": {
                                  "type": "string"
                                },
                                "category": {
                                  "type": "string"
                                },
                                "sku": {
                                  "type": "string"
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "domesticContentAttestment": {
                      "type": "object",
                      "additionalProperties": false,
                      "nullable": true,
                      "required": [
                        "valueConfirmation"
                      ],
                      "description": "Optional object that attests the domestic content value confirmation.",
                      "properties": {
                        "valueConfirmation": {
                          "type": "boolean",
                          "description": "The affirmation or denial (opt-out) of domestic content."
                        },
                        "resubmission": {
                          "type": "boolean",
                          "description": "If this is a resubmission of a domestic content attestment."
                        },
                        "attestmentType": {
                          "type": "string",
                          "enum": [
                            "pvOnly",
                            "storageOnly",
                            "pvAndStorage",
                            "optOut"
                          ],
                          "description": "The type of the domestic content attestment (including opt-out)."
                        }
                      }
                    },
                    "domesticContentQualification": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "result": {
                          "type": "object",
                          "properties": {
                            "pvQualified": {
                              "type": "boolean"
                            },
                            "pvTotalPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "pvSystemPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryQualified": {
                              "type": "boolean"
                            },
                            "batteryPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "panelPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "inverterPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingRailPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingFastenerPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingClampPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingSplicePercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingBonusPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "problems": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "annualConsumption": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "month",
                          "consumption"
                        ],
                        "properties": {
                          "month": {
                            "type": "number"
                          },
                          "consumption": {
                            "type": "number"
                          }
                        }
                      },
                      "deprecated": true
                    },
                    "itcQualification": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "result": {
                          "type": "object",
                          "properties": {
                            "pvQualified": {
                              "type": "boolean"
                            },
                            "pvTotalPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "pvSystemPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryQualified": {
                              "type": "boolean"
                            },
                            "batteryPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "panelPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "inverterPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingRailPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingFastenerPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingClampPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingSplicePercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingBonusPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "problems": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "safeHarborYear": {
                              "type": "number",
                              "minimum": 2025
                            },
                            "pvFeocQualified": {
                              "type": "boolean"
                            },
                            "batteryFeocQualified": {
                              "type": "boolean"
                            },
                            "inverterFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingTotalFastenerPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingTotalFastenerFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "pvTotalFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "pvSystemFeocPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryFeocPercentageThreshold": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "panelFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingRailFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingFastenerFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingClampFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingSpliceFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "rackingBonusFeocPercentage": {
                              "type": "number",
                              "minimum": 0,
                              "maximum": 100
                            },
                            "batteryIncluded": {
                              "type": "boolean"
                            },
                            "feocExceptionGranted": {
                              "type": "boolean"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design/hvac": {
      "post": {
        "summary": "Add the detailed design specifications for HVAC System to an account",
        "tags": [
          "System Designs"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "equipment"
                    ],
                    "properties": {
                      "equipment": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                            },
                            "name": {
                              "type": "string"
                            },
                            "manufacturer": {
                              "type": "string"
                            },
                            "model": {
                              "type": "string"
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            },
                            "productId": {
                              "type": "string",
                              "description": "Id from the LightReach Product Catalog"
                            },
                            "serialNumbers": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              },
                              "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                            }
                          }
                        }
                      },
                      "installKits": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        },
                        "nullable": true
                      },
                      "services": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        },
                        "nullable": true
                      },
                      "discounts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "name",
                            "cost"
                          ],
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        },
                        "nullable": true
                      },
                      "ahriNumber": {
                        "type": "string",
                        "nullable": true,
                        "description": "AHRI number for the system"
                      }
                    }
                  },
                  {
                    "if": {
                      "type": "object",
                      "required": [
                        "isPreliminary"
                      ],
                      "properties": {
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "then": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems",
                        "isPreliminary"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "size": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "unit": {
                                              "type": "string",
                                              "nullable": true
                                            },
                                            "value": {
                                              "type": "string",
                                              "nullable": true
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                              "unit": {
                                                "type": "string",
                                                "nullable": true
                                              },
                                              "value": {
                                                "type": "string",
                                                "nullable": true
                                              }
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning"
                                          ]
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "else": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "nullable": true,
                                "description": "AHRI number for the system"
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "model": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "size": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "unit": {
                                                "type": "string"
                                              },
                                              "value": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning",
                                            "zoneBoard",
                                            "zoneDamper",
                                            "bypassDamper"
                                          ]
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "manufacturer": {
                                "type": "string",
                                "enum": [
                                  "Trane",
                                  "American Standard",
                                  "Run-Tru",
                                  "Ameristar",
                                  "Daikin",
                                  "Goodman",
                                  "Amana",
                                  "Samsung",
                                  "Mitsubishi Electric",
                                  "Lennox",
                                  "Carrier",
                                  "Bryant",
                                  "Rheem",
                                  "Fujitsu",
                                  "Bosch",
                                  "York",
                                  "LG",
                                  "Gree"
                                ],
                                "description": "The OEM manufacturer of the main HVAC equipment being installed."
                              },
                              "efficiencies": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "seer2": {
                                    "type": "string"
                                  },
                                  "hspf2": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [false]
                        }
                      }
                    }
                  }
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design/hvac/current": {
      "get": {
        "summary": "Get the details of the current HVAC system design for the account",
        "tags": [
          "System Designs"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "accountId": {
                      "type": "string"
                    },
                    "isCurrent": {
                      "type": "boolean"
                    },
                    "equipment": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "type": {
                            "type": "string",
                            "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "model": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          },
                          "productId": {
                            "type": "string",
                            "description": "Id from the LightReach Product Catalog"
                          },
                          "serialNumbers": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                          }
                        }
                      }
                    },
                    "installKits": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "nullable": true
                    },
                    "services": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "nullable": true
                    },
                    "discounts": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "name",
                          "cost"
                        ],
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "nullable": true
                    },
                    "ahriNumber": {
                      "type": "string",
                      "description": "AHRI number for the system",
                      "nullable": true
                    }
                  },
                  "if": {
                    "properties": {
                      "isPreliminary": {
                        "enum": [true]
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "accountId": {
                        "type": "string"
                      },
                      "isCurrent": {
                        "type": "boolean"
                      },
                      "systems": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "systemCategory",
                            "conditionedArea",
                            "equipment"
                          ],
                          "properties": {
                            "systemCategory": {
                              "type": "string",
                              "enum": [
                                "Conventional Ducted Split System",
                                "Conventional Ducted System",
                                "Package",
                                "Ductless Mini Split",
                                "Ducted Mini Split",
                                "Heat Pump Split System",
                                "Gas Conventional Split System",
                                "Dual Fuel Split System",
                                "Packaged Heat Pump",
                                "Packaged Gas/Electric",
                                "Packaged Dual Fuel",
                                "Single Zone Mini Split",
                                "Multi Zone Mini Split",
                                "Air Conditioning/Air Handler Split System"
                              ]
                            },
                            "conditionedArea": {
                              "type": "number",
                              "minimum": 0
                            },
                            "name": {
                              "type": "string",
                              "nullable": true
                            },
                            "equipment": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "quantity"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "size": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "unit": {
                                            "type": "string",
                                            "nullable": true
                                          },
                                          "value": {
                                            "type": "string",
                                            "nullable": true
                                          }
                                        },
                                        "nullable": true
                                      },
                                      "efficiencies": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "unit": {
                                              "type": "string",
                                              "nullable": true
                                            },
                                            "value": {
                                              "type": "string",
                                              "nullable": true
                                            }
                                          }
                                        },
                                        "nullable": true
                                      },
                                      "quantity": {
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "accessories": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "quantity"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "quantity": {
                                        "type": "number"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "zoning": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "quantity"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "zoning"
                                        ]
                                      },
                                      "quantity": {
                                        "type": "number"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "nullable": true
                                }
                              }
                            },
                            "sitePrep": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "discounts": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            }
                          }
                        }
                      },
                      "isPreliminary": {
                        "enum": [true]
                      }
                    }
                  },
                  "else": {
                    "properties": {
                      "accountId": {
                        "type": "string"
                      },
                      "isCurrent": {
                        "type": "boolean"
                      },
                      "systems": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "systemCategory": {
                              "type": "string",
                              "enum": [
                                "Conventional Ducted Split System",
                                "Conventional Ducted System",
                                "Package",
                                "Ductless Mini Split",
                                "Ducted Mini Split",
                                "Heat Pump Split System",
                                "Gas Conventional Split System",
                                "Dual Fuel Split System",
                                "Packaged Heat Pump",
                                "Packaged Gas/Electric",
                                "Packaged Dual Fuel",
                                "Single Zone Mini Split",
                                "Multi Zone Mini Split",
                                "Air Conditioning/Air Handler Split System"
                              ]
                            },
                            "conditionedArea": {
                              "type": "number",
                              "minimum": 0
                            },
                            "name": {
                              "type": "string",
                              "nullable": true
                            },
                            "ahriNumber": {
                              "type": "string",
                              "description": "AHRI number for the system",
                              "nullable": true
                            },
                            "equipment": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "manufacturer",
                                      "model",
                                      "quantity",
                                      "name"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string",
                                        "minLength": 1
                                      },
                                      "model": {
                                        "type": "string",
                                        "minLength": 1
                                      },
                                      "quantity": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "size": {
                                        "type": "object",
                                        "properties": {
                                          "unit": {
                                            "type": "string"
                                          },
                                          "value": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "efficiencies": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "accessories": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "manufacturer",
                                      "model",
                                      "quantity",
                                      "name"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "model": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number"
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "zoning": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "quantity"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "zoning",
                                          "zoneBoard",
                                          "zoneDamper",
                                          "bypassDamper"
                                        ]
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "model": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "nullable": true
                                }
                              }
                            },
                            "sitePrep": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "discounts": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "efficiencies": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "properties": {
                                "seer2": {
                                  "type": "string"
                                },
                                "hspf2": {
                                  "type": "string",
                                  "nullable": true
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design/energy-backup": {
      "post": {
        "summary": "Add the detailed design specifications for Energy Backup System to an account",
        "tags": [
          "System Designs"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "equipment"
                ],
                "properties": {
                  "equipment": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "manufacturer",
                        "totalCost",
                        "models",
                        "type"
                      ],
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "models": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "name",
                              "quantity",
                              "capacity"
                            ],
                            "properties": {
                              "modelNumber": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "capacity": {
                                "type": "number"
                              },
                              "productId": {
                                "type": "string"
                              },
                              "quantity": {
                                "type": "number"
                              }
                            }
                          }
                        },
                        "totalCost": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/system-design/energy-backup/current": {
      "get": {
        "summary": "Get the details of the current Energy Backup system design for the account",
        "tags": [
          "System Designs"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "required": [
                    "equipment"
                  ],
                  "properties": {
                    "equipment": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "manufacturer",
                          "totalCost",
                          "models",
                          "type"
                        ],
                        "properties": {
                          "type": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "models": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "name",
                                "quantity",
                                "capacity"
                              ],
                              "properties": {
                                "modelNumber": {
                                  "type": "string"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "capacity": {
                                  "type": "number"
                                },
                                "productId": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "totalCost": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/tasks/{assigneeType}": {
      "get": {
        "summary": "Returns a list of tasks for assignee type",
        "tags": [
          "Tasks"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeVoided",
            "required": false,
            "description": "If true voided tasks will also be returned."
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string",
              "default": "consumer",
              "enum": [
                "any-assignee",
                "consumer",
                "internal",
                "partner"
              ]
            },
            "in": "path",
            "name": "assigneeType",
            "required": true,
            "description": "The of tasks to return based on assignee type"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "activityType": {
                        "type": "string",
                        "enum": [
                          "contract",
                          "requirement",
                          "review",
                          "stipulation"
                        ]
                      },
                      "assigneeType": {
                        "type": "string",
                        "enum": [
                          "any-assignee",
                          "consumer",
                          "internal",
                          "partner"
                        ]
                      },
                      "completedAt": {
                        "type": "string",
                        "description": "The date and time the task was completed"
                      },
                      "createdAt": {
                        "type": "string",
                        "description": "The date and time the task was created"
                      },
                      "dueDate": {
                        "type": "string",
                        "description": "The date and time the task is due"
                      },
                      "description": {
                        "type": "string",
                        "description": "Description of what is needed"
                      },
                      "name": {
                        "type": "string",
                        "description": "The name of the task"
                      },
                      "referenceIds": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "ObjectId"
                            },
                            "type": {
                              "type": "string",
                              "enum": [
                                "accountAdders",
                                "accountConditionEvents",
                                "accountMilestones",
                                "accountMilestoneStipulations",
                                "accountPayoutEvents",
                                "accountRequirements",
                                "accountSettingsSnapshots",
                                "accountTasks",
                                "accounts",
                                "authTokenCache",
                                "addressLocationAnomalyLogs",
                                "agingView",
                                "appSettings",
                                "applications",
                                "billingIrregularStandingAccounts",
                                "cedLogs",
                                "contractDocumentSettings",
                                "contracts",
                                "creditCheckLogs",
                                "disclosures",
                                "documents",
                                "events",
                                "exportRequests",
                                "financeProducts",
                                "financialAccount",
                                "funds",
                                "history",
                                "inboundPaymentSchedules",
                                "inboundPayments",
                                "inboundPaymentsAccountStatus",
                                "incomingInvoices",
                                "invites",
                                "migrations",
                                "milestones",
                                "modelOutputs",
                                "organizationMilestones",
                                "organizationPaymentPlanSettings",
                                "organizationSettings",
                                "organizationSettingsV2",
                                "organizations",
                                "paymentPlans",
                                "prequalifications",
                                "priceSheetMappings",
                                "priceSheets",
                                "pricingSettings",
                                "products",
                                "projects",
                                "promptTemplates",
                                "propertyVerificationLogs",
                                "queues",
                                "quotes",
                                "requirementFlagSettings",
                                "requirements",
                                "salesReps",
                                "systemDesigns",
                                "tasks",
                                "tempPayoutsImport",
                                "users",
                                "utilities",
                                "webhookClients",
                                "webhookLogs",
                                "webhookSubscriptions",
                                "directPayLogs"
                              ]
                            }
                          }
                        }
                      },
                      "rejectionReasons": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "rejectedAt": {
                              "type": "string"
                            },
                            "note": {
                              "type": "string"
                            },
                            "reasons": {
                              "type": "array",
                              "items": {
                                "enum": [
                                  "documentRejected",
                                  "moreInformationNeeded",
                                  "notApplicable",
                                  "tryAgain",
                                  "notCompleted",
                                  "missingDocumentation",
                                  "illegibleDocumentation",
                                  "incorrectDocumentation",
                                  "codeViolation",
                                  "poorWorkmanship",
                                  "ownershipAccessRequired",
                                  "layoutNotMapped",
                                  "noCommunication",
                                  "systemSettingsIncorrect"
                                ]
                              }
                            }
                          }
                        }
                      },
                      "startedAt": {
                        "type": "string",
                        "description": "The date and time task progress started"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "ready",
                          "pending",
                          "completed",
                          "rejected",
                          "voided"
                        ]
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "reviewContract",
                          "reviewDisclosureDocument",
                          "reviewDomesticContent",
                          "reviewElectricianSignOff",
                          "reviewUploadedDocument",
                          "reviewIdentity",
                          "reviewInstall",
                          "reviewPermissionToOperate",
                          "reviewSupportingDocument",
                          "reviewSystemActivation",
                          "reviewSystemPostActivation",
                          "reviewTitle",
                          "reviewSiteAssessment",
                          "achRequirement",
                          "identityVerification",
                          "titleVerification",
                          "dxfFile",
                          "shadeReport",
                          "planSet",
                          "permit",
                          "projectSite",
                          "roof",
                          "electrical",
                          "storage",
                          "systemCommissioning",
                          "monitoringSiteId",
                          "productionModel",
                          "ptoConfirmation",
                          "extendedWarranty",
                          "incentives",
                          "siteImprovements",
                          "voidedCheck",
                          "reviewUtilityBill",
                          "utilityBillRequirement",
                          "electricianSignOff",
                          "customerSignOff",
                          "warrantyRegistration",
                          "creditQualificationRequirement"
                        ]
                      },
                      "accounts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "friendlyName": {
                              "type": "string"
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "applicants": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "type",
                                  "firstName",
                                  "lastName",
                                  "phoneNumber",
                                  "email"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string"
                                  },
                                  "type": {
                                    "enum": [
                                      "primary",
                                      "secondary"
                                    ]
                                  },
                                  "firstName": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ],
                                    "minLength": 1
                                  },
                                  "lastName": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ],
                                    "minLength": 1
                                  },
                                  "middleName": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "phoneNumber": {
                                    "type": "string",
                                    "transform": [
                                      "trim"
                                    ]
                                  },
                                  "email": {
                                    "type": "string",
                                    "format": "email",
                                    "transform": [
                                      "trim",
                                      "toLowerCase"
                                    ]
                                  },
                                  "address": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "state"
                                    ],
                                    "properties": {
                                      "address1": {
                                        "type": "string",
                                        "transform": [
                                          "trim"
                                        ]
                                      },
                                      "address2": {
                                        "type": "string",
                                        "transform": [
                                          "trim"
                                        ]
                                      },
                                      "city": {
                                        "type": "string",
                                        "transform": [
                                          "trim"
                                        ]
                                      },
                                      "state": {
                                        "type": "string",
                                        "transform": [
                                          "trim"
                                        ]
                                      },
                                      "zip": {
                                        "type": "string",
                                        "transform": [
                                          "trim"
                                        ]
                                      }
                                    }
                                  },
                                  "disclosures": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "required": [
                                        "type",
                                        "version"
                                      ],
                                      "properties": {
                                        "id": {
                                          "type": "string",
                                          "format": "ObjectId"
                                        },
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "creditApplication",
                                            "prequalification",
                                            "txtMessageNotifications",
                                            "termsAndConditions"
                                          ]
                                        },
                                        "version": {
                                          "type": "string"
                                        },
                                        "accepted": {
                                          "type": "boolean"
                                        }
                                      }
                                    }
                                  },
                                  "ssnFormat": {
                                    "type": "string"
                                  },
                                  "creditDOB": {
                                    "type": "string",
                                    "description": "This should be in the format MM/dd/yyyy"
                                  },
                                  "dob": {
                                    "type": "string",
                                    "description": "This should be in the format MM/dd/yyyy"
                                  }
                                }
                              },
                              "minItems": 1
                            },
                            "organizationId": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/applications/{applicationId}/tasks/{stipulationType}": {
      "patch": {
        "summary": "Update the status of a task",
        "tags": [
          "Tasks"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "isPending": {
                    "type": "boolean",
                    "default": false
                  },
                  "isSatisfied": {
                    "type": "boolean",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "applicationId",
            "required": true,
            "description": "The application identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "stipulationType",
            "required": true,
            "description": "The stipulation type to update"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "stipulationType",
                    "description"
                  ],
                  "properties": {
                    "stipulationType": {
                      "type": "string",
                      "enum": [
                        "achRequirement",
                        "creditCheckConsent",
                        "employmentVerification",
                        "identityVerification",
                        "incomeVerification",
                        "prequalificationConsent",
                        "titleVerification",
                        "txtMessageNotificationsConsent",
                        "termsAndConditions"
                      ],
                      "description": "The type of stipulation document needed"
                    },
                    "description": {
                      "type": "string",
                      "description": "Description of what is needed"
                    },
                    "isPending": {
                      "type": "boolean",
                      "default": false
                    },
                    "isSatisfied": {
                      "type": "boolean",
                      "default": false
                    },
                    "startedAt": {
                      "type": "string",
                      "description": "The date and time progress started"
                    },
                    "completedAt": {
                      "type": "string",
                      "description": "The date and time the requirement was satisfied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/activity": {
      "get": {
        "summary": "Fetch an activity associated with an account",
        "tags": [
          "Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "data": {
                            "description": "The shape is dependent on the event type",
                            "example": "description of what happened, shape dependent on event type."
                          },
                          "associatedEntities": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "performedBy": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "organizationId": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pageNum": {
                      "type": "number",
                      "minimum": 0
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/adders": {
      "get": {
        "summary": "Retrieves the adder details for the account",
        "tags": [
          "Adders"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "adders": {
                      "type": "array",
                      "description": "Details for adders selected for the account",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "type": {
                            "type": "string",
                            "description": "The type of adder selected",
                            "enum": [
                              "arbitrageBattery",
                              "arbitrageBatteryCost",
                              "electricalUpgrade",
                              "backupBattery",
                              "backupBatteryKwh",
                              "backupBatteryPriceCap",
                              "batteryMinimumCapacity",
                              "solarReadiness",
                              "arbitrageBatteryPriceCap"
                            ]
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The quantity of the adder selected"
                          },
                          "model": {
                            "type": "string",
                            "description": "The model of the adder selected"
                          },
                          "manufacturer": {
                            "type": "string",
                            "description": "The manufacturer of the adder selected"
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The cost of the adder selected"
                          },
                          "reasonOptionsSelected": {
                            "type": "array",
                            "description": "Array of the reasons selected for the adder"
                          },
                          "otherReasonDetails": {
                            "type": "string",
                            "description": "Explanation details if \"other\" reason selected"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "summary": "Updates adder model, manufacturer, and quantity for the account",
        "tags": [
          "Adders"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "adders": {
                    "type": "array",
                    "description": "Details for adders selected for the account",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of adder selected",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The quantity of the adder selected"
                        },
                        "model": {
                          "type": "string",
                          "description": "The model of the adder selected"
                        },
                        "manufacturer": {
                          "type": "string",
                          "description": "The manufacturer of the adder selected"
                        },
                        "cost": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The cost of the adder selected"
                        },
                        "reasonOptionsSelected": {
                          "type": "array",
                          "description": "Array of the reasons selected for the adder"
                        },
                        "otherReasonDetails": {
                          "type": "string",
                          "description": "Explanation details if \"other\" reason selected"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "adders": {
                        "type": "array",
                        "description": "Details for adders selected for the account",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "type": {
                              "type": "string",
                              "description": "The type of adder selected",
                              "enum": [
                                "arbitrageBattery",
                                "arbitrageBatteryCost",
                                "electricalUpgrade",
                                "backupBattery",
                                "backupBatteryKwh",
                                "backupBatteryPriceCap",
                                "batteryMinimumCapacity",
                                "solarReadiness",
                                "arbitrageBatteryPriceCap"
                              ]
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The quantity of the adder selected"
                            },
                            "model": {
                              "type": "string",
                              "description": "The model of the adder selected"
                            },
                            "manufacturer": {
                              "type": "string",
                              "description": "The manufacturer of the adder selected"
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The cost of the adder selected"
                            },
                            "reasonOptionsSelected": {
                              "type": "array",
                              "description": "Array of the reasons selected for the adder"
                            },
                            "otherReasonDetails": {
                              "type": "string",
                              "description": "Explanation details if \"other\" reason selected"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/accounts/{accountId}/validate-change": {
      "post": {
        "summary": "Checks whether a change order is required given a particular production value and adders meant to be set.",
        "tags": [
          "Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "production": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The production value"
                  },
                  "adders": {
                    "type": "array",
                    "description": "The adders to be evaluated.",
                    "nullable": true,
                    "items": {
                      "type": "string",
                      "description": "The adders to evaluate.",
                      "enum": [
                        "arbitrageBattery",
                        "arbitrageBatteryCost",
                        "electricalUpgrade",
                        "backupBattery",
                        "backupBatteryKwh",
                        "backupBatteryPriceCap",
                        "batteryMinimumCapacity",
                        "solarReadiness",
                        "arbitrageBatteryPriceCap"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "The status of the check.",
                      "enum": [
                        "Requires new contract",
                        "New contract not required"
                      ]
                    },
                    "rangeValidationResult": {
                      "type": "object",
                      "description": "Additional metadata for the range validation.",
                      "properties": {
                        "valid": {
                          "type": "boolean",
                          "description": "Whether the production value is valid or not"
                        },
                        "percentDifference": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The percentage amount of difference between the previous and the new production value"
                        },
                        "difference": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The amount of difference between the previous and the new production value"
                        }
                      },
                      "nullable": true
                    },
                    "reasons": {
                      "type": "array",
                      "description": "The reasons the CO is required.",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "reason": {
                            "type": "string",
                            "description": "The reason of the change if requires one.",
                            "enum": [
                              "Annual production size outside of tolerance",
                              "Adders have chanced",
                              "There is no active quote or contract"
                            ]
                          },
                          "field": {
                            "type": "string",
                            "description": "The offending field"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/aging/": {
      "get": {
        "summary": "Fetch aging data for accounts",
        "tags": [
          "Aging"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "ntpWithoutInstall",
                "installApprovedWithoutActivationApproved",
                "invoiceWithoutInstallSubmitted",
                "installSubmittedWithoutInvoice",
                "installConditionalApprovalWithoutActivationSubmitted",
                "installRejected",
                "installSubmittedWithoutActivationApproved",
                "activationRejectedWithoutActivationResubmitted"
              ]
            },
            "in": "query",
            "name": "group",
            "required": true,
            "description": "The specific aging accounts group data to fetch"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "anyOf": [
                    {
                      "type": "object",
                      "additionalProperties": true,
                      "properties": {
                        "lessThanOrEqualTo30": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "31to60": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "61to90": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "91to115": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "116to160": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "greaterThan160": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    },
                    {
                      "type": "object",
                      "additionalProperties": true,
                      "properties": {
                        "lessThanOrEqualTo1": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "2to3": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "4to6": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "7to10": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "11to14": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "15to20": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "21to30": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        },
                        "greaterThan30": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "accountData": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "accountId": {
                                    "type": "string"
                                  },
                                  "daysAging": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "value": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/approved-vendors/": {
      "get": {
        "summary": "Get approved vendors and equipment",
        "tags": [
          "Approved Vendors"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "programType",
            "required": false,
            "description": "The optional program type to get approved vendors for"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "dcEligibleOnly",
            "required": false,
            "description": "Filter to only show domestic content eligible equipment (deprecated, use filter instead)"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "dcEligibleOnly",
                "itcCalculator"
              ]
            },
            "in": "query",
            "name": "filter",
            "required": false,
            "description": "Filter to specific equipment types"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "properties": {
                    "inverter": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "allocation": {
                            "type": "string",
                            "enum": [
                              "full",
                              "limited",
                              "exception",
                              "deprecated"
                            ]
                          },
                          "needsApproval": {
                            "type": "boolean"
                          },
                          "maxDCkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxACkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxPrice": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Default price cap for one storage unit, may be overridden by pricing settings"
                          },
                          "requiresExtendedWarranty": {
                            "type": "boolean"
                          },
                          "sku": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "domesticContentSupported": {
                            "type": "boolean"
                          },
                          "feocData": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "vintage": {
                                  "type": "string"
                                },
                                "subSku": {
                                  "type": "string"
                                },
                                "mlpeDcPercentage": {
                                  "type": "number"
                                },
                                "stringDcPercentage": {
                                  "type": "number"
                                },
                                "mlpeFeocPercentage": {
                                  "type": "number"
                                },
                                "stringFeocPercentage": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "value": {
                                "type": "number",
                                "minimum": 0
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "kW",
                                  "kWh",
                                  "watts"
                                ]
                              }
                            }
                          },
                          "arbitrage": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports arbitrage"
                          },
                          "backup": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports backup"
                          }
                        }
                      }
                    },
                    "panel": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "allocation": {
                            "type": "string",
                            "enum": [
                              "full",
                              "limited",
                              "exception",
                              "deprecated"
                            ]
                          },
                          "needsApproval": {
                            "type": "boolean"
                          },
                          "maxDCkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxACkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxPrice": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Default price cap for one storage unit, may be overridden by pricing settings"
                          },
                          "requiresExtendedWarranty": {
                            "type": "boolean"
                          },
                          "sku": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "domesticContentSupported": {
                            "type": "boolean"
                          },
                          "feocData": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "vintage": {
                                  "type": "string"
                                },
                                "subSku": {
                                  "type": "string"
                                },
                                "mlpeDcPercentage": {
                                  "type": "number"
                                },
                                "stringDcPercentage": {
                                  "type": "number"
                                },
                                "mlpeFeocPercentage": {
                                  "type": "number"
                                },
                                "stringFeocPercentage": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "value": {
                                "type": "number",
                                "minimum": 0
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "kW",
                                  "kWh",
                                  "watts"
                                ]
                              }
                            }
                          },
                          "arbitrage": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports arbitrage"
                          },
                          "backup": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports backup"
                          }
                        }
                      }
                    },
                    "mounting": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "allocation": {
                            "type": "string",
                            "enum": [
                              "full",
                              "limited",
                              "exception",
                              "deprecated"
                            ]
                          },
                          "needsApproval": {
                            "type": "boolean"
                          },
                          "maxDCkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxACkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxPrice": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Default price cap for one storage unit, may be overridden by pricing settings"
                          },
                          "requiresExtendedWarranty": {
                            "type": "boolean"
                          },
                          "sku": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "domesticContentSupported": {
                            "type": "boolean"
                          },
                          "feocData": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "vintage": {
                                  "type": "string"
                                },
                                "subSku": {
                                  "type": "string"
                                },
                                "mlpeDcPercentage": {
                                  "type": "number"
                                },
                                "stringDcPercentage": {
                                  "type": "number"
                                },
                                "mlpeFeocPercentage": {
                                  "type": "number"
                                },
                                "stringFeocPercentage": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "value": {
                                "type": "number",
                                "minimum": 0
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "kW",
                                  "kWh",
                                  "watts"
                                ]
                              }
                            }
                          },
                          "arbitrage": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports arbitrage"
                          },
                          "backup": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports backup"
                          }
                        }
                      }
                    },
                    "storage": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "allocation": {
                            "type": "string",
                            "enum": [
                              "full",
                              "limited",
                              "exception",
                              "deprecated"
                            ]
                          },
                          "needsApproval": {
                            "type": "boolean"
                          },
                          "maxDCkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxACkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxPrice": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Default price cap for one storage unit, may be overridden by pricing settings"
                          },
                          "requiresExtendedWarranty": {
                            "type": "boolean"
                          },
                          "sku": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "domesticContentSupported": {
                            "type": "boolean"
                          },
                          "feocData": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "vintage": {
                                  "type": "string"
                                },
                                "subSku": {
                                  "type": "string"
                                },
                                "mlpeDcPercentage": {
                                  "type": "number"
                                },
                                "stringDcPercentage": {
                                  "type": "number"
                                },
                                "mlpeFeocPercentage": {
                                  "type": "number"
                                },
                                "stringFeocPercentage": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "value": {
                                "type": "number",
                                "minimum": 0
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "kW",
                                  "kWh",
                                  "watts"
                                ]
                              }
                            }
                          },
                          "arbitrage": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports arbitrage"
                          },
                          "backup": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports backup"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/approved-vendors/{equipmentType}": {
      "get": {
        "summary": "Get approved vendors for a specific type of equipment",
        "tags": [
          "Approved Vendors"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "programType",
            "required": false,
            "description": "The optional program type to get approved vendors for"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "inverter",
                "panel",
                "mounting",
                "storage",
                "heatPump",
                "airHandler",
                "heatStrip",
                "thermostat",
                "furnace",
                "waterHeater"
              ]
            },
            "in": "path",
            "name": "equipmentType",
            "required": true,
            "description": "The equipment type to get approved vendors for"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "allocation": {
                            "type": "string",
                            "enum": [
                              "full",
                              "limited",
                              "exception",
                              "deprecated"
                            ]
                          },
                          "needsApproval": {
                            "type": "boolean"
                          },
                          "maxDCkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxACkW": {
                            "type": "number",
                            "minimum": 0
                          },
                          "maxPrice": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Default price cap for one storage unit, may be overridden by pricing settings"
                          },
                          "requiresExtendedWarranty": {
                            "type": "boolean"
                          },
                          "sku": {
                            "type": "string"
                          },
                          "category": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "domesticContentSupported": {
                            "type": "boolean"
                          },
                          "feocData": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "vintage": {
                                  "type": "string"
                                },
                                "subSku": {
                                  "type": "string"
                                },
                                "mlpeDcPercentage": {
                                  "type": "number"
                                },
                                "stringDcPercentage": {
                                  "type": "number"
                                },
                                "mlpeFeocPercentage": {
                                  "type": "number"
                                },
                                "stringFeocPercentage": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "value": {
                                "type": "number",
                                "minimum": 0
                              },
                              "unit": {
                                "type": "string",
                                "enum": [
                                  "kW",
                                  "kWh",
                                  "watts"
                                ]
                              }
                            }
                          },
                          "arbitrage": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports arbitrage"
                          },
                          "backup": {
                            "type": "boolean",
                            "description": "Used to determine if the battery supports backup"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "description": "Authorization code flow - login",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "clientId",
            "required": false,
            "description": "auth provider client Id"
          },
          {
            "schema": {
              "type": "string",
              "default": "openid offline_access profile email"
            },
            "in": "query",
            "name": "scope",
            "required": false,
            "description": "scopes for the token"
          },
          {
            "schema": {
              "type": "string",
              "default": ""
            },
            "in": "query",
            "name": "state",
            "required": false,
            "description": "state to be passed back to client"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "org",
            "required": false,
            "description": "organization to impersonate"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      },
      "post": {
        "tags": [
          "Authentication"
        ],
        "description": "Endpoint for m2m users to login. Regular user (organization or account) will be prevented from using this endpoint.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "username",
                  "password"
                ],
                "properties": {
                  "username": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "org",
            "required": false,
            "description": "The organization alias to impersonate"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "access_token": {
                      "type": "string"
                    },
                    "token_type": {
                      "type": "string"
                    },
                    "userId": {
                      "type": "string"
                    },
                    "refresh_token": {
                      "type": "string"
                    },
                    "expires_in": {
                      "type": "number"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/jwt-refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": [
                  "null"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/auth/logout": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/auth/token-exchange": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "code",
            "required": true,
            "description": "code from auth provider"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "state",
            "required": false,
            "description": "previously stored state"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/available-equipment/": {
      "get": {
        "summary": "Returns the available equipment and price caps",
        "tags": [
          "Available Equipment"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "accountId",
            "required": false,
            "description": "The account identifier. If the account Id is specified it will override any other value passed in"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "energyBackup"
              ]
            },
            "in": "query",
            "name": "programType",
            "required": false
          },
          {
            "schema": {
              "type": "number"
            },
            "in": "query",
            "name": "lseId",
            "required": false
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "state",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "availableEquipment": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "equipmentType": {
                            "type": "string",
                            "enum": [
                              "backupBattery"
                            ]
                          },
                          "priceCaps": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "manufacturer": {
                                  "type": "string"
                                },
                                "maxPrice": {
                                  "type": "number"
                                },
                                "maxTermLength": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/design-tools/": {
      "get": {
        "summary": "Get design tools",
        "tags": [
          "Design Tools"
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "properties": {

                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/disclosures/": {
      "get": {
        "summary": "Fetch a list of disclosures",
        "tags": [
          "Disclosures"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "disclosureType",
            "required": false,
            "description": "The type of disclosure to retrieve. The most recent version will be returned.  If not provided, all disclosures will be returned"
          },
          {
            "schema": {
              "type": "string",
              "default": "English"
            },
            "in": "query",
            "name": "language",
            "required": false,
            "description": "The language of the disclosure to retrieve. Defaults to \"English\". Can also be a comma separated list of supported languages. Supported languages are: English,Spanish"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "name",
                      "type",
                      "version",
                      "summary",
                      "text",
                      "requireConsent",
                      "language"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "format": "ObjectId"
                      },
                      "name": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "creditApplication",
                          "prequalification",
                          "txtMessageNotifications",
                          "termsAndConditions"
                        ]
                      },
                      "version": {
                        "type": "string"
                      },
                      "versionNumber": {
                        "type": "number",
                        "minimum": 0
                      },
                      "summary": {
                        "type": "string"
                      },
                      "text": {
                        "type": "string"
                      },
                      "requireConsent": {
                        "type": "boolean"
                      },
                      "acceptanceLabel": {
                        "type": "string"
                      },
                      "language": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/estimatedPricing/": {
      "post": {
        "summary": "DEPRECATED: Update to use the /api/v3/estimated-pricing endpoint",
        "tags": [
          "Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "lseId",
                  "state",
                  "systemSizeKw",
                  "systemFirstYearProductionKwh"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The utility id"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total system size in Kw"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total first year production in Kwh"
                  },
                  "arbitrageBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if arbitrage battery is included"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into account if available for the given account"
                  },
                  "lat": {
                    "type": "number",
                    "description": "The latitude of the installation address, necessary to correctly price NYC projects"
                  },
                  "lon": {
                    "type": "number",
                    "description": "The longitude of the installation address, necessary to correctly price NYC projects"
                  }
                }
              }
            }
          },
          "required": true
        },
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "programType"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "solar"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/finance-products/": {
      "get": {
        "summary": "Fetch a list of available solar finance products",
        "tags": [
          "Finance Products"
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "type",
                      "name",
                      "details"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ],
                        "description": "The type of financial product."
                      },
                      "name": {
                        "type": "string",
                        "description": "The name of the product."
                      },
                      "details": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "term",
                          "escalationRate"
                        ],
                        "properties": {
                          "term": {
                            "type": "number",
                            "minimum": 0
                          },
                          "escalationRate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "utilities": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [],
                          "properties": {
                            "state": {
                              "type": "string",
                              "description": "The state code"
                            },
                            "utilityId": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The Genability utility (or lseId) of the utility"
                            },
                            "utilityName": {
                              "type": "string",
                              "description": "The name of the utility"
                            }
                          }
                        },
                        "description": "The list of states and utilities for which the product is available."
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/financial-accounts/{financialAccountId}": {
      "get": {
        "summary": "Fetch the financial account document of a given financial account ",
        "tags": [
          "Financial Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "financialAccountId",
            "required": true,
            "description": "The financial account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "references",
                    "status",
                    "externalReferenceIds"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "references": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "id",
                          "type"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "card": {
                      "type": "object",
                      "properties": {
                        "cardHolderName": {
                          "type": "string"
                        },
                        "last4": {
                          "type": "string"
                        },
                        "cardType": {
                          "type": "string"
                        }
                      }
                    },
                    "bankAccount": {
                      "type": "object",
                      "properties": {
                        "bankAccountType": {
                          "type": "string"
                        },
                        "last4": {
                          "type": "string"
                        },
                        "accountHolderName": {
                          "type": "string"
                        }
                      }
                    },
                    "status": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "id",
                          "type"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/financial-accounts/{originFinCoAccountId}/transfer/{destinationFinCoAccountId}": {
      "patch": {
        "summary": "Transfers a payment method from one FinCo account to another",
        "tags": [
          "Financial Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "originFinCoAccountId",
            "required": true,
            "description": "The original account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "destinationFinCoAccountId",
            "required": true,
            "description": "The destination account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "financialAccountId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/organizations/": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "includeUsers",
            "required": false,
            "description": "Include users in the response"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "useRootOrganization",
            "required": false,
            "description": "When true the user root organization is used rather than the currently impersonate organization. This should be used with extreme caution."
          },
          {
            "schema": {
              "type": "number",
              "default": 1
            },
            "in": "query",
            "name": "usersPage",
            "required": false,
            "description": "The page of users to fetch"
          },
          {
            "schema": {
              "type": "number",
              "default": 10
            },
            "in": "query",
            "name": "usersLimit",
            "required": false,
            "description": "How many users should be limited in the response. Max is 10"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "search",
            "required": false,
            "description": "Search by organization name or alias"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "programType",
            "required": false,
            "description": "Filter by program type"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "state",
            "required": false,
            "description": "Filter by state"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "advancedFilters",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      },
      "post": {
        "summary": "Create a new organization",
        "tags": [
          "Organizations"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "alias",
                  "name"
                ],
                "properties": {
                  "alias": {
                    "type": "string",
                    "description": "The internal Alias of the new organization"
                  },
                  "name": {
                    "type": "string",
                    "description": "The name of the new organization"
                  },
                  "parentAlias": {
                    "type": "string",
                    "description": "The internal Alias of the new organizations parent"
                  },
                  "email": {
                    "type": "string",
                    "description": "The company email address for new organization"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "description": "The phone number of the new organization"
                  },
                  "federalEmployerId": {
                    "type": "string",
                    "description": "The federal employer id of the new organization"
                  },
                  "address": {
                    "type": "string",
                    "description": "The street address of the new organization"
                  },
                  "city": {
                    "type": "string",
                    "description": "The city of the new organization"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state of the new organization"
                  },
                  "zip": {
                    "type": "string",
                    "description": "The zip code of the new organization"
                  },
                  "licenses": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "state": {
                          "type": "string",
                          "description": "The state of the license number"
                        },
                        "contractorLicenseNumber": {
                          "type": "string",
                          "description": "The contractor license number for the state"
                        },
                        "additionalLicenseNumbers": {
                          "type": "string",
                          "description": "The additional license numbers for the state"
                        },
                        "monetaryLimit": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monetary limit on the license"
                        },
                        "programType": {
                          "type": "string",
                          "enum": [
                            "doePr",
                            "energyBackup",
                            "hvac",
                            "newCommunity",
                            "newHomes",
                            "solar"
                          ],
                          "description": "The program type of the license"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "active",
                            "inactive",
                            "suspended"
                          ],
                          "description": "The status of the license"
                        }
                      }
                    },
                    "description": "The licenses of the new organization"
                  },
                  "authorizedSigners": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "name",
                        "email",
                        "title"
                      ],
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "The name of the signer"
                        },
                        "email": {
                          "type": "string",
                          "description": "The email address of the signer"
                        },
                        "title": {
                          "type": "string",
                          "description": "The job title of the signer"
                        }
                      }
                    },
                    "description": "The members of the organization authorized to sign for the organization"
                  },
                  "insuranceCompanyPhoneNumber": {
                    "type": "string",
                    "description": "The insurance company phone number of the new organization"
                  },
                  "insuranceCompanyName": {
                    "type": "string",
                    "description": "The insurance company name of the new organization"
                  },
                  "programTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newCommunity",
                        "newHomes",
                        "solar"
                      ],
                      "description": "The program type of the new organization"
                    },
                    "default": [
                      "solar"
                    ]
                  },
                  "organizationTypes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "epc",
                        "integratedPlatform",
                        "materials"
                      ],
                      "description": "The organization type of the new organization"
                    },
                    "default": [
                      "epc"
                    ]
                  },
                  "extendedWarrantyDealerInformation": {
                    "type": "array",
                    "description": "Extended Warranty Dealer Licenses Ids for hvac program",
                    "items": {
                      "type": "object",
                      "properties": {
                        "warrantyProvider": {
                          "type": "string"
                        },
                        "dealerLicenseNumber": {
                          "type": "string"
                        },
                        "isPreferredProvider": {
                          "type": "boolean",
                          "description": "If this provider is the preferred provider"
                        }
                      }
                    }
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "offBoarded",
                      "noNewSales",
                      "readOnly"
                    ],
                    "description": "The status of the new organization"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "alias": {
                      "type": "string",
                      "description": "The internal Alias of the organization"
                    },
                    "name": {
                      "type": "string",
                      "description": "The name of the organization"
                    },
                    "parentAlias": {
                      "type": "string",
                      "description": "The internal Alias of the organizations parent"
                    },
                    "pricingTierId": {
                      "type": "string",
                      "description": "The default pricing tier of the organization"
                    },
                    "email": {
                      "type": "string",
                      "description": "The company email address for new organization"
                    },
                    "phoneNumber": {
                      "type": "string",
                      "description": "The phone number of the organization"
                    },
                    "federalEmployerId": {
                      "type": "string",
                      "description": "The federal employer id of the new organization"
                    },
                    "address": {
                      "type": "string",
                      "description": "The street address of the organization"
                    },
                    "city": {
                      "type": "string",
                      "description": "The city of the organization"
                    },
                    "state": {
                      "type": "string",
                      "description": "The state of the organization"
                    },
                    "zip": {
                      "type": "string",
                      "description": "The zip code of the organization"
                    },
                    "licenses": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "state": {
                            "type": "string",
                            "description": "The state of the license number"
                          },
                          "contractorLicenseNumber": {
                            "type": "string",
                            "description": "The contractor license number for the state"
                          },
                          "additionalLicenseNumbers": {
                            "type": "string",
                            "description": "The additional license numbers for the state"
                          },
                          "monetaryLimit": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monetary limit on the license"
                          },
                          "programType": {
                            "type": "string",
                            "enum": [
                              "doePr",
                              "energyBackup",
                              "hvac",
                              "newCommunity",
                              "newHomes",
                              "solar"
                            ],
                            "description": "The program type of the license"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "active",
                              "inactive",
                              "suspended"
                            ],
                            "description": "The status of the license"
                          }
                        }
                      },
                      "description": "The licenses of the organization"
                    },
                    "authorizedSigners": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "name",
                          "email",
                          "title"
                        ],
                        "properties": {
                          "name": {
                            "type": "string",
                            "description": "The name of the signer"
                          },
                          "email": {
                            "type": "string",
                            "description": "The email address of the signer"
                          },
                          "title": {
                            "type": "string",
                            "description": "The job title of the signer"
                          }
                        }
                      },
                      "description": "The members of the organization authorized to sign for the organization"
                    },
                    "insuranceCompanyPhoneNumber": {
                      "type": "string",
                      "description": "The insurance company phone number of the organization"
                    },
                    "insuranceCompanyName": {
                      "type": "string",
                      "description": "The insurance company name of the new organization"
                    },
                    "programTypes": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newCommunity",
                          "newHomes",
                          "solar"
                        ],
                        "description": "The program type of the new organization"
                      }
                    },
                    "organizationTypes": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "epc",
                          "integratedPlatform",
                          "materials"
                        ],
                        "description": "The organization type of the new organization"
                      }
                    },
                    "extendedWarrantyDealerInformation": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "warrantyProvider": {
                            "type": "string"
                          },
                          "dealerLicenseNumber": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "extendedWarrantyDealerInformationOrganization": {
                      "type": "string",
                      "description": "The organization alias from which to inherit extended warranty dealer information. This will be null if not inherited."
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "offBoarded",
                        "noNewSales",
                        "readOnly"
                      ]
                    },
                    "salesforceData": {
                      "type": "object",
                      "properties": {
                        "salesforceId": {
                          "type": "string",
                          "description": "The Salesforce ID of the organization"
                        },
                        "lrAccountRepName": {
                          "type": "string",
                          "description": "The name of the LightReach representative for that org"
                        },
                        "lrTier": {
                          "type": "string",
                          "description": "The LightReach program tier"
                        },
                        "lastUpdated": {
                          "type": "string",
                          "format": "date-time",
                          "description": "When the Salesforce data was last updated in LightReach"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/organizations/{alias}": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeUsers",
            "required": false,
            "description": "Include users in the response"
          },
          {
            "schema": {
              "type": "number",
              "default": 1
            },
            "in": "query",
            "name": "usersPage",
            "required": false,
            "description": "The page of users to fetch"
          },
          {
            "schema": {
              "type": "number",
              "default": 10
            },
            "in": "query",
            "name": "usersLimit",
            "required": false,
            "description": "How many users should be limited in the response. Max is 50"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "alias",
            "required": true,
            "description": "The organization alias"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/organizations/perform-progress/{accountId}": {
      "get": {
        "summary": "Check if the org has correct progress status for a given account",
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "boolean"
                }
              }
            }
          }
        }
      }
    },
    "/api/organizations/{alias}/users": {
      "get": {
        "tags": [
          "Organizations",
          "Users"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "search",
            "required": false,
            "description": "Name/nickname or email of the user we are looking for"
          },
          {
            "schema": {
              "type": "number",
              "default": 1
            },
            "in": "query",
            "name": "page",
            "required": false,
            "description": "The page of users to fetch"
          },
          {
            "schema": {
              "type": "number",
              "default": 10
            },
            "in": "query",
            "name": "limit",
            "required": false,
            "description": "How many users should be limited in the response. Max is 10"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "alias",
            "required": true,
            "description": "The organization alias"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/organizations/search/by-user": {
      "get": {
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "search",
            "required": true,
            "description": "Email or nickname of the user we are looking for"
          },
          {
            "schema": {
              "type": "number",
              "default": 1
            },
            "in": "query",
            "name": "page",
            "required": false,
            "description": "The page of users to fetch"
          },
          {
            "schema": {
              "type": "number",
              "default": 10
            },
            "in": "query",
            "name": "limit",
            "required": false,
            "description": "How many users should be limited in the response. Max is 10"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/organizations/{alias}/activity": {
      "get": {
        "summary": "Fetch activity logs associated with an organization",
        "tags": [
          "Organizations"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "alias",
            "required": true,
            "description": "The organization alias"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "data": {
                            "description": "The shape is dependent on the event type",
                            "example": "description of what happened, shape dependent on event type."
                          },
                          "associatedEntities": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "performedBy": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "displayName": {
                                "type": "string"
                              },
                              "organizationId": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "total": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pageNum": {
                      "type": "number",
                      "minimum": 0
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/invite": {
      "post": {
        "tags": [
          "Users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "organizationAlias",
                  "email",
                  "permissions"
                ],
                "properties": {
                  "organizationAlias": {
                    "type": "string",
                    "description": "The user will belong to this organization"
                  },
                  "email": {
                    "type": "string",
                    "description": "The email of the user to create or invite",
                    "format": "email"
                  },
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "editor",
                        "admin",
                        "reader",
                        "orgAccountingAdmin",
                        "lightReachOrganizationSignatory"
                      ]
                    },
                    "description": "The permissions to assign to the user"
                  },
                  "machine": {
                    "type": "boolean",
                    "description": "Mark the user as a machine to machine user"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/users/{userId}": {
      "post": {
        "summary": "Change a user's permissions.",
        "tags": [
          "Users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "permissions"
                ],
                "properties": {
                  "permissions": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "editor",
                        "admin",
                        "reader",
                        "orgAccountingAdmin",
                        "lightReachOrganizationSignatory"
                      ]
                    },
                    "description": "The complete set of permission the user should end up with"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userId",
            "required": true,
            "description": "The user identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "emailVerified": {
                      "type": "boolean"
                    },
                    "givenName": {
                      "type": "string"
                    },
                    "familyName": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "nickname": {
                      "type": "string"
                    },
                    "phoneNumber": {
                      "type": "string"
                    },
                    "picture": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    },
                    "userIsSalesRep": {
                      "type": "boolean"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "lastLogin": {
                      "type": "string"
                    },
                    "organization": {
                      "type": "string"
                    },
                    "permissions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "enum": [
                              "editor",
                              "admin",
                              "reader",
                              "orgAccountingAdmin",
                              "lightReachOrganizationSignatory"
                            ]
                          },
                          "descriptions": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Remove a user from an organization. NOTE: this does not delete the user.",
        "tags": [
          "Users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "organizationAlias": {
                    "type": "string",
                    "description": "The organization the user will not longer has access to"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "userId",
            "required": true,
            "description": "The user identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response"
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/users/current": {
      "get": {
        "summary": "Get info about the currently authenticated user.",
        "tags": [
          "Users"
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "emailVerified": {
                      "type": "boolean"
                    },
                    "givenName": {
                      "type": "string"
                    },
                    "familyName": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "nickname": {
                      "type": "string"
                    },
                    "phoneNumber": {
                      "type": "string"
                    },
                    "picture": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    },
                    "userIsSalesRep": {
                      "type": "boolean"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "lastLogin": {
                      "type": "string"
                    },
                    "organization": {
                      "type": "string"
                    },
                    "permissions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "enum": [
                              "editor",
                              "admin",
                              "reader",
                              "orgAccountingAdmin",
                              "lightReachOrganizationSignatory"
                            ]
                          },
                          "descriptions": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Change the current user's profile information.",
        "tags": [
          "Users"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "givenName": {
                    "type": "string"
                  },
                  "familyName": {
                    "type": "string"
                  },
                  "phoneNumber": {
                    "type": "string"
                  },
                  "userIsSalesRep": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "email": {
                      "type": "string"
                    },
                    "emailVerified": {
                      "type": "boolean"
                    },
                    "givenName": {
                      "type": "string"
                    },
                    "familyName": {
                      "type": "string"
                    },
                    "name": {
                      "type": "string"
                    },
                    "nickname": {
                      "type": "string"
                    },
                    "phoneNumber": {
                      "type": "string"
                    },
                    "picture": {
                      "type": "string"
                    },
                    "updatedAt": {
                      "type": "string"
                    },
                    "userIsSalesRep": {
                      "type": "boolean"
                    },
                    "createdAt": {
                      "type": "string"
                    },
                    "lastLogin": {
                      "type": "string"
                    },
                    "organization": {
                      "type": "string"
                    },
                    "permissions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "enum": [
                              "editor",
                              "admin",
                              "reader",
                              "orgAccountingAdmin",
                              "lightReachOrganizationSignatory"
                            ]
                          },
                          "descriptions": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhooks/direct-pay/invoices": {
      "post": {
        "summary": "Webhook to support direct pay vendors posting invoices to our system.",
        "tags": [
          "Incoming Webhooks"
        ],
        "description": "Webhook for posting finalized invoices for a project.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "projectIdentifier",
                  "vendorIdentifier",
                  "totalInvoicedAmount",
                  "finalizationDate",
                  "invoices"
                ],
                "properties": {
                  "projectIdentifier": {
                    "type": "string",
                    "description": "The uniqueId for the project"
                  },
                  "vendorIdentifier": {
                    "type": "string",
                    "description": "The uniqueId for the vendor"
                  },
                  "customerNumber": {
                    "type": "string",
                    "description": "A possible customer number"
                  },
                  "totalInvoicedAmount": {
                    "type": "number",
                    "description": "The total amount of the invoice(s) sent"
                  },
                  "finalizationDate": {
                    "type": "string",
                    "format": "date-time",
                    "description": "The date the invoice(s) was/were finalized"
                  },
                  "invoices": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "invoiceNumber",
                        "invoiceDate",
                        "totalAmount"
                      ],
                      "properties": {
                        "invoiceId": {
                          "type": "string",
                          "description": "Optional unique identifier for the invoice in the vendor system"
                        },
                        "invoiceNumber": {
                          "type": "string",
                          "description": "The invoice number"
                        },
                        "invoiceDate": {
                          "type": "string",
                          "format": "date-time",
                          "description": "The date the invoice was created"
                        },
                        "totalAmount": {
                          "type": "number",
                          "description": "The total amount of the invoice"
                        },
                        "lineItems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": true,
                            "required": [
                              "manufacturerName",
                              "productCode",
                              "description",
                              "quantity",
                              "totalAmount"
                            ],
                            "properties": {
                              "manufacturerCode": {
                                "type": "string"
                              },
                              "manufacturerName": {
                                "type": "string",
                                "description": "The name of the manufacturer"
                              },
                              "productCode": {
                                "type": "string",
                                "description": "The product code/SKU of the item ordered"
                              },
                              "description": {
                                "type": "string",
                                "description": "The description of the product"
                              },
                              "quantity": {
                                "type": "number",
                                "description": "The quantity ordered"
                              },
                              "unitPrice": {
                                "type": "number",
                                "description": "The unit price of the product"
                              },
                              "totalAmount": {
                                "type": "number",
                                "description": "The total amount of the line item"
                              }
                            }
                          },
                          "description": "The list of line items in the invoice"
                        }
                      }
                    },
                    "description": "The list of invoices in the batch"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "header",
            "name": "x-api-key",
            "required": false,
            "description": "The API key given to the vendor to authorize these webhooks"
          }
        ],
        "responses": {
          "201": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/webhooks/registrations": {
      "post": {
        "summary": "Create a new webhook registration for your service",
        "tags": [
          "Webhooks"
        ],
        "description": "\nUse this endpoint to create a new outbound webhook registration for your service.\nThe `hostUrl` should be the common prefix that all event subscriptions utilize as a base. For example, `https://example.com/api/v1`.\nThe registration id you will receive in response is required to subscribe to specific webhook events.\n\n# Authentication\nThere are currently 3 types of authentication supported for webhook clients:\n\n1. Server API Key\n1. Client Headers\n1. Client Basic Authentication\n\n## Server API Key\n\u003Cdetails open\u003E\n\u003Csummary\u003EDetails\u003C/summary\u003E\n\nThe API key is a randomly generated string that is used to authenticate requests to your webhook endpoint. It is sent in the `apiKey` header of the request.\nCompare the `apiKey` header on the incoming request against your API key to verify that webhook requests are originating from this service.\n\nThe API key is returned in the response to this endpoint, and is not retrievable. If you lose it, you will need to create a new webhook client.\n\nIf you don't specify an authentication type, an API key will be used by default.\n\n### Example request body\n```json\n{\n  \"name\": \"My Webhook\",\n  \"hostUrl\": \"https://example.com/api\"\n}\n```\n\n### Example webhook request to your endpoint\n```http\nPOST /api/v1/webhooks HTTP/1.1\nHost: example.com\nContent-Type: application/json\napi_key: 74xfG35QtD1WoXyc2EEo3Z\napiKey: 74xfG35QtD1WoXyc2EEo3Z\nContent-Length: 113\n\n{ \"event\":\"milestoneAchieved\", ... }\n```\n\u003C/details\u003E\n\n## Client Headers\n\u003Cdetails\u003E\n\u003Csummary\u003EDetails\u003C/summary\u003E\n\nClient headers authentication requires you to provide a `clientId` and `clientSecret`. These values are then sent back in the headers of the request to your endpoint.\nThe headers are `client_id` and `client_secret`.\n\n### Example request body\n```json\n{\n  \"name\": \"My Webhook\",\n  \"hostUrl\": \"https://example.com/api\",\n  \"authentication\": \"clientHeaders\",\n  \"clientId\": \"client-id-123456\",\n  \"clientSecret\": \"f5f25cc6-cd04-42f9-a834-63071b295523\"\n}\n```\n\n### Example webhook request to your endpoint\n\n```http\nPOST /api/v1/webhooks HTTP/1.1\nHost: example.com\nContent-Type: application/json\nclient_id: client-id-123456\nclient_secret: f5f25cc6-cd04-42f9-a834-63071b295523\nContent-Length: 113\n\n{ \"event\":\"milestoneAchieved\", ... }\n```\n\u003C/details\u003E\n\n## Client Basic Authentication\n\u003Cdetails\u003E\n\u003Csummary\u003EDetails\u003C/summary\u003E\nClient basic authentication requires you to provide a `clientId` and `clientSecret` in the request body. These values are then sent back as a [HTTP Basic Authentication](https://en.wikipedia.org/wiki/Basic_access_authentication) header on the request to your endpoint.\nIt is sent as an `Authorization` header and the value is a base64 encoded string of the format `clientId:clientSecret`.\n\n### Example request body\n```json\n{\n  \"name\": \"My Webhook\",\n  \"hostUrl\": \"https://example.com/api\",\n  \"authentication\": \"basicAuthHeader\",\n  \"clientId\": \"client-id-123456\",\n  \"clientSecret\": \"f5f25cc6-cd04-42f9-a834-63071b295523\"\n}\n```\n\n### Example webhook request to your endpoint\n```http\nPOST /api/v1/webhooks HTTP/1.1\nHost: example.com\nContent-Type: application/json\nAuthorization: Basic Y2xpZW50LWlkLTEyMzQ1NjpmNWYyNWNjNi1jZDA0LTQyZjktYTgzNC02MzA3MWIyOTU1MjM=\nContent-Length: 113\n\n{ \"event\":\"milestoneAchieved\", ... }\n```\n\u003C/details\u003E\n",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "hostUrl": {
                    "type": "string",
                    "format": "uri"
                  },
                  "authentication": {
                    "type": "string",
                    "enum": [
                      "apiKey",
                      "clientHeaders",
                      "basicAuthHeader"
                    ],
                    "default": "apiKey"
                  },
                  "clientId": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 128
                  },
                  "clientSecret": {
                    "type": "string",
                    "minLength": 32,
                    "maxLength": 128
                  },
                  "includeVisibleOrgEvents": {
                    "type": "boolean",
                    "description": "If true, the webhook will also receive events for other visible organizations.",
                    "default": false
                  }
                },
                "required": [
                  "hostUrl",
                  "name"
                ]
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "webhookRegistrationId": {
                      "type": "string"
                    },
                    "apiKey": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/webhooks/registrations/{registrationId}/subscriptions": {
      "post": {
        "summary": "Create a new webhook subscription",
        "tags": [
          "Webhooks"
        ],
        "description": "With your registration id, use this endpoint to associate events to a specific endpoint URL. The full target URL will be composed from: `{hostUrl}{endpointUrl}`",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "endpointUrl": {
                    "type": "string"
                  },
                  "expirationDate": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": true
                  },
                  "httpMethod": {
                    "type": "string",
                    "enum": [
                      "PUT",
                      "POST"
                    ]
                  },
                  "nonretryableErrorCodes": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "unAuthorized",
                        "notFound",
                        401, 404]
                    }
                  },
                  "eventType": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "accountUpdated",
                        "activeQuoteExceedsMonthlyPaymentCaps",
                        "allConsumerTaskEvents",
                        "allContractEvents",
                        "allEvents",
                        "allStipulationEvents",
                        "allStipulationsCleared",
                        "applicationStatus",
                        "contractApproved",
                        "contractReinstated",
                        "contractSent",
                        "contractSigned",
                        "contractVoided",
                        "documentStatus",
                        "illinoisShineDisclosureSent",
                        "illinoisShineDisclosureSigned",
                        "milestoneAchieved",
                        "noticeToProceedComplete",
                        "quoteCreated",
                        "quoteVoided",
                        "payeeCreated",
                        "requirementCompleted",
                        "stipulationAdded",
                        "stipulationCleared",
                        "sendInvite",
                        "termsAndConditionsAccepted",
                        "milestonePackage",
                        "trancheAssigned",
                        "trancheUnassigned",
                        "trancheClosed",
                        "operationAtAchieved",
                        "placedInServiceAchieved",
                        "firstPaymentDueDate"
                      ]
                    }
                  }
                },
                "required": [
                  "endpointUrl",
                  "eventType",
                  "httpMethod"
                ]
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string",
              "format": "ObjectId"
            },
            "in": "path",
            "name": "registrationId",
            "required": true,
            "description": "The webhook subscriber's registration id"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "clientId": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string"
                          },
                          "message": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}": {
      "get": {
        "summary": "Find an account by id",
        "tags": [
          "V2 - Accounts"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "minLength": 1
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "programType",
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ]
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "salesRepVerification": {
                      "type": "object",
                      "description": "Sales rep verification object",
                      "properties": {
                        "salesRepReferenceId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string",
                          "nullable": true
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "tranches": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "strandedFulfillment": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "ownedByStrandedAssetTeam": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "history": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "action": {
                                "type": "string"
                              },
                              "updatedBy": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "operationAtData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "operationAtDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDaysTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "placedInServiceData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "placedInServiceDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "placedInServiceTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "opAtHistory": {
                      "type": "array",
                      "nullable": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "eventType": {
                            "type": "string",
                            "enum": [
                              "operationAtCalculated",
                              "verificationDaysCalculated",
                              "verificationDaysExpiredAndReqNoLongerMet",
                              "placedInServiceCalculated"
                            ]
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "triggerEvent": {
                            "type": "string",
                            "nullable": true
                          },
                          "verificationDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "operationAtDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "placedInServiceDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "requirementsNotMet": {
                            "type": "array",
                            "nullable": true,
                            "items": {
                              "type": "string"
                            }
                          },
                          "verificationDays": {
                            "type": "number",
                            "nullable": true
                          },
                          "maxVerificationDays": {
                            "type": "number",
                            "nullable": true
                          }
                        }
                      }
                    },
                    "firstPaymentDueDate": {
                      "type": "string",
                      "nullable": true,
                      "description": "Format: 'MM-dd-yyyy'"
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ]
                    }
                  },
                  "if": {
                    "properties": {
                      "programType": {
                        "enum": [
                          "solar"
                        ]
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "utilityName": {
                            "type": "string"
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "electricityUsageSource": {
                        "type": "string"
                      },
                      "ced": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "cedSplitPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                          },
                          "cedProjectId": {
                            "type": "string",
                            "description": "The CED Greentech project ID"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "directPay": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "directPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via a direct pay materials vendor"
                          },
                          "directPayMaterialVendorAlias": {
                            "type": "string",
                            "description": "The alias of the materials vendor"
                          },
                          "projectId": {
                            "type": "string",
                            "description": "The CED project ID, only valid for CED projects"
                          },
                          "projectIdentifier": {
                            "type": "string",
                            "description": "The project identifier"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string",
                        "nullable": true
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "designTool": {
                        "type": "string",
                        "nullable": true
                      },
                      "itcAdderQualifications": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                          "lowIncomeCommunityEligible": {
                            "type": "boolean"
                          },
                          "incomeCategory": {
                            "type": "string"
                          },
                          "energyCommunityEligible": {
                            "type": "boolean"
                          },
                          "ecEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalTract",
                              "FFECounty",
                              "CoalTractAndFFECounty"
                            ]
                          },
                          "ecCoalTractEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalPowerPlantClosure",
                              "CoalMineClosure",
                              "CoalPowerPlantAndMineClosure",
                              "TractAdjacency"
                            ]
                          },
                          "ecFfeCountyMsaName": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaCode": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaType": {
                            "type": "string"
                          },
                          "domesticContentEligible": {
                            "type": "boolean"
                          },
                          "potentialEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "finalEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      },
                      "installer": {
                        "type": "object",
                        "description": "This information will only be provided for accounts in IL",
                        "properties": {
                          "legalName": {
                            "type": "string"
                          },
                          "iccDocketNumber": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteFirstName": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteLastName": {
                            "type": "string"
                          },
                          "phoneNumber": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "state": {
                            "type": "string"
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "electricianSignoffDate": {
                        "type": "object",
                        "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "ptoGrantedDate": {
                        "type": "string",
                        "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                      },
                      "epcIncorrectSubmittedPtoGrantedDate": {
                        "type": "string",
                        "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                      },
                      "monitoringSiteId": {
                        "type": "string",
                        "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          },
                          "asBuiltSystemSizeKw": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                          }
                        }
                      },
                      "solarModuleSerialNumber": {
                        "type": "string",
                        "nullable": true
                      },
                      "domesticContentEligibilityStatus": {
                        "type": "string",
                        "enum": [
                          "eligible",
                          "underConsideration",
                          "epcOptOut",
                          "confirmed"
                        ],
                        "description": "Current status of Domestic Content eligibility",
                        "nullable": true
                      },
                      "ptoGreenlight": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "greenlightStatus": {
                            "type": "boolean"
                          },
                          "trancheClosed": {
                            "type": "boolean"
                          },
                          "tranchedClosedOn": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideUser": {
                            "type": "string"
                          }
                        }
                      },
                      "propertyType": {
                        "type": "string",
                        "nullable": true
                      },
                      "isSecondSystem": {
                        "type": "boolean",
                        "nullable": true
                      }
                    },
                    "required": [
                      "utility"
                    ]
                  },
                  "else": {
                    "if": {
                      "properties": {
                        "programType": {
                          "enum": [
                            "doePr"
                          ]
                        }
                      }
                    },
                    "then": {
                      "properties": {
                        "utility": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "lseId"
                          ],
                          "properties": {
                            "lseId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "tariffId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "rate": {
                              "type": "number",
                              "minimum": 0
                            },
                            "utilityName": {
                              "type": "string"
                            }
                          }
                        },
                        "electricityUsageKwh": {
                          "anyOf": [
                            {
                              "type": "number",
                              "minimum": 0,
                              "description": "Total annual usage in kWh"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "number",
                                "minimum": 0
                              },
                              "minItems": 12,
                              "maxItems": 12,
                              "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                            }
                          ]
                        },
                        "electricityUsageSource": {
                          "type": "string"
                        },
                        "ced": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "cedSplitPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                            },
                            "cedProjectId": {
                              "type": "string",
                              "description": "The CED Greentech project ID"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "directPay": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "directPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via a direct pay materials vendor"
                            },
                            "directPayMaterialVendorAlias": {
                              "type": "string",
                              "description": "The alias of the materials vendor"
                            },
                            "projectId": {
                              "type": "string",
                              "description": "The CED project ID, only valid for CED projects"
                            },
                            "projectIdentifier": {
                              "type": "string",
                              "description": "The project identifier"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "noInverterConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "batteryMonitoringSiteId": {
                          "type": "string",
                          "nullable": true
                        },
                        "noBatteryConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "designTool": {
                          "type": "string",
                          "nullable": true
                        },
                        "itcAdderQualifications": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "lowIncomeCommunityEligible": {
                              "type": "boolean"
                            },
                            "incomeCategory": {
                              "type": "string"
                            },
                            "energyCommunityEligible": {
                              "type": "boolean"
                            },
                            "ecEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalTract",
                                "FFECounty",
                                "CoalTractAndFFECounty"
                              ]
                            },
                            "ecCoalTractEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalPowerPlantClosure",
                                "CoalMineClosure",
                                "CoalPowerPlantAndMineClosure",
                                "TractAdjacency"
                              ]
                            },
                            "ecFfeCountyMsaName": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaCode": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaType": {
                              "type": "string"
                            },
                            "domesticContentEligible": {
                              "type": "boolean"
                            },
                            "potentialEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "finalEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "installer": {
                          "type": "object",
                          "description": "This information will only be provided for accounts in IL",
                          "properties": {
                            "legalName": {
                              "type": "string"
                            },
                            "iccDocketNumber": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteFirstName": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteLastName": {
                              "type": "string"
                            },
                            "phoneNumber": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "address": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            }
                          }
                        },
                        "permitSubmittedDate": {
                          "type": "object",
                          "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "permitApprovedDate": {
                          "type": "object",
                          "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "installScheduledDate": {
                          "type": "object",
                          "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "scheduledInspectionDate": {
                          "type": "object",
                          "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "electricianSignoffDate": {
                          "type": "object",
                          "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "expectedPTODate": {
                          "type": "object",
                          "nullable": true,
                          "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "ptoGrantedDate": {
                          "type": "string",
                          "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                        },
                        "epcIncorrectSubmittedPtoGrantedDate": {
                          "type": "string",
                          "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                        },
                        "monitoringSiteId": {
                          "type": "string",
                          "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                        },
                        "systemDesign": {
                          "type": "object",
                          "properties": {
                            "accountId": {
                              "type": "string",
                              "format": "ObjectId"
                            },
                            "systemFirstYearProductionKwh": {
                              "type": "number",
                              "minimum": 0
                            },
                            "systemSizeKw": {
                              "type": "number",
                              "minimum": 0
                            },
                            "inverters": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "isCurrent": {
                              "type": "boolean"
                            },
                            "panelManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "panelModel": {
                              "type": "string",
                              "nullable": true
                            },
                            "totalPanelCount": {
                              "type": "number",
                              "minimum": 0
                            },
                            "arrays": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "panelCount": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The number of panels in this single array"
                                  },
                                  "orientation": {
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "landscape",
                                          "portrait",
                                          "combination"
                                        ],
                                        "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                      },
                                      {
                                        "type": "null"
                                      }
                                    ],
                                    "deprecated": true
                                  },
                                  "tilt": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The tilt from horizontal of the panels in the array"
                                  },
                                  "azimuth": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The direction in degrees of the array"
                                  },
                                  "annualTSRF": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The annual total solar access fraction"
                                  },
                                  "monthlySolarAccess": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "accessPercent"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "minimum": 1,
                                          "maximum": 12,
                                          "description": "The month 1-12"
                                        },
                                        "accessPercent": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly solar access percent"
                                        }
                                      }
                                    },
                                    "minItems": 0,
                                    "maxItems": 12,
                                    "description": "All 12 months are required"
                                  },
                                  "size": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The total size of the array in Watts"
                                  },
                                  "inverter": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The inverter index starting with 0 in the inverters array"
                                  }
                                }
                              }
                            },
                            "firstYearMonthlyProductionKwh": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "month": {
                                    "type": "number",
                                    "description": "The month 1-12",
                                    "minimum": 1,
                                    "maximum": 12
                                  },
                                  "productionKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The monthly production in Kwh"
                                  }
                                }
                              }
                            },
                            "mountingType": {
                              "type": "string",
                              "nullable": true
                            },
                            "mountingManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "storage": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "totalStorageCapacityKwh": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true
                            },
                            "toleranceException": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "note": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "exceptionGivenBy": {
                                  "type": "string",
                                  "nullable": true,
                                  "description": "The user who provided the exception"
                                }
                              }
                            },
                            "attestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "attestmentText"
                              ],
                              "description": "Optional object that attests the range is as expected.",
                              "properties": {
                                "attestmentText": {
                                  "type": "string",
                                  "description": "The attestment text attached to the attestment action."
                                }
                              }
                            },
                            "domesticContentAttestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "valueConfirmation"
                              ],
                              "description": "Optional object that attests the domestic content value confirmation.",
                              "properties": {
                                "valueConfirmation": {
                                  "type": "boolean",
                                  "description": "The affirmation or denial (opt-out) of domestic content."
                                },
                                "resubmission": {
                                  "type": "boolean",
                                  "description": "If this is a resubmission of a domestic content attestment."
                                },
                                "attestmentType": {
                                  "type": "string",
                                  "enum": [
                                    "pvOnly",
                                    "storageOnly",
                                    "pvAndStorage",
                                    "optOut"
                                  ],
                                  "description": "The type of the domestic content attestment (including opt-out)."
                                }
                              }
                            },
                            "mountingHardware": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "type",
                                  "mountingHardwareModels"
                                ],
                                "properties": {
                                  "type": {
                                    "type": "string"
                                  },
                                  "mountingHardwareModels": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "manufacturer",
                                        "category",
                                        "sku"
                                      ],
                                      "properties": {
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "category": {
                                          "type": "string"
                                        },
                                        "sku": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "domesticContentQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "annualConsumption": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "month",
                                  "consumption"
                                ],
                                "properties": {
                                  "month": {
                                    "type": "number"
                                  },
                                  "consumption": {
                                    "type": "number"
                                  }
                                }
                              },
                              "deprecated": true
                            },
                            "itcQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    },
                                    "safeHarborYear": {
                                      "type": "number",
                                      "minimum": 2025
                                    },
                                    "pvFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "inverterFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvTotalFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSpliceFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryIncluded": {
                                      "type": "boolean"
                                    },
                                    "feocExceptionGranted": {
                                      "type": "boolean"
                                    }
                                  }
                                }
                              }
                            },
                            "asBuiltSystemSizeKw": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true,
                              "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                            }
                          }
                        },
                        "solarModuleSerialNumber": {
                          "type": "string",
                          "nullable": true
                        },
                        "domesticContentEligibilityStatus": {
                          "type": "string",
                          "enum": [
                            "eligible",
                            "underConsideration",
                            "epcOptOut",
                            "confirmed"
                          ],
                          "description": "Current status of Domestic Content eligibility",
                          "nullable": true
                        },
                        "ptoGreenlight": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [],
                          "properties": {
                            "greenlightStatus": {
                              "type": "boolean"
                            },
                            "trancheClosed": {
                              "type": "boolean"
                            },
                            "tranchedClosedOn": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideUser": {
                              "type": "string"
                            }
                          }
                        },
                        "propertyType": {
                          "type": "string",
                          "nullable": true
                        },
                        "isSecondSystem": {
                          "type": "boolean",
                          "nullable": true
                        }
                      },
                      "required": [
                        "utility"
                      ]
                    },
                    "else": {
                      "if": {
                        "properties": {
                          "programType": {
                            "enum": [
                              "hvac"
                            ]
                          }
                        }
                      },
                      "then": {
                        "properties": {
                          "ntpAttestment": {
                            "type": "object",
                            "nullable": true,
                            "description": "An attestment that NTP data is correct.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "systemDesign": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "accountId": {
                                "type": "string"
                              },
                              "isCurrent": {
                                "type": "boolean"
                              },
                              "equipment": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "model": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "productId": {
                                      "type": "string",
                                      "description": "Id from the LightReach Product Catalog"
                                    },
                                    "serialNumbers": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                    }
                                  }
                                }
                              },
                              "installKits": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "services": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "discounts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "name",
                                    "cost"
                                  ],
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "description": "AHRI number for the system",
                                "nullable": true
                              }
                            },
                            "if": {
                              "properties": {
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "systemCategory",
                                      "conditionedArea",
                                      "equipment"
                                    ],
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string",
                                                      "nullable": true
                                                    },
                                                    "value": {
                                                      "type": "string",
                                                      "nullable": true
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string",
                                                        "nullable": true
                                                      },
                                                      "value": {
                                                        "type": "string",
                                                        "nullable": true
                                                      }
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning"
                                                  ]
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "else": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "ahriNumber": {
                                        "type": "string",
                                        "description": "AHRI number for the system",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "model": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string"
                                                    },
                                                    "value": {
                                                      "type": "string"
                                                    }
                                                  }
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string"
                                                      },
                                                      "value": {
                                                        "type": "string"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning",
                                                    "zoneBoard",
                                                    "zoneDamper",
                                                    "bypassDamper"
                                                  ]
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "efficiencies": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "nullable": true,
                                        "properties": {
                                          "seer2": {
                                            "type": "string"
                                          },
                                          "hspf2": {
                                            "type": "string",
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "systemInstallDate": {
                            "type": "object",
                            "description": "Date the system is installed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "permitAttestation": {
                            "type": "object",
                            "nullable": true,
                            "description": "Permit attestation object to show attestation information",
                            "properties": {
                              "attestmentText": {
                                "type": "string"
                              }
                            }
                          },
                          "ptoGreenlight": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "greenlightStatus": {
                                "type": "boolean"
                              },
                              "trancheClosed": {
                                "type": "boolean"
                              },
                              "tranchedClosedOn": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideUser": {
                                "type": "string"
                              }
                            }
                          },
                          "propertyDetails": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "homeSize": {
                                "type": "number",
                                "minimum": 1
                              },
                              "existingSystems": {
                                "type": "number",
                                "minimum": 0
                              },
                              "systemsBeingReplaced": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 10
                              }
                            }
                          },
                          "workOrderTotalPrice": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The total price of the work order for accounts"
                          },
                          "warrantyContracts": {
                            "type": "object",
                            "properties": {
                              "provider": {
                                "type": "string"
                              },
                              "contracts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "contractId": {
                                      "type": "string"
                                    },
                                    "dealerInvoiceNumber": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "submissionDate": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      },
                      "else": {
                        "if": {
                          "properties": {
                            "programType": {
                              "enum": [
                                "newHomes"
                              ]
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "utility": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "lseId"
                              ],
                              "properties": {
                                "lseId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "tariffId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "rate": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "utilityName": {
                                  "type": "string"
                                }
                              }
                            },
                            "electricityUsageKwh": {
                              "anyOf": [
                                {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "Total annual usage in kWh"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "minItems": 12,
                                  "maxItems": 12,
                                  "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                }
                              ]
                            },
                            "electricityUsageSource": {
                              "type": "string"
                            },
                            "ced": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "cedSplitPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                },
                                "cedProjectId": {
                                  "type": "string",
                                  "description": "The CED Greentech project ID"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "directPay": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "directPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                },
                                "directPayMaterialVendorAlias": {
                                  "type": "string",
                                  "description": "The alias of the materials vendor"
                                },
                                "projectId": {
                                  "type": "string",
                                  "description": "The CED project ID, only valid for CED projects"
                                },
                                "projectIdentifier": {
                                  "type": "string",
                                  "description": "The project identifier"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "noInverterConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "batteryMonitoringSiteId": {
                              "type": "string",
                              "nullable": true
                            },
                            "noBatteryConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "designTool": {
                              "type": "string",
                              "nullable": true
                            },
                            "itcAdderQualifications": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "lowIncomeCommunityEligible": {
                                  "type": "boolean"
                                },
                                "incomeCategory": {
                                  "type": "string"
                                },
                                "energyCommunityEligible": {
                                  "type": "boolean"
                                },
                                "ecEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalTract",
                                    "FFECounty",
                                    "CoalTractAndFFECounty"
                                  ]
                                },
                                "ecCoalTractEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalPowerPlantClosure",
                                    "CoalMineClosure",
                                    "CoalPowerPlantAndMineClosure",
                                    "TractAdjacency"
                                  ]
                                },
                                "ecFfeCountyMsaName": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaCode": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaType": {
                                  "type": "string"
                                },
                                "domesticContentEligible": {
                                  "type": "boolean"
                                },
                                "potentialEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "finalEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                }
                              }
                            },
                            "installer": {
                              "type": "object",
                              "description": "This information will only be provided for accounts in IL",
                              "properties": {
                                "legalName": {
                                  "type": "string"
                                },
                                "iccDocketNumber": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteFirstName": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteLastName": {
                                  "type": "string"
                                },
                                "phoneNumber": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "address": {
                                  "type": "string"
                                },
                                "city": {
                                  "type": "string"
                                },
                                "state": {
                                  "type": "string"
                                }
                              }
                            },
                            "permitSubmittedDate": {
                              "type": "object",
                              "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "permitApprovedDate": {
                              "type": "object",
                              "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "installScheduledDate": {
                              "type": "object",
                              "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "scheduledInspectionDate": {
                              "type": "object",
                              "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "electricianSignoffDate": {
                              "type": "object",
                              "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "expectedPTODate": {
                              "type": "object",
                              "nullable": true,
                              "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "ptoGrantedDate": {
                              "type": "string",
                              "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                            },
                            "epcIncorrectSubmittedPtoGrantedDate": {
                              "type": "string",
                              "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                            },
                            "monitoringSiteId": {
                              "type": "string",
                              "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                            },
                            "systemDesign": {
                              "type": "object",
                              "properties": {
                                "accountId": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "systemFirstYearProductionKwh": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "systemSizeKw": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "inverters": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "panelManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "panelModel": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "totalPanelCount": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "arrays": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "panelCount": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The number of panels in this single array"
                                      },
                                      "orientation": {
                                        "oneOf": [
                                          {
                                            "type": "string",
                                            "enum": [
                                              "landscape",
                                              "portrait",
                                              "combination"
                                            ],
                                            "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                          },
                                          {
                                            "type": "null"
                                          }
                                        ],
                                        "deprecated": true
                                      },
                                      "tilt": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The tilt from horizontal of the panels in the array"
                                      },
                                      "azimuth": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The direction in degrees of the array"
                                      },
                                      "annualTSRF": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The annual total solar access fraction"
                                      },
                                      "monthlySolarAccess": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "month",
                                            "accessPercent"
                                          ],
                                          "properties": {
                                            "month": {
                                              "type": "number",
                                              "minimum": 1,
                                              "maximum": 12,
                                              "description": "The month 1-12"
                                            },
                                            "accessPercent": {
                                              "type": "number",
                                              "minimum": 0,
                                              "description": "The monthly solar access percent"
                                            }
                                          }
                                        },
                                        "minItems": 0,
                                        "maxItems": 12,
                                        "description": "All 12 months are required"
                                      },
                                      "size": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The total size of the array in Watts"
                                      },
                                      "inverter": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The inverter index starting with 0 in the inverters array"
                                      }
                                    }
                                  }
                                },
                                "firstYearMonthlyProductionKwh": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "description": "The month 1-12",
                                        "minimum": 1,
                                        "maximum": 12
                                      },
                                      "productionKwh": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly production in Kwh"
                                      }
                                    }
                                  }
                                },
                                "mountingType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "mountingManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "storage": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "totalStorageCapacityKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                },
                                "toleranceException": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "note": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "exceptionGivenBy": {
                                      "type": "string",
                                      "nullable": true,
                                      "description": "The user who provided the exception"
                                    }
                                  }
                                },
                                "attestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "attestmentText"
                                  ],
                                  "description": "Optional object that attests the range is as expected.",
                                  "properties": {
                                    "attestmentText": {
                                      "type": "string",
                                      "description": "The attestment text attached to the attestment action."
                                    }
                                  }
                                },
                                "domesticContentAttestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "valueConfirmation"
                                  ],
                                  "description": "Optional object that attests the domestic content value confirmation.",
                                  "properties": {
                                    "valueConfirmation": {
                                      "type": "boolean",
                                      "description": "The affirmation or denial (opt-out) of domestic content."
                                    },
                                    "resubmission": {
                                      "type": "boolean",
                                      "description": "If this is a resubmission of a domestic content attestment."
                                    },
                                    "attestmentType": {
                                      "type": "string",
                                      "enum": [
                                        "pvOnly",
                                        "storageOnly",
                                        "pvAndStorage",
                                        "optOut"
                                      ],
                                      "description": "The type of the domestic content attestment (including opt-out)."
                                    }
                                  }
                                },
                                "mountingHardware": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "mountingHardwareModels"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string"
                                      },
                                      "mountingHardwareModels": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "manufacturer",
                                            "category",
                                            "sku"
                                          ],
                                          "properties": {
                                            "manufacturer": {
                                              "type": "string"
                                            },
                                            "category": {
                                              "type": "string"
                                            },
                                            "sku": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "domesticContentQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "annualConsumption": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "consumption"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number"
                                      },
                                      "consumption": {
                                        "type": "number"
                                      }
                                    }
                                  },
                                  "deprecated": true
                                },
                                "itcQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        },
                                        "safeHarborYear": {
                                          "type": "number",
                                          "minimum": 2025
                                        },
                                        "pvFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "inverterFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvTotalFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSpliceFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryIncluded": {
                                          "type": "boolean"
                                        },
                                        "feocExceptionGranted": {
                                          "type": "boolean"
                                        }
                                      }
                                    }
                                  }
                                },
                                "asBuiltSystemSizeKw": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true,
                                  "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                }
                              }
                            },
                            "solarModuleSerialNumber": {
                              "type": "string",
                              "nullable": true
                            },
                            "domesticContentEligibilityStatus": {
                              "type": "string",
                              "enum": [
                                "eligible",
                                "underConsideration",
                                "epcOptOut",
                                "confirmed"
                              ],
                              "description": "Current status of Domestic Content eligibility",
                              "nullable": true
                            },
                            "ptoGreenlight": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "greenlightStatus": {
                                  "type": "boolean"
                                },
                                "trancheClosed": {
                                  "type": "boolean"
                                },
                                "tranchedClosedOn": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideUser": {
                                  "type": "string"
                                }
                              }
                            },
                            "propertyType": {
                              "type": "string",
                              "nullable": true
                            },
                            "isSecondSystem": {
                              "type": "boolean",
                              "nullable": true
                            }
                          },
                          "required": [
                            "utility"
                          ]
                        },
                        "else": {
                          "if": {
                            "properties": {
                              "programType": {
                                "enum": [
                                  "newCommunity"
                                ]
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "utility": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "lseId"
                                ],
                                "properties": {
                                  "lseId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "tariffId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "rate": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "utilityName": {
                                    "type": "string"
                                  }
                                }
                              },
                              "electricityUsageKwh": {
                                "anyOf": [
                                  {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Total annual usage in kWh"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "minItems": 12,
                                    "maxItems": 12,
                                    "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                  }
                                ]
                              },
                              "electricityUsageSource": {
                                "type": "string"
                              },
                              "ced": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "cedSplitPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                  },
                                  "cedProjectId": {
                                    "type": "string",
                                    "description": "The CED Greentech project ID"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "directPay": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "directPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                  },
                                  "directPayMaterialVendorAlias": {
                                    "type": "string",
                                    "description": "The alias of the materials vendor"
                                  },
                                  "projectId": {
                                    "type": "string",
                                    "description": "The CED project ID, only valid for CED projects"
                                  },
                                  "projectIdentifier": {
                                    "type": "string",
                                    "description": "The project identifier"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "noInverterConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "batteryMonitoringSiteId": {
                                "type": "string",
                                "nullable": true
                              },
                              "noBatteryConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "designTool": {
                                "type": "string",
                                "nullable": true
                              },
                              "itcAdderQualifications": {
                                "type": "object",
                                "nullable": true,
                                "properties": {
                                  "lowIncomeCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "incomeCategory": {
                                    "type": "string"
                                  },
                                  "energyCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "ecEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalTract",
                                      "FFECounty",
                                      "CoalTractAndFFECounty"
                                    ]
                                  },
                                  "ecCoalTractEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalPowerPlantClosure",
                                      "CoalMineClosure",
                                      "CoalPowerPlantAndMineClosure",
                                      "TractAdjacency"
                                    ]
                                  },
                                  "ecFfeCountyMsaName": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaCode": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaType": {
                                    "type": "string"
                                  },
                                  "domesticContentEligible": {
                                    "type": "boolean"
                                  },
                                  "potentialEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "finalEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  }
                                }
                              },
                              "installer": {
                                "type": "object",
                                "description": "This information will only be provided for accounts in IL",
                                "properties": {
                                  "legalName": {
                                    "type": "string"
                                  },
                                  "iccDocketNumber": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteFirstName": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteLastName": {
                                    "type": "string"
                                  },
                                  "phoneNumber": {
                                    "type": "string"
                                  },
                                  "email": {
                                    "type": "string"
                                  },
                                  "address": {
                                    "type": "string"
                                  },
                                  "city": {
                                    "type": "string"
                                  },
                                  "state": {
                                    "type": "string"
                                  }
                                }
                              },
                              "permitSubmittedDate": {
                                "type": "object",
                                "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "permitApprovedDate": {
                                "type": "object",
                                "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "installScheduledDate": {
                                "type": "object",
                                "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "scheduledInspectionDate": {
                                "type": "object",
                                "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "electricianSignoffDate": {
                                "type": "object",
                                "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "expectedPTODate": {
                                "type": "object",
                                "nullable": true,
                                "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "ptoGrantedDate": {
                                "type": "string",
                                "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                              },
                              "epcIncorrectSubmittedPtoGrantedDate": {
                                "type": "string",
                                "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                              },
                              "monitoringSiteId": {
                                "type": "string",
                                "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                              },
                              "systemDesign": {
                                "type": "object",
                                "properties": {
                                  "accountId": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "systemFirstYearProductionKwh": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "systemSizeKw": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "inverters": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "isCurrent": {
                                    "type": "boolean"
                                  },
                                  "panelManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "panelModel": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "totalPanelCount": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "arrays": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "panelCount": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The number of panels in this single array"
                                        },
                                        "orientation": {
                                          "oneOf": [
                                            {
                                              "type": "string",
                                              "enum": [
                                                "landscape",
                                                "portrait",
                                                "combination"
                                              ],
                                              "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                            },
                                            {
                                              "type": "null"
                                            }
                                          ],
                                          "deprecated": true
                                        },
                                        "tilt": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The tilt from horizontal of the panels in the array"
                                        },
                                        "azimuth": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The direction in degrees of the array"
                                        },
                                        "annualTSRF": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The annual total solar access fraction"
                                        },
                                        "monthlySolarAccess": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "month",
                                              "accessPercent"
                                            ],
                                            "properties": {
                                              "month": {
                                                "type": "number",
                                                "minimum": 1,
                                                "maximum": 12,
                                                "description": "The month 1-12"
                                              },
                                              "accessPercent": {
                                                "type": "number",
                                                "minimum": 0,
                                                "description": "The monthly solar access percent"
                                              }
                                            }
                                          },
                                          "minItems": 0,
                                          "maxItems": 12,
                                          "description": "All 12 months are required"
                                        },
                                        "size": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The total size of the array in Watts"
                                        },
                                        "inverter": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The inverter index starting with 0 in the inverters array"
                                        }
                                      }
                                    }
                                  },
                                  "firstYearMonthlyProductionKwh": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "description": "The month 1-12",
                                          "minimum": 1,
                                          "maximum": 12
                                        },
                                        "productionKwh": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly production in Kwh"
                                        }
                                      }
                                    }
                                  },
                                  "mountingType": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "mountingManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "storage": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "totalStorageCapacityKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  },
                                  "toleranceException": {
                                    "type": "object",
                                    "nullable": true,
                                    "properties": {
                                      "note": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "exceptionGivenBy": {
                                        "type": "string",
                                        "nullable": true,
                                        "description": "The user who provided the exception"
                                      }
                                    }
                                  },
                                  "attestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "attestmentText"
                                    ],
                                    "description": "Optional object that attests the range is as expected.",
                                    "properties": {
                                      "attestmentText": {
                                        "type": "string",
                                        "description": "The attestment text attached to the attestment action."
                                      }
                                    }
                                  },
                                  "domesticContentAttestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "valueConfirmation"
                                    ],
                                    "description": "Optional object that attests the domestic content value confirmation.",
                                    "properties": {
                                      "valueConfirmation": {
                                        "type": "boolean",
                                        "description": "The affirmation or denial (opt-out) of domestic content."
                                      },
                                      "resubmission": {
                                        "type": "boolean",
                                        "description": "If this is a resubmission of a domestic content attestment."
                                      },
                                      "attestmentType": {
                                        "type": "string",
                                        "enum": [
                                          "pvOnly",
                                          "storageOnly",
                                          "pvAndStorage",
                                          "optOut"
                                        ],
                                        "description": "The type of the domestic content attestment (including opt-out)."
                                      }
                                    }
                                  },
                                  "mountingHardware": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "mountingHardwareModels"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string"
                                        },
                                        "mountingHardwareModels": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "manufacturer",
                                              "category",
                                              "sku"
                                            ],
                                            "properties": {
                                              "manufacturer": {
                                                "type": "string"
                                              },
                                              "category": {
                                                "type": "string"
                                              },
                                              "sku": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "domesticContentQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "annualConsumption": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "consumption"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number"
                                        },
                                        "consumption": {
                                          "type": "number"
                                        }
                                      }
                                    },
                                    "deprecated": true
                                  },
                                  "itcQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          },
                                          "safeHarborYear": {
                                            "type": "number",
                                            "minimum": 2025
                                          },
                                          "pvFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "inverterFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvTotalFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSpliceFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryIncluded": {
                                            "type": "boolean"
                                          },
                                          "feocExceptionGranted": {
                                            "type": "boolean"
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "asBuiltSystemSizeKw": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true,
                                    "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                  }
                                }
                              },
                              "solarModuleSerialNumber": {
                                "type": "string",
                                "nullable": true
                              },
                              "domesticContentEligibilityStatus": {
                                "type": "string",
                                "enum": [
                                  "eligible",
                                  "underConsideration",
                                  "epcOptOut",
                                  "confirmed"
                                ],
                                "description": "Current status of Domestic Content eligibility",
                                "nullable": true
                              },
                              "ptoGreenlight": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "greenlightStatus": {
                                    "type": "boolean"
                                  },
                                  "trancheClosed": {
                                    "type": "boolean"
                                  },
                                  "tranchedClosedOn": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideUser": {
                                    "type": "string"
                                  }
                                }
                              },
                              "propertyType": {
                                "type": "string",
                                "nullable": true
                              },
                              "isSecondSystem": {
                                "type": "boolean",
                                "nullable": true
                              }
                            },
                            "required": [
                              "utility"
                            ]
                          },
                          "else": {
                            "if": {
                              "properties": {
                                "programType": {
                                  "enum": [
                                    "energyBackup"
                                  ]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "utility": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "lseId"
                                  ],
                                  "properties": {
                                    "lseId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "tariffId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "rate": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "utilityName": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "electricityUsageKwh": {
                                  "anyOf": [
                                    {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "Total annual usage in kWh"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "minItems": 12,
                                      "maxItems": 12,
                                      "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                    }
                                  ]
                                },
                                "electricityUsageSource": {
                                  "type": "string"
                                },
                                "ced": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "cedSplitPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                    },
                                    "cedProjectId": {
                                      "type": "string",
                                      "description": "The CED Greentech project ID"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "directPay": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "directPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                    },
                                    "directPayMaterialVendorAlias": {
                                      "type": "string",
                                      "description": "The alias of the materials vendor"
                                    },
                                    "projectId": {
                                      "type": "string",
                                      "description": "The CED project ID, only valid for CED projects"
                                    },
                                    "projectIdentifier": {
                                      "type": "string",
                                      "description": "The project identifier"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "noInverterConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "batteryMonitoringSiteId": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "noBatteryConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "designTool": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "itcAdderQualifications": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "lowIncomeCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "incomeCategory": {
                                      "type": "string"
                                    },
                                    "energyCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "ecEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalTract",
                                        "FFECounty",
                                        "CoalTractAndFFECounty"
                                      ]
                                    },
                                    "ecCoalTractEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalPowerPlantClosure",
                                        "CoalMineClosure",
                                        "CoalPowerPlantAndMineClosure",
                                        "TractAdjacency"
                                      ]
                                    },
                                    "ecFfeCountyMsaName": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaCode": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaType": {
                                      "type": "string"
                                    },
                                    "domesticContentEligible": {
                                      "type": "boolean"
                                    },
                                    "potentialEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "finalEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    }
                                  }
                                },
                                "installer": {
                                  "type": "object",
                                  "description": "This information will only be provided for accounts in IL",
                                  "properties": {
                                    "legalName": {
                                      "type": "string"
                                    },
                                    "iccDocketNumber": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteFirstName": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteLastName": {
                                      "type": "string"
                                    },
                                    "phoneNumber": {
                                      "type": "string"
                                    },
                                    "email": {
                                      "type": "string"
                                    },
                                    "address": {
                                      "type": "string"
                                    },
                                    "city": {
                                      "type": "string"
                                    },
                                    "state": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "permitSubmittedDate": {
                                  "type": "object",
                                  "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "permitApprovedDate": {
                                  "type": "object",
                                  "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "installScheduledDate": {
                                  "type": "object",
                                  "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "scheduledInspectionDate": {
                                  "type": "object",
                                  "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "electricianSignoffDate": {
                                  "type": "object",
                                  "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "expectedPTODate": {
                                  "type": "object",
                                  "nullable": true,
                                  "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "ptoGrantedDate": {
                                  "type": "string",
                                  "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                                },
                                "epcIncorrectSubmittedPtoGrantedDate": {
                                  "type": "string",
                                  "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                                },
                                "monitoringSiteId": {
                                  "type": "string",
                                  "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                                },
                                "systemDesign": {
                                  "type": "object",
                                  "additionalProperties": true,
                                  "required": [
                                    "equipment"
                                  ],
                                  "properties": {
                                    "equipment": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                          "manufacturer",
                                          "totalCost",
                                          "models",
                                          "type"
                                        ],
                                        "properties": {
                                          "type": {
                                            "type": "string"
                                          },
                                          "manufacturer": {
                                            "type": "string"
                                          },
                                          "models": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "required": [
                                                "name",
                                                "quantity",
                                                "capacity"
                                              ],
                                              "properties": {
                                                "modelNumber": {
                                                  "type": "string"
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "capacity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "solarModuleSerialNumber": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "domesticContentEligibilityStatus": {
                                  "type": "string",
                                  "enum": [
                                    "eligible",
                                    "underConsideration",
                                    "epcOptOut",
                                    "confirmed"
                                  ],
                                  "description": "Current status of Domestic Content eligibility",
                                  "nullable": true
                                },
                                "ptoGreenlight": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "greenlightStatus": {
                                      "type": "boolean"
                                    },
                                    "trancheClosed": {
                                      "type": "boolean"
                                    },
                                    "tranchedClosedOn": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideUser": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "propertyType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "isSecondSystem": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "existingSystemDetails": {
                                  "type": "object",
                                  "properties": {
                                    "hasExistingSystem": {
                                      "type": "boolean"
                                    },
                                    "acSystemSize": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "financeType": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "acSystemSizeAttestation": {
                                      "type": "object",
                                      "nullable": true,
                                      "properties": {
                                        "attestmentText": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "required": [
                                "utility"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "summary": "Update an existing account",
        "tags": [
          "V2 - Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "externalReference": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "externalReferenceIds": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "id"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "id": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    }
                  },
                  "friendlyName": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "address": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "address1": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "address2": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "city": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "state": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "zip": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    }
                  },
                  "applicants": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "enum": [
                            "primary",
                            "secondary"
                          ]
                        },
                        "firstName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "lastName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ],
                          "minLength": 1
                        },
                        "middleName": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "phoneNumber": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "transform": [
                            "trim",
                            "toLowerCase"
                          ]
                        },
                        "address": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "address1": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "address2": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "city": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "state": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "zip": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        },
                        "disclosures": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "type",
                              "version"
                            ],
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "ObjectId"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "creditApplication",
                                  "prequalification",
                                  "txtMessageNotifications",
                                  "termsAndConditions"
                                ]
                              },
                              "version": {
                                "type": "string"
                              },
                              "accepted": {
                                "type": "boolean"
                              }
                            }
                          }
                        }
                      }
                    },
                    "minItems": 1,
                    "maxItems": 2
                  },
                  "coordinates": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "lat": {
                        "type": "number"
                      },
                      "lon": {
                        "type": "number"
                      }
                    }
                  },
                  "language": {
                    "type": "string",
                    "enum": [
                      "English",
                      "Spanish"
                    ]
                  },
                  "utility": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "rate": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "electricityUsageKwh": {
                    "anyOf": [
                      {
                        "type": "number",
                        "minimum": 0,
                        "description": "Total annual usage in kWh"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "number",
                          "minimum": 0
                        },
                        "minItems": 12,
                        "maxItems": 12,
                        "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                      }
                    ]
                  },
                  "electricityUsageSource": {
                    "type": "string",
                    "description": "The source of the electricity usage data"
                  },
                  "systemDetails": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                },
                                "name": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "model": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "productId": {
                                  "type": "string",
                                  "description": "Id from the LightReach Product Catalog"
                                },
                                "serialNumbers": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                }
                              }
                            }
                          },
                          "installKits": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "services": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "discounts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "name",
                                "cost"
                              ],
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "ahriNumber": {
                            "type": "string",
                            "nullable": true,
                            "description": "AHRI number for the system"
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "manufacturer",
                                "totalCost",
                                "models",
                                "type"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "models": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "name",
                                      "quantity",
                                      "capacity"
                                    ],
                                    "properties": {
                                      "modelNumber": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "capacity": {
                                        "type": "number"
                                      },
                                      "productId": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    ],
                    "deprecated": true
                  },
                  "systemDesign": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "type": {
                                  "type": "string",
                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                },
                                "name": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "model": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "productId": {
                                  "type": "string",
                                  "description": "Id from the LightReach Product Catalog"
                                },
                                "serialNumbers": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  },
                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                }
                              }
                            }
                          },
                          "installKits": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "services": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "discounts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "name",
                                "cost"
                              ],
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "cost": {
                                  "type": "number",
                                  "minimum": 0
                                }
                              }
                            },
                            "nullable": true
                          },
                          "ahriNumber": {
                            "type": "string",
                            "nullable": true,
                            "description": "AHRI number for the system"
                          }
                        }
                      },
                      {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "manufacturer",
                                "totalCost",
                                "models",
                                "type"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "models": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "name",
                                      "quantity",
                                      "capacity"
                                    ],
                                    "properties": {
                                      "modelNumber": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "capacity": {
                                        "type": "number"
                                      },
                                      "productId": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      }
                    ]
                  },
                  "salesRepName": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepIdProviderToken": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepLicenseNumber": {
                    "type": "string",
                    "description": "This value is required for all finance contracts in California, Connecticut, Illinois, and Maryland. Effective January 2, 2024 they will be required in Nevada as well.",
                    "transform": [
                      "trim"
                    ]
                  },
                  "salesRepEmail": {
                    "type": "string",
                    "description": "Required in select states.",
                    "transform": [
                      "trim",
                      "toLowerCase"
                    ]
                  },
                  "salesRepPhoneNumber": {
                    "type": "string",
                    "transform": [
                      "trim"
                    ]
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "scheduledInspectionDate": {
                    "type": "object",
                    "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                  },
                  "epcIncorrectSubmittedPtoGrantedDate": {
                    "type": "string",
                    "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                  },
                  "notes": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "milestones": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "install": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "propertyDetails": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "homeSize": {
                        "type": "number",
                        "minimum": 1
                      },
                      "existingSystems": {
                        "type": "number",
                        "minimum": 0
                      },
                      "systemsBeingReplaced": {
                        "type": "number",
                        "minimum": 1,
                        "maximum": 10
                      }
                    }
                  },
                  "existingSystemDetails": {
                    "type": "object",
                    "nullable": true,
                    "properties": {
                      "hasExistingSystem": {
                        "type": "boolean"
                      },
                      "acSystemSize": {
                        "type": "number",
                        "minimum": 0,
                        "nullable": true
                      },
                      "financeType": {
                        "type": "string",
                        "nullable": true
                      },
                      "acSystemSizeAttestation": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                          "attestmentText": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                },
                "if": {
                  "properties": {
                    "salesRepIdProviderToken": {
                      "type": "string",
                      "minLength": 1
                    }
                  },
                  "required": [
                    "salesRepIdProviderToken"
                  ]
                },
                "then": {
                  "required": [
                    "salesRepEmail"
                  ]
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string",
              "minLength": 1
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "programType",
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ]
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "salesRepVerification": {
                      "type": "object",
                      "description": "Sales rep verification object",
                      "properties": {
                        "salesRepReferenceId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string",
                          "nullable": true
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "tranches": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "strandedFulfillment": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "ownedByStrandedAssetTeam": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "history": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "action": {
                                "type": "string"
                              },
                              "updatedBy": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "operationAtData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "operationAtDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDaysTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "placedInServiceData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "placedInServiceDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "placedInServiceTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "opAtHistory": {
                      "type": "array",
                      "nullable": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "eventType": {
                            "type": "string",
                            "enum": [
                              "operationAtCalculated",
                              "verificationDaysCalculated",
                              "verificationDaysExpiredAndReqNoLongerMet",
                              "placedInServiceCalculated"
                            ]
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "triggerEvent": {
                            "type": "string",
                            "nullable": true
                          },
                          "verificationDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "operationAtDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "placedInServiceDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "requirementsNotMet": {
                            "type": "array",
                            "nullable": true,
                            "items": {
                              "type": "string"
                            }
                          },
                          "verificationDays": {
                            "type": "number",
                            "nullable": true
                          },
                          "maxVerificationDays": {
                            "type": "number",
                            "nullable": true
                          }
                        }
                      }
                    },
                    "firstPaymentDueDate": {
                      "type": "string",
                      "nullable": true,
                      "description": "Format: 'MM-dd-yyyy'"
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ]
                    }
                  },
                  "if": {
                    "properties": {
                      "programType": {
                        "enum": [
                          "solar"
                        ]
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "utilityName": {
                            "type": "string"
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "electricityUsageSource": {
                        "type": "string"
                      },
                      "ced": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "cedSplitPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                          },
                          "cedProjectId": {
                            "type": "string",
                            "description": "The CED Greentech project ID"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "directPay": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "directPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via a direct pay materials vendor"
                          },
                          "directPayMaterialVendorAlias": {
                            "type": "string",
                            "description": "The alias of the materials vendor"
                          },
                          "projectId": {
                            "type": "string",
                            "description": "The CED project ID, only valid for CED projects"
                          },
                          "projectIdentifier": {
                            "type": "string",
                            "description": "The project identifier"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string",
                        "nullable": true
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "designTool": {
                        "type": "string",
                        "nullable": true
                      },
                      "itcAdderQualifications": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                          "lowIncomeCommunityEligible": {
                            "type": "boolean"
                          },
                          "incomeCategory": {
                            "type": "string"
                          },
                          "energyCommunityEligible": {
                            "type": "boolean"
                          },
                          "ecEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalTract",
                              "FFECounty",
                              "CoalTractAndFFECounty"
                            ]
                          },
                          "ecCoalTractEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalPowerPlantClosure",
                              "CoalMineClosure",
                              "CoalPowerPlantAndMineClosure",
                              "TractAdjacency"
                            ]
                          },
                          "ecFfeCountyMsaName": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaCode": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaType": {
                            "type": "string"
                          },
                          "domesticContentEligible": {
                            "type": "boolean"
                          },
                          "potentialEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "finalEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      },
                      "installer": {
                        "type": "object",
                        "description": "This information will only be provided for accounts in IL",
                        "properties": {
                          "legalName": {
                            "type": "string"
                          },
                          "iccDocketNumber": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteFirstName": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteLastName": {
                            "type": "string"
                          },
                          "phoneNumber": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "state": {
                            "type": "string"
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "electricianSignoffDate": {
                        "type": "object",
                        "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "ptoGrantedDate": {
                        "type": "string",
                        "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                      },
                      "epcIncorrectSubmittedPtoGrantedDate": {
                        "type": "string",
                        "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                      },
                      "monitoringSiteId": {
                        "type": "string",
                        "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          },
                          "asBuiltSystemSizeKw": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                          }
                        }
                      },
                      "solarModuleSerialNumber": {
                        "type": "string",
                        "nullable": true
                      },
                      "domesticContentEligibilityStatus": {
                        "type": "string",
                        "enum": [
                          "eligible",
                          "underConsideration",
                          "epcOptOut",
                          "confirmed"
                        ],
                        "description": "Current status of Domestic Content eligibility",
                        "nullable": true
                      },
                      "ptoGreenlight": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "greenlightStatus": {
                            "type": "boolean"
                          },
                          "trancheClosed": {
                            "type": "boolean"
                          },
                          "tranchedClosedOn": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideUser": {
                            "type": "string"
                          }
                        }
                      },
                      "propertyType": {
                        "type": "string",
                        "nullable": true
                      },
                      "isSecondSystem": {
                        "type": "boolean",
                        "nullable": true
                      }
                    },
                    "required": [
                      "utility"
                    ]
                  },
                  "else": {
                    "if": {
                      "properties": {
                        "programType": {
                          "enum": [
                            "doePr"
                          ]
                        }
                      }
                    },
                    "then": {
                      "properties": {
                        "utility": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "lseId"
                          ],
                          "properties": {
                            "lseId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "tariffId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "rate": {
                              "type": "number",
                              "minimum": 0
                            },
                            "utilityName": {
                              "type": "string"
                            }
                          }
                        },
                        "electricityUsageKwh": {
                          "anyOf": [
                            {
                              "type": "number",
                              "minimum": 0,
                              "description": "Total annual usage in kWh"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "number",
                                "minimum": 0
                              },
                              "minItems": 12,
                              "maxItems": 12,
                              "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                            }
                          ]
                        },
                        "electricityUsageSource": {
                          "type": "string"
                        },
                        "ced": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "cedSplitPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                            },
                            "cedProjectId": {
                              "type": "string",
                              "description": "The CED Greentech project ID"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "directPay": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "directPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via a direct pay materials vendor"
                            },
                            "directPayMaterialVendorAlias": {
                              "type": "string",
                              "description": "The alias of the materials vendor"
                            },
                            "projectId": {
                              "type": "string",
                              "description": "The CED project ID, only valid for CED projects"
                            },
                            "projectIdentifier": {
                              "type": "string",
                              "description": "The project identifier"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "noInverterConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "batteryMonitoringSiteId": {
                          "type": "string",
                          "nullable": true
                        },
                        "noBatteryConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "designTool": {
                          "type": "string",
                          "nullable": true
                        },
                        "itcAdderQualifications": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "lowIncomeCommunityEligible": {
                              "type": "boolean"
                            },
                            "incomeCategory": {
                              "type": "string"
                            },
                            "energyCommunityEligible": {
                              "type": "boolean"
                            },
                            "ecEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalTract",
                                "FFECounty",
                                "CoalTractAndFFECounty"
                              ]
                            },
                            "ecCoalTractEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalPowerPlantClosure",
                                "CoalMineClosure",
                                "CoalPowerPlantAndMineClosure",
                                "TractAdjacency"
                              ]
                            },
                            "ecFfeCountyMsaName": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaCode": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaType": {
                              "type": "string"
                            },
                            "domesticContentEligible": {
                              "type": "boolean"
                            },
                            "potentialEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "finalEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "installer": {
                          "type": "object",
                          "description": "This information will only be provided for accounts in IL",
                          "properties": {
                            "legalName": {
                              "type": "string"
                            },
                            "iccDocketNumber": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteFirstName": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteLastName": {
                              "type": "string"
                            },
                            "phoneNumber": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "address": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            }
                          }
                        },
                        "permitSubmittedDate": {
                          "type": "object",
                          "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "permitApprovedDate": {
                          "type": "object",
                          "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "installScheduledDate": {
                          "type": "object",
                          "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "scheduledInspectionDate": {
                          "type": "object",
                          "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "electricianSignoffDate": {
                          "type": "object",
                          "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "expectedPTODate": {
                          "type": "object",
                          "nullable": true,
                          "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "ptoGrantedDate": {
                          "type": "string",
                          "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                        },
                        "epcIncorrectSubmittedPtoGrantedDate": {
                          "type": "string",
                          "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                        },
                        "monitoringSiteId": {
                          "type": "string",
                          "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                        },
                        "systemDesign": {
                          "type": "object",
                          "properties": {
                            "accountId": {
                              "type": "string",
                              "format": "ObjectId"
                            },
                            "systemFirstYearProductionKwh": {
                              "type": "number",
                              "minimum": 0
                            },
                            "systemSizeKw": {
                              "type": "number",
                              "minimum": 0
                            },
                            "inverters": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "isCurrent": {
                              "type": "boolean"
                            },
                            "panelManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "panelModel": {
                              "type": "string",
                              "nullable": true
                            },
                            "totalPanelCount": {
                              "type": "number",
                              "minimum": 0
                            },
                            "arrays": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "panelCount": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The number of panels in this single array"
                                  },
                                  "orientation": {
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "landscape",
                                          "portrait",
                                          "combination"
                                        ],
                                        "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                      },
                                      {
                                        "type": "null"
                                      }
                                    ],
                                    "deprecated": true
                                  },
                                  "tilt": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The tilt from horizontal of the panels in the array"
                                  },
                                  "azimuth": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The direction in degrees of the array"
                                  },
                                  "annualTSRF": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The annual total solar access fraction"
                                  },
                                  "monthlySolarAccess": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "accessPercent"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "minimum": 1,
                                          "maximum": 12,
                                          "description": "The month 1-12"
                                        },
                                        "accessPercent": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly solar access percent"
                                        }
                                      }
                                    },
                                    "minItems": 0,
                                    "maxItems": 12,
                                    "description": "All 12 months are required"
                                  },
                                  "size": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The total size of the array in Watts"
                                  },
                                  "inverter": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The inverter index starting with 0 in the inverters array"
                                  }
                                }
                              }
                            },
                            "firstYearMonthlyProductionKwh": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "month": {
                                    "type": "number",
                                    "description": "The month 1-12",
                                    "minimum": 1,
                                    "maximum": 12
                                  },
                                  "productionKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The monthly production in Kwh"
                                  }
                                }
                              }
                            },
                            "mountingType": {
                              "type": "string",
                              "nullable": true
                            },
                            "mountingManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "storage": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "totalStorageCapacityKwh": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true
                            },
                            "toleranceException": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "note": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "exceptionGivenBy": {
                                  "type": "string",
                                  "nullable": true,
                                  "description": "The user who provided the exception"
                                }
                              }
                            },
                            "attestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "attestmentText"
                              ],
                              "description": "Optional object that attests the range is as expected.",
                              "properties": {
                                "attestmentText": {
                                  "type": "string",
                                  "description": "The attestment text attached to the attestment action."
                                }
                              }
                            },
                            "domesticContentAttestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "valueConfirmation"
                              ],
                              "description": "Optional object that attests the domestic content value confirmation.",
                              "properties": {
                                "valueConfirmation": {
                                  "type": "boolean",
                                  "description": "The affirmation or denial (opt-out) of domestic content."
                                },
                                "resubmission": {
                                  "type": "boolean",
                                  "description": "If this is a resubmission of a domestic content attestment."
                                },
                                "attestmentType": {
                                  "type": "string",
                                  "enum": [
                                    "pvOnly",
                                    "storageOnly",
                                    "pvAndStorage",
                                    "optOut"
                                  ],
                                  "description": "The type of the domestic content attestment (including opt-out)."
                                }
                              }
                            },
                            "mountingHardware": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "type",
                                  "mountingHardwareModels"
                                ],
                                "properties": {
                                  "type": {
                                    "type": "string"
                                  },
                                  "mountingHardwareModels": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "manufacturer",
                                        "category",
                                        "sku"
                                      ],
                                      "properties": {
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "category": {
                                          "type": "string"
                                        },
                                        "sku": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "domesticContentQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "annualConsumption": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "month",
                                  "consumption"
                                ],
                                "properties": {
                                  "month": {
                                    "type": "number"
                                  },
                                  "consumption": {
                                    "type": "number"
                                  }
                                }
                              },
                              "deprecated": true
                            },
                            "itcQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    },
                                    "safeHarborYear": {
                                      "type": "number",
                                      "minimum": 2025
                                    },
                                    "pvFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "inverterFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvTotalFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSpliceFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryIncluded": {
                                      "type": "boolean"
                                    },
                                    "feocExceptionGranted": {
                                      "type": "boolean"
                                    }
                                  }
                                }
                              }
                            },
                            "asBuiltSystemSizeKw": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true,
                              "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                            }
                          }
                        },
                        "solarModuleSerialNumber": {
                          "type": "string",
                          "nullable": true
                        },
                        "domesticContentEligibilityStatus": {
                          "type": "string",
                          "enum": [
                            "eligible",
                            "underConsideration",
                            "epcOptOut",
                            "confirmed"
                          ],
                          "description": "Current status of Domestic Content eligibility",
                          "nullable": true
                        },
                        "ptoGreenlight": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [],
                          "properties": {
                            "greenlightStatus": {
                              "type": "boolean"
                            },
                            "trancheClosed": {
                              "type": "boolean"
                            },
                            "tranchedClosedOn": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideUser": {
                              "type": "string"
                            }
                          }
                        },
                        "propertyType": {
                          "type": "string",
                          "nullable": true
                        },
                        "isSecondSystem": {
                          "type": "boolean",
                          "nullable": true
                        }
                      },
                      "required": [
                        "utility"
                      ]
                    },
                    "else": {
                      "if": {
                        "properties": {
                          "programType": {
                            "enum": [
                              "hvac"
                            ]
                          }
                        }
                      },
                      "then": {
                        "properties": {
                          "ntpAttestment": {
                            "type": "object",
                            "nullable": true,
                            "description": "An attestment that NTP data is correct.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "systemDesign": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "accountId": {
                                "type": "string"
                              },
                              "isCurrent": {
                                "type": "boolean"
                              },
                              "equipment": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "model": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "productId": {
                                      "type": "string",
                                      "description": "Id from the LightReach Product Catalog"
                                    },
                                    "serialNumbers": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                    }
                                  }
                                }
                              },
                              "installKits": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "services": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "discounts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "name",
                                    "cost"
                                  ],
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "description": "AHRI number for the system",
                                "nullable": true
                              }
                            },
                            "if": {
                              "properties": {
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "systemCategory",
                                      "conditionedArea",
                                      "equipment"
                                    ],
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string",
                                                      "nullable": true
                                                    },
                                                    "value": {
                                                      "type": "string",
                                                      "nullable": true
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string",
                                                        "nullable": true
                                                      },
                                                      "value": {
                                                        "type": "string",
                                                        "nullable": true
                                                      }
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning"
                                                  ]
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "else": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "ahriNumber": {
                                        "type": "string",
                                        "description": "AHRI number for the system",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "model": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string"
                                                    },
                                                    "value": {
                                                      "type": "string"
                                                    }
                                                  }
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string"
                                                      },
                                                      "value": {
                                                        "type": "string"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning",
                                                    "zoneBoard",
                                                    "zoneDamper",
                                                    "bypassDamper"
                                                  ]
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "efficiencies": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "nullable": true,
                                        "properties": {
                                          "seer2": {
                                            "type": "string"
                                          },
                                          "hspf2": {
                                            "type": "string",
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "systemInstallDate": {
                            "type": "object",
                            "description": "Date the system is installed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "permitAttestation": {
                            "type": "object",
                            "nullable": true,
                            "description": "Permit attestation object to show attestation information",
                            "properties": {
                              "attestmentText": {
                                "type": "string"
                              }
                            }
                          },
                          "ptoGreenlight": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "greenlightStatus": {
                                "type": "boolean"
                              },
                              "trancheClosed": {
                                "type": "boolean"
                              },
                              "tranchedClosedOn": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideUser": {
                                "type": "string"
                              }
                            }
                          },
                          "propertyDetails": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "homeSize": {
                                "type": "number",
                                "minimum": 1
                              },
                              "existingSystems": {
                                "type": "number",
                                "minimum": 0
                              },
                              "systemsBeingReplaced": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 10
                              }
                            }
                          },
                          "workOrderTotalPrice": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The total price of the work order for accounts"
                          },
                          "warrantyContracts": {
                            "type": "object",
                            "properties": {
                              "provider": {
                                "type": "string"
                              },
                              "contracts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "contractId": {
                                      "type": "string"
                                    },
                                    "dealerInvoiceNumber": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "submissionDate": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      },
                      "else": {
                        "if": {
                          "properties": {
                            "programType": {
                              "enum": [
                                "newHomes"
                              ]
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "utility": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "lseId"
                              ],
                              "properties": {
                                "lseId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "tariffId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "rate": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "utilityName": {
                                  "type": "string"
                                }
                              }
                            },
                            "electricityUsageKwh": {
                              "anyOf": [
                                {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "Total annual usage in kWh"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "minItems": 12,
                                  "maxItems": 12,
                                  "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                }
                              ]
                            },
                            "electricityUsageSource": {
                              "type": "string"
                            },
                            "ced": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "cedSplitPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                },
                                "cedProjectId": {
                                  "type": "string",
                                  "description": "The CED Greentech project ID"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "directPay": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "directPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                },
                                "directPayMaterialVendorAlias": {
                                  "type": "string",
                                  "description": "The alias of the materials vendor"
                                },
                                "projectId": {
                                  "type": "string",
                                  "description": "The CED project ID, only valid for CED projects"
                                },
                                "projectIdentifier": {
                                  "type": "string",
                                  "description": "The project identifier"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "noInverterConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "batteryMonitoringSiteId": {
                              "type": "string",
                              "nullable": true
                            },
                            "noBatteryConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "designTool": {
                              "type": "string",
                              "nullable": true
                            },
                            "itcAdderQualifications": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "lowIncomeCommunityEligible": {
                                  "type": "boolean"
                                },
                                "incomeCategory": {
                                  "type": "string"
                                },
                                "energyCommunityEligible": {
                                  "type": "boolean"
                                },
                                "ecEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalTract",
                                    "FFECounty",
                                    "CoalTractAndFFECounty"
                                  ]
                                },
                                "ecCoalTractEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalPowerPlantClosure",
                                    "CoalMineClosure",
                                    "CoalPowerPlantAndMineClosure",
                                    "TractAdjacency"
                                  ]
                                },
                                "ecFfeCountyMsaName": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaCode": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaType": {
                                  "type": "string"
                                },
                                "domesticContentEligible": {
                                  "type": "boolean"
                                },
                                "potentialEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "finalEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                }
                              }
                            },
                            "installer": {
                              "type": "object",
                              "description": "This information will only be provided for accounts in IL",
                              "properties": {
                                "legalName": {
                                  "type": "string"
                                },
                                "iccDocketNumber": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteFirstName": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteLastName": {
                                  "type": "string"
                                },
                                "phoneNumber": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "address": {
                                  "type": "string"
                                },
                                "city": {
                                  "type": "string"
                                },
                                "state": {
                                  "type": "string"
                                }
                              }
                            },
                            "permitSubmittedDate": {
                              "type": "object",
                              "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "permitApprovedDate": {
                              "type": "object",
                              "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "installScheduledDate": {
                              "type": "object",
                              "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "scheduledInspectionDate": {
                              "type": "object",
                              "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "electricianSignoffDate": {
                              "type": "object",
                              "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "expectedPTODate": {
                              "type": "object",
                              "nullable": true,
                              "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "ptoGrantedDate": {
                              "type": "string",
                              "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                            },
                            "epcIncorrectSubmittedPtoGrantedDate": {
                              "type": "string",
                              "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                            },
                            "monitoringSiteId": {
                              "type": "string",
                              "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                            },
                            "systemDesign": {
                              "type": "object",
                              "properties": {
                                "accountId": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "systemFirstYearProductionKwh": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "systemSizeKw": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "inverters": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "panelManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "panelModel": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "totalPanelCount": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "arrays": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "panelCount": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The number of panels in this single array"
                                      },
                                      "orientation": {
                                        "oneOf": [
                                          {
                                            "type": "string",
                                            "enum": [
                                              "landscape",
                                              "portrait",
                                              "combination"
                                            ],
                                            "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                          },
                                          {
                                            "type": "null"
                                          }
                                        ],
                                        "deprecated": true
                                      },
                                      "tilt": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The tilt from horizontal of the panels in the array"
                                      },
                                      "azimuth": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The direction in degrees of the array"
                                      },
                                      "annualTSRF": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The annual total solar access fraction"
                                      },
                                      "monthlySolarAccess": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "month",
                                            "accessPercent"
                                          ],
                                          "properties": {
                                            "month": {
                                              "type": "number",
                                              "minimum": 1,
                                              "maximum": 12,
                                              "description": "The month 1-12"
                                            },
                                            "accessPercent": {
                                              "type": "number",
                                              "minimum": 0,
                                              "description": "The monthly solar access percent"
                                            }
                                          }
                                        },
                                        "minItems": 0,
                                        "maxItems": 12,
                                        "description": "All 12 months are required"
                                      },
                                      "size": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The total size of the array in Watts"
                                      },
                                      "inverter": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The inverter index starting with 0 in the inverters array"
                                      }
                                    }
                                  }
                                },
                                "firstYearMonthlyProductionKwh": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "description": "The month 1-12",
                                        "minimum": 1,
                                        "maximum": 12
                                      },
                                      "productionKwh": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly production in Kwh"
                                      }
                                    }
                                  }
                                },
                                "mountingType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "mountingManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "storage": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "totalStorageCapacityKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                },
                                "toleranceException": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "note": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "exceptionGivenBy": {
                                      "type": "string",
                                      "nullable": true,
                                      "description": "The user who provided the exception"
                                    }
                                  }
                                },
                                "attestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "attestmentText"
                                  ],
                                  "description": "Optional object that attests the range is as expected.",
                                  "properties": {
                                    "attestmentText": {
                                      "type": "string",
                                      "description": "The attestment text attached to the attestment action."
                                    }
                                  }
                                },
                                "domesticContentAttestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "valueConfirmation"
                                  ],
                                  "description": "Optional object that attests the domestic content value confirmation.",
                                  "properties": {
                                    "valueConfirmation": {
                                      "type": "boolean",
                                      "description": "The affirmation or denial (opt-out) of domestic content."
                                    },
                                    "resubmission": {
                                      "type": "boolean",
                                      "description": "If this is a resubmission of a domestic content attestment."
                                    },
                                    "attestmentType": {
                                      "type": "string",
                                      "enum": [
                                        "pvOnly",
                                        "storageOnly",
                                        "pvAndStorage",
                                        "optOut"
                                      ],
                                      "description": "The type of the domestic content attestment (including opt-out)."
                                    }
                                  }
                                },
                                "mountingHardware": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "mountingHardwareModels"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string"
                                      },
                                      "mountingHardwareModels": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "manufacturer",
                                            "category",
                                            "sku"
                                          ],
                                          "properties": {
                                            "manufacturer": {
                                              "type": "string"
                                            },
                                            "category": {
                                              "type": "string"
                                            },
                                            "sku": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "domesticContentQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "annualConsumption": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "consumption"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number"
                                      },
                                      "consumption": {
                                        "type": "number"
                                      }
                                    }
                                  },
                                  "deprecated": true
                                },
                                "itcQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        },
                                        "safeHarborYear": {
                                          "type": "number",
                                          "minimum": 2025
                                        },
                                        "pvFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "inverterFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvTotalFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSpliceFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryIncluded": {
                                          "type": "boolean"
                                        },
                                        "feocExceptionGranted": {
                                          "type": "boolean"
                                        }
                                      }
                                    }
                                  }
                                },
                                "asBuiltSystemSizeKw": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true,
                                  "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                }
                              }
                            },
                            "solarModuleSerialNumber": {
                              "type": "string",
                              "nullable": true
                            },
                            "domesticContentEligibilityStatus": {
                              "type": "string",
                              "enum": [
                                "eligible",
                                "underConsideration",
                                "epcOptOut",
                                "confirmed"
                              ],
                              "description": "Current status of Domestic Content eligibility",
                              "nullable": true
                            },
                            "ptoGreenlight": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "greenlightStatus": {
                                  "type": "boolean"
                                },
                                "trancheClosed": {
                                  "type": "boolean"
                                },
                                "tranchedClosedOn": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideUser": {
                                  "type": "string"
                                }
                              }
                            },
                            "propertyType": {
                              "type": "string",
                              "nullable": true
                            },
                            "isSecondSystem": {
                              "type": "boolean",
                              "nullable": true
                            }
                          },
                          "required": [
                            "utility"
                          ]
                        },
                        "else": {
                          "if": {
                            "properties": {
                              "programType": {
                                "enum": [
                                  "newCommunity"
                                ]
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "utility": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "lseId"
                                ],
                                "properties": {
                                  "lseId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "tariffId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "rate": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "utilityName": {
                                    "type": "string"
                                  }
                                }
                              },
                              "electricityUsageKwh": {
                                "anyOf": [
                                  {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Total annual usage in kWh"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "minItems": 12,
                                    "maxItems": 12,
                                    "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                  }
                                ]
                              },
                              "electricityUsageSource": {
                                "type": "string"
                              },
                              "ced": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "cedSplitPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                  },
                                  "cedProjectId": {
                                    "type": "string",
                                    "description": "The CED Greentech project ID"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "directPay": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "directPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                  },
                                  "directPayMaterialVendorAlias": {
                                    "type": "string",
                                    "description": "The alias of the materials vendor"
                                  },
                                  "projectId": {
                                    "type": "string",
                                    "description": "The CED project ID, only valid for CED projects"
                                  },
                                  "projectIdentifier": {
                                    "type": "string",
                                    "description": "The project identifier"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "noInverterConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "batteryMonitoringSiteId": {
                                "type": "string",
                                "nullable": true
                              },
                              "noBatteryConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "designTool": {
                                "type": "string",
                                "nullable": true
                              },
                              "itcAdderQualifications": {
                                "type": "object",
                                "nullable": true,
                                "properties": {
                                  "lowIncomeCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "incomeCategory": {
                                    "type": "string"
                                  },
                                  "energyCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "ecEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalTract",
                                      "FFECounty",
                                      "CoalTractAndFFECounty"
                                    ]
                                  },
                                  "ecCoalTractEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalPowerPlantClosure",
                                      "CoalMineClosure",
                                      "CoalPowerPlantAndMineClosure",
                                      "TractAdjacency"
                                    ]
                                  },
                                  "ecFfeCountyMsaName": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaCode": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaType": {
                                    "type": "string"
                                  },
                                  "domesticContentEligible": {
                                    "type": "boolean"
                                  },
                                  "potentialEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "finalEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  }
                                }
                              },
                              "installer": {
                                "type": "object",
                                "description": "This information will only be provided for accounts in IL",
                                "properties": {
                                  "legalName": {
                                    "type": "string"
                                  },
                                  "iccDocketNumber": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteFirstName": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteLastName": {
                                    "type": "string"
                                  },
                                  "phoneNumber": {
                                    "type": "string"
                                  },
                                  "email": {
                                    "type": "string"
                                  },
                                  "address": {
                                    "type": "string"
                                  },
                                  "city": {
                                    "type": "string"
                                  },
                                  "state": {
                                    "type": "string"
                                  }
                                }
                              },
                              "permitSubmittedDate": {
                                "type": "object",
                                "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "permitApprovedDate": {
                                "type": "object",
                                "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "installScheduledDate": {
                                "type": "object",
                                "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "scheduledInspectionDate": {
                                "type": "object",
                                "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "electricianSignoffDate": {
                                "type": "object",
                                "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "expectedPTODate": {
                                "type": "object",
                                "nullable": true,
                                "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "ptoGrantedDate": {
                                "type": "string",
                                "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                              },
                              "epcIncorrectSubmittedPtoGrantedDate": {
                                "type": "string",
                                "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                              },
                              "monitoringSiteId": {
                                "type": "string",
                                "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                              },
                              "systemDesign": {
                                "type": "object",
                                "properties": {
                                  "accountId": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "systemFirstYearProductionKwh": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "systemSizeKw": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "inverters": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "isCurrent": {
                                    "type": "boolean"
                                  },
                                  "panelManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "panelModel": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "totalPanelCount": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "arrays": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "panelCount": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The number of panels in this single array"
                                        },
                                        "orientation": {
                                          "oneOf": [
                                            {
                                              "type": "string",
                                              "enum": [
                                                "landscape",
                                                "portrait",
                                                "combination"
                                              ],
                                              "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                            },
                                            {
                                              "type": "null"
                                            }
                                          ],
                                          "deprecated": true
                                        },
                                        "tilt": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The tilt from horizontal of the panels in the array"
                                        },
                                        "azimuth": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The direction in degrees of the array"
                                        },
                                        "annualTSRF": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The annual total solar access fraction"
                                        },
                                        "monthlySolarAccess": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "month",
                                              "accessPercent"
                                            ],
                                            "properties": {
                                              "month": {
                                                "type": "number",
                                                "minimum": 1,
                                                "maximum": 12,
                                                "description": "The month 1-12"
                                              },
                                              "accessPercent": {
                                                "type": "number",
                                                "minimum": 0,
                                                "description": "The monthly solar access percent"
                                              }
                                            }
                                          },
                                          "minItems": 0,
                                          "maxItems": 12,
                                          "description": "All 12 months are required"
                                        },
                                        "size": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The total size of the array in Watts"
                                        },
                                        "inverter": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The inverter index starting with 0 in the inverters array"
                                        }
                                      }
                                    }
                                  },
                                  "firstYearMonthlyProductionKwh": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "description": "The month 1-12",
                                          "minimum": 1,
                                          "maximum": 12
                                        },
                                        "productionKwh": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly production in Kwh"
                                        }
                                      }
                                    }
                                  },
                                  "mountingType": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "mountingManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "storage": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "totalStorageCapacityKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  },
                                  "toleranceException": {
                                    "type": "object",
                                    "nullable": true,
                                    "properties": {
                                      "note": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "exceptionGivenBy": {
                                        "type": "string",
                                        "nullable": true,
                                        "description": "The user who provided the exception"
                                      }
                                    }
                                  },
                                  "attestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "attestmentText"
                                    ],
                                    "description": "Optional object that attests the range is as expected.",
                                    "properties": {
                                      "attestmentText": {
                                        "type": "string",
                                        "description": "The attestment text attached to the attestment action."
                                      }
                                    }
                                  },
                                  "domesticContentAttestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "valueConfirmation"
                                    ],
                                    "description": "Optional object that attests the domestic content value confirmation.",
                                    "properties": {
                                      "valueConfirmation": {
                                        "type": "boolean",
                                        "description": "The affirmation or denial (opt-out) of domestic content."
                                      },
                                      "resubmission": {
                                        "type": "boolean",
                                        "description": "If this is a resubmission of a domestic content attestment."
                                      },
                                      "attestmentType": {
                                        "type": "string",
                                        "enum": [
                                          "pvOnly",
                                          "storageOnly",
                                          "pvAndStorage",
                                          "optOut"
                                        ],
                                        "description": "The type of the domestic content attestment (including opt-out)."
                                      }
                                    }
                                  },
                                  "mountingHardware": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "mountingHardwareModels"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string"
                                        },
                                        "mountingHardwareModels": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "manufacturer",
                                              "category",
                                              "sku"
                                            ],
                                            "properties": {
                                              "manufacturer": {
                                                "type": "string"
                                              },
                                              "category": {
                                                "type": "string"
                                              },
                                              "sku": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "domesticContentQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "annualConsumption": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "consumption"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number"
                                        },
                                        "consumption": {
                                          "type": "number"
                                        }
                                      }
                                    },
                                    "deprecated": true
                                  },
                                  "itcQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          },
                                          "safeHarborYear": {
                                            "type": "number",
                                            "minimum": 2025
                                          },
                                          "pvFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "inverterFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvTotalFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSpliceFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryIncluded": {
                                            "type": "boolean"
                                          },
                                          "feocExceptionGranted": {
                                            "type": "boolean"
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "asBuiltSystemSizeKw": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true,
                                    "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                  }
                                }
                              },
                              "solarModuleSerialNumber": {
                                "type": "string",
                                "nullable": true
                              },
                              "domesticContentEligibilityStatus": {
                                "type": "string",
                                "enum": [
                                  "eligible",
                                  "underConsideration",
                                  "epcOptOut",
                                  "confirmed"
                                ],
                                "description": "Current status of Domestic Content eligibility",
                                "nullable": true
                              },
                              "ptoGreenlight": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "greenlightStatus": {
                                    "type": "boolean"
                                  },
                                  "trancheClosed": {
                                    "type": "boolean"
                                  },
                                  "tranchedClosedOn": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideUser": {
                                    "type": "string"
                                  }
                                }
                              },
                              "propertyType": {
                                "type": "string",
                                "nullable": true
                              },
                              "isSecondSystem": {
                                "type": "boolean",
                                "nullable": true
                              }
                            },
                            "required": [
                              "utility"
                            ]
                          },
                          "else": {
                            "if": {
                              "properties": {
                                "programType": {
                                  "enum": [
                                    "energyBackup"
                                  ]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "utility": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "lseId"
                                  ],
                                  "properties": {
                                    "lseId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "tariffId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "rate": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "utilityName": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "electricityUsageKwh": {
                                  "anyOf": [
                                    {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "Total annual usage in kWh"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "minItems": 12,
                                      "maxItems": 12,
                                      "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                    }
                                  ]
                                },
                                "electricityUsageSource": {
                                  "type": "string"
                                },
                                "ced": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "cedSplitPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                    },
                                    "cedProjectId": {
                                      "type": "string",
                                      "description": "The CED Greentech project ID"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "directPay": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "directPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                    },
                                    "directPayMaterialVendorAlias": {
                                      "type": "string",
                                      "description": "The alias of the materials vendor"
                                    },
                                    "projectId": {
                                      "type": "string",
                                      "description": "The CED project ID, only valid for CED projects"
                                    },
                                    "projectIdentifier": {
                                      "type": "string",
                                      "description": "The project identifier"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "noInverterConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "batteryMonitoringSiteId": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "noBatteryConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "designTool": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "itcAdderQualifications": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "lowIncomeCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "incomeCategory": {
                                      "type": "string"
                                    },
                                    "energyCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "ecEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalTract",
                                        "FFECounty",
                                        "CoalTractAndFFECounty"
                                      ]
                                    },
                                    "ecCoalTractEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalPowerPlantClosure",
                                        "CoalMineClosure",
                                        "CoalPowerPlantAndMineClosure",
                                        "TractAdjacency"
                                      ]
                                    },
                                    "ecFfeCountyMsaName": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaCode": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaType": {
                                      "type": "string"
                                    },
                                    "domesticContentEligible": {
                                      "type": "boolean"
                                    },
                                    "potentialEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "finalEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    }
                                  }
                                },
                                "installer": {
                                  "type": "object",
                                  "description": "This information will only be provided for accounts in IL",
                                  "properties": {
                                    "legalName": {
                                      "type": "string"
                                    },
                                    "iccDocketNumber": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteFirstName": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteLastName": {
                                      "type": "string"
                                    },
                                    "phoneNumber": {
                                      "type": "string"
                                    },
                                    "email": {
                                      "type": "string"
                                    },
                                    "address": {
                                      "type": "string"
                                    },
                                    "city": {
                                      "type": "string"
                                    },
                                    "state": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "permitSubmittedDate": {
                                  "type": "object",
                                  "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "permitApprovedDate": {
                                  "type": "object",
                                  "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "installScheduledDate": {
                                  "type": "object",
                                  "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "scheduledInspectionDate": {
                                  "type": "object",
                                  "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "electricianSignoffDate": {
                                  "type": "object",
                                  "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "expectedPTODate": {
                                  "type": "object",
                                  "nullable": true,
                                  "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "ptoGrantedDate": {
                                  "type": "string",
                                  "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                                },
                                "epcIncorrectSubmittedPtoGrantedDate": {
                                  "type": "string",
                                  "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                                },
                                "monitoringSiteId": {
                                  "type": "string",
                                  "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                                },
                                "systemDesign": {
                                  "type": "object",
                                  "additionalProperties": true,
                                  "required": [
                                    "equipment"
                                  ],
                                  "properties": {
                                    "equipment": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                          "manufacturer",
                                          "totalCost",
                                          "models",
                                          "type"
                                        ],
                                        "properties": {
                                          "type": {
                                            "type": "string"
                                          },
                                          "manufacturer": {
                                            "type": "string"
                                          },
                                          "models": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "required": [
                                                "name",
                                                "quantity",
                                                "capacity"
                                              ],
                                              "properties": {
                                                "modelNumber": {
                                                  "type": "string"
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "capacity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "solarModuleSerialNumber": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "domesticContentEligibilityStatus": {
                                  "type": "string",
                                  "enum": [
                                    "eligible",
                                    "underConsideration",
                                    "epcOptOut",
                                    "confirmed"
                                  ],
                                  "description": "Current status of Domestic Content eligibility",
                                  "nullable": true
                                },
                                "ptoGreenlight": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "greenlightStatus": {
                                      "type": "boolean"
                                    },
                                    "trancheClosed": {
                                      "type": "boolean"
                                    },
                                    "tranchedClosedOn": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideUser": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "propertyType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "isSecondSystem": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "existingSystemDetails": {
                                  "type": "object",
                                  "properties": {
                                    "hasExistingSystem": {
                                      "type": "boolean"
                                    },
                                    "acSystemSize": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "financeType": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "acSystemSizeAttestation": {
                                      "type": "object",
                                      "nullable": true,
                                      "properties": {
                                        "attestmentText": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "required": [
                                "utility"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/": {
      "post": {
        "summary": "Create a new account",
        "tags": [
          "V2 - Accounts"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "anyOf": [
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "hvac"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "systemDesign": {
                        "oneOf": [
                          {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "equipment"
                            ],
                            "properties": {
                              "equipment": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "model": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "productId": {
                                      "type": "string",
                                      "description": "Id from the LightReach Product Catalog"
                                    },
                                    "serialNumbers": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                    }
                                  }
                                }
                              },
                              "installKits": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "services": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "discounts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "name",
                                    "cost"
                                  ],
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "nullable": true,
                                "description": "AHRI number for the system"
                              }
                            }
                          },
                          {
                            "if": {
                              "type": "object",
                              "required": [
                                "isPreliminary"
                              ],
                              "properties": {
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "then": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "systems",
                                "isPreliminary"
                              ],
                              "properties": {
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "systemCategory",
                                      "conditionedArea",
                                      "equipment"
                                    ],
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string",
                                                      "nullable": true
                                                    },
                                                    "value": {
                                                      "type": "string",
                                                      "nullable": true
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string",
                                                        "nullable": true
                                                      },
                                                      "value": {
                                                        "type": "string",
                                                        "nullable": true
                                                      }
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning"
                                                  ]
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "else": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "systems"
                              ],
                              "properties": {
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "systemCategory",
                                      "conditionedArea",
                                      "equipment"
                                    ],
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "ahriNumber": {
                                        "type": "string",
                                        "nullable": true,
                                        "description": "AHRI number for the system"
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "model": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string"
                                                    },
                                                    "value": {
                                                      "type": "string"
                                                    }
                                                  }
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string"
                                                      },
                                                      "value": {
                                                        "type": "string"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning",
                                                    "zoneBoard",
                                                    "zoneDamper",
                                                    "bypassDamper"
                                                  ]
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "manufacturer": {
                                        "type": "string",
                                        "enum": [
                                          "Trane",
                                          "American Standard",
                                          "Run-Tru",
                                          "Ameristar",
                                          "Daikin",
                                          "Goodman",
                                          "Amana",
                                          "Samsung",
                                          "Mitsubishi Electric",
                                          "Lennox",
                                          "Carrier",
                                          "Bryant",
                                          "Rheem",
                                          "Fujitsu",
                                          "Bosch",
                                          "York",
                                          "LG",
                                          "Gree"
                                        ],
                                        "description": "The OEM manufacturer of the main HVAC equipment being installed."
                                      },
                                      "efficiencies": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "seer2": {
                                            "type": "string"
                                          },
                                          "hspf2": {
                                            "type": "string",
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "isPreliminary": {
                                  "enum": [false]
                                }
                              }
                            }
                          }
                        ]
                      },
                      "propertyDetails": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "homeSize": {
                            "type": "number",
                            "minimum": 1
                          },
                          "existingSystems": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemsBeingReplaced": {
                            "type": "number",
                            "minimum": 1,
                            "maximum": 10
                          }
                        }
                      }
                    }
                  },
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType",
                      "utility"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "solar"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "salesRepIdProviderToken": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "salesRepIdProviderToken": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "required": [
                            "salesRepIdProviderToken"
                          ]
                        },
                        "then": {
                          "required": [
                            "salesRepEmail"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType",
                      "utility"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "salesRepIdProviderToken": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "externalReferenceIds": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "id"
                          ],
                          "properties": {
                            "type": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "id": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            }
                          }
                        }
                      }
                    }
                  },
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType",
                      "utility"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "newHomes"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "salesRepIdProviderToken": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "salesRepIdProviderToken": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "required": [
                            "salesRepIdProviderToken"
                          ]
                        },
                        "then": {
                          "required": [
                            "salesRepEmail"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType",
                      "utility"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "newCommunity"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "salesRepIdProviderToken": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "salesRepIdProviderToken": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "required": [
                            "salesRepIdProviderToken"
                          ]
                        },
                        "then": {
                          "required": [
                            "salesRepEmail"
                          ]
                        }
                      }
                    ]
                  },
                  {
                    "type": "object",
                    "required": [
                      "applicants",
                      "salesRepName",
                      "programType"
                    ],
                    "properties": {
                      "externalReference": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "energyBackup"
                        ]
                      },
                      "friendlyName": {
                        "type": "string"
                      },
                      "address": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "state"
                        ],
                        "properties": {
                          "address1": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "address2": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "city": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "state": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "zip": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      },
                      "applicants": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "firstName",
                            "lastName",
                            "phoneNumber",
                            "email"
                          ],
                          "properties": {
                            "id": {
                              "type": "string"
                            },
                            "type": {
                              "enum": [
                                "primary",
                                "secondary"
                              ]
                            },
                            "firstName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "lastName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ],
                              "minLength": 1
                            },
                            "middleName": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "phoneNumber": {
                              "type": "string",
                              "transform": [
                                "trim"
                              ]
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "transform": [
                                "trim",
                                "toLowerCase"
                              ]
                            },
                            "address": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "state"
                              ],
                              "properties": {
                                "address1": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "address2": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "city": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "state": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                },
                                "zip": {
                                  "type": "string",
                                  "transform": [
                                    "trim"
                                  ]
                                }
                              }
                            },
                            "disclosures": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "type",
                                  "version"
                                ],
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "type": {
                                    "type": "string",
                                    "enum": [
                                      "creditApplication",
                                      "prequalification",
                                      "txtMessageNotifications",
                                      "termsAndConditions"
                                    ]
                                  },
                                  "version": {
                                    "type": "string"
                                  },
                                  "accepted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            },
                            "ssnFormat": {
                              "type": "string"
                            },
                            "creditDOB": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            },
                            "dob": {
                              "type": "string",
                              "description": "This should be in the format MM/dd/yyyy"
                            }
                          }
                        },
                        "minItems": 1,
                        "maxItems": 2
                      },
                      "coordinates": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lat",
                          "lon"
                        ],
                        "properties": {
                          "lat": {
                            "type": "number"
                          },
                          "lon": {
                            "type": "number"
                          }
                        }
                      },
                      "language": {
                        "type": "string",
                        "enum": [
                          "English",
                          "Spanish"
                        ]
                      },
                      "salesRepName": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      },
                      "salesRepLicenseNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepEmail": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim",
                          "toLowerCase"
                        ]
                      },
                      "salesRepPhoneNumber": {
                        "type": "string",
                        "description": "Required in select states.",
                        "transform": [
                          "trim"
                        ]
                      },
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "systemDesign": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "equipment"
                        ],
                        "properties": {
                          "equipment": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "manufacturer",
                                "totalCost",
                                "models",
                                "type"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "manufacturer": {
                                  "type": "string"
                                },
                                "models": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "required": [
                                      "name",
                                      "quantity",
                                      "capacity"
                                    ],
                                    "properties": {
                                      "modelNumber": {
                                        "type": "string"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "capacity": {
                                        "type": "number"
                                      },
                                      "productId": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number"
                                }
                              }
                            }
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "salesRepIdProviderToken": {
                        "type": "string",
                        "transform": [
                          "trim"
                        ]
                      }
                    },
                    "allOf": [
                      {
                        "if": {
                          "properties": {
                            "salesRepIdProviderToken": {
                              "type": "string",
                              "minLength": 1
                            }
                          },
                          "required": [
                            "salesRepIdProviderToken"
                          ]
                        },
                        "then": {
                          "required": [
                            "salesRepEmail"
                          ]
                        }
                      }
                    ]
                  }
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "programType",
                    "id",
                    "organizationId"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "organizationId": {
                      "type": "string"
                    },
                    "licensedOrganizationId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string"
                    },
                    "externalReferenceIds": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "id"
                        ],
                        "properties": {
                          "type": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "id": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          }
                        }
                      }
                    },
                    "friendlyName": {
                      "type": "string"
                    },
                    "primaryApplicantName": {
                      "type": "string"
                    },
                    "coordinates": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "lat",
                        "lon"
                      ],
                      "properties": {
                        "lat": {
                          "type": "number"
                        },
                        "lon": {
                          "type": "number"
                        }
                      }
                    },
                    "address": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "state"
                      ],
                      "properties": {
                        "address1": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "address2": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "city": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "state": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        },
                        "zip": {
                          "type": "string",
                          "transform": [
                            "trim"
                          ]
                        }
                      }
                    },
                    "applicants": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "type",
                          "firstName",
                          "lastName",
                          "phoneNumber",
                          "email"
                        ],
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "enum": [
                              "primary",
                              "secondary"
                            ]
                          },
                          "firstName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "lastName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ],
                            "minLength": 1
                          },
                          "middleName": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "phoneNumber": {
                            "type": "string",
                            "transform": [
                              "trim"
                            ]
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "transform": [
                              "trim",
                              "toLowerCase"
                            ]
                          },
                          "address": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "state"
                            ],
                            "properties": {
                              "address1": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "address2": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "city": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "state": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              },
                              "zip": {
                                "type": "string",
                                "transform": [
                                  "trim"
                                ]
                              }
                            }
                          },
                          "disclosures": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "required": [
                                "type",
                                "version"
                              ],
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "creditApplication",
                                    "prequalification",
                                    "txtMessageNotifications",
                                    "termsAndConditions"
                                  ]
                                },
                                "version": {
                                  "type": "string"
                                },
                                "accepted": {
                                  "type": "boolean"
                                }
                              }
                            }
                          },
                          "ssnFormat": {
                            "type": "string"
                          },
                          "creditDOB": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          },
                          "dob": {
                            "type": "string",
                            "description": "This should be in the format MM/dd/yyyy"
                          }
                        }
                      },
                      "minItems": 1
                    },
                    "language": {
                      "type": "string",
                      "enum": [
                        "English",
                        "Spanish"
                      ]
                    },
                    "salesRepName": {
                      "type": "string"
                    },
                    "salesRepLicenseNumber": {
                      "type": "string"
                    },
                    "salesRepEmail": {
                      "type": "string"
                    },
                    "salesRepPhoneNumber": {
                      "type": "string"
                    },
                    "salesRepVerification": {
                      "type": "object",
                      "description": "Sales rep verification object",
                      "properties": {
                        "salesRepReferenceId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    },
                    "inboundPayments": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "provider": {
                          "type": "string",
                          "enum": [
                            "concord",
                            "stripe"
                          ]
                        },
                        "providerId": {
                          "type": "string",
                          "nullable": true
                        }
                      }
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "1 - Created",
                        "2 - Credit Approved",
                        "3 - Credit Approved",
                        "4 - Credit Denied",
                        "Terms & Conditions Accepted",
                        "5 - Contract Created",
                        "6 - Contract Sent",
                        "7 - Contract Signed",
                        "8 - Contract Approved",
                        "9 - Notice to Proceed eligible",
                        "10 - M0 Notice to Proceed issued",
                        "Install Milestone Submitted",
                        "Install Milestone Rejected",
                        "Install Milestone Resubmitted",
                        "Install Milestone Approved",
                        "System Activation Milestone Submitted",
                        "System Activation Milestone Rejected",
                        "System Activation Milestone Resubmitted",
                        "System Activation Milestone Approved",
                        "Job Close Out Approved",
                        "99 - Credit Expired"
                      ]
                    },
                    "currentMilestone": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "customerAgreement",
                            "initialAccountDetails",
                            "noticeToProceed",
                            "install",
                            "activation",
                            "postActivation",
                            "title",
                            "installComplete",
                            "installPackageComplete",
                            "noticeToProceedIssued",
                            "systemActivated",
                            "systemActivation"
                          ]
                        },
                        "name": {
                          "type": "string"
                        },
                        "order": {
                          "type": "number",
                          "minimum": 0
                        },
                        "accountMilestoneId": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "approved",
                            "conditionallyApproved",
                            "paused",
                            "pending",
                            "rejected",
                            "restarted",
                            "resubmitted",
                            "submitted"
                          ]
                        },
                        "exception": {
                          "type": "object"
                        },
                        "requirements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "completedAt": {
                                "type": "string"
                              },
                              "isRequired": {
                                "type": "boolean"
                              },
                              "name": {
                                "type": "string"
                              },
                              "order": {
                                "type": "number",
                                "minimum": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "completed",
                                  "error",
                                  "inProgress",
                                  "pending",
                                  "rejected",
                                  "resubmitted",
                                  "submitted"
                                ]
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "activationDocuments",
                                  "activationPackage",
                                  "acceptTermsAndConditions",
                                  "confirmInstalledSystem",
                                  "consumerAccountSignUp",
                                  "consumerOrderReview",
                                  "contractSigned",
                                  "contractFinalized",
                                  "creditApproved",
                                  "customerInfo",
                                  "customerRequirements",
                                  "customerSignOff",
                                  "dxfApproved",
                                  "domesticContentConfirmation",
                                  "electricalPhotosApproved",
                                  "electricianSignOff",
                                  "existingSystemDocumentation",
                                  "extendedWarranty",
                                  "finalDesignApproved",
                                  "incentives",
                                  "incentiveDocumentsApproved",
                                  "identityVerified",
                                  "installPackage",
                                  "installPhotosApproved",
                                  "jobCloseOutApproved",
                                  "monitoringActive",
                                  "monitoringSiteId",
                                  "ntpPackage",
                                  "paymentMethodSubmitted",
                                  "permitApproved",
                                  "planSetApproved",
                                  "productionModelApproved",
                                  "projectSitePhotosApproved",
                                  "proposal",
                                  "ptoConfirmation",
                                  "quoteActive",
                                  "roofPhotosApproved",
                                  "shadeReportApproved",
                                  "siteImprovements",
                                  "storagePhotosApproved",
                                  "systemCommissioningApproved",
                                  "systemDetailsSubmitted",
                                  "titleApproved",
                                  "underwriting",
                                  "utilityBill",
                                  "utilityPowerTurnedOnApproved",
                                  "proofOfLoad",
                                  "workOrderApproved",
                                  "postActivationPackage",
                                  "proofOfInstallation",
                                  "hvacInstallation",
                                  "voltageReadings",
                                  "staticPressureReadings",
                                  "laserThermometerReading",
                                  "salesRepVerification",
                                  "siteAssessment",
                                  "fsmChecklistApproved",
                                  "measureQuickSystemVitalsApproved",
                                  "bluetoothHVACToolApproved",
                                  "indoorSystemApproved",
                                  "outdoorSystemApproved",
                                  "zoningSystemApproved",
                                  "thermostatApproved",
                                  "accessoriesApproved",
                                  "installationCommissioningDocumentsApproved"
                                ]
                              },
                              "statusTimeline": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "oldStatus": {
                                      "type": "string"
                                    },
                                    "newStatus": {
                                      "type": "string"
                                    },
                                    "modifiedAt": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "requirements": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "completedAt": {
                                      "type": "string"
                                    },
                                    "isRequired": {
                                      "type": "boolean"
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "order": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "status": {
                                      "type": "string",
                                      "enum": [
                                        "completed",
                                        "error",
                                        "inProgress",
                                        "pending",
                                        "rejected",
                                        "resubmitted",
                                        "submitted"
                                      ]
                                    },
                                    "type": {
                                      "type": "string",
                                      "enum": [
                                        "activationDocuments",
                                        "activationPackage",
                                        "acceptTermsAndConditions",
                                        "confirmInstalledSystem",
                                        "consumerAccountSignUp",
                                        "consumerOrderReview",
                                        "contractSigned",
                                        "contractFinalized",
                                        "creditApproved",
                                        "customerInfo",
                                        "customerRequirements",
                                        "customerSignOff",
                                        "dxfApproved",
                                        "domesticContentConfirmation",
                                        "electricalPhotosApproved",
                                        "electricianSignOff",
                                        "existingSystemDocumentation",
                                        "extendedWarranty",
                                        "finalDesignApproved",
                                        "incentives",
                                        "incentiveDocumentsApproved",
                                        "identityVerified",
                                        "installPackage",
                                        "installPhotosApproved",
                                        "jobCloseOutApproved",
                                        "monitoringActive",
                                        "monitoringSiteId",
                                        "ntpPackage",
                                        "paymentMethodSubmitted",
                                        "permitApproved",
                                        "planSetApproved",
                                        "productionModelApproved",
                                        "projectSitePhotosApproved",
                                        "proposal",
                                        "ptoConfirmation",
                                        "quoteActive",
                                        "roofPhotosApproved",
                                        "shadeReportApproved",
                                        "siteImprovements",
                                        "storagePhotosApproved",
                                        "systemCommissioningApproved",
                                        "systemDetailsSubmitted",
                                        "titleApproved",
                                        "underwriting",
                                        "utilityBill",
                                        "utilityPowerTurnedOnApproved",
                                        "proofOfLoad",
                                        "workOrderApproved",
                                        "postActivationPackage",
                                        "proofOfInstallation",
                                        "hvacInstallation",
                                        "voltageReadings",
                                        "staticPressureReadings",
                                        "laserThermometerReading",
                                        "salesRepVerification",
                                        "siteAssessment",
                                        "fsmChecklistApproved",
                                        "measureQuickSystemVitalsApproved",
                                        "bluetoothHVACToolApproved",
                                        "indoorSystemApproved",
                                        "outdoorSystemApproved",
                                        "zoningSystemApproved",
                                        "thermostatApproved",
                                        "accessoriesApproved",
                                        "installationCommissioningDocumentsApproved"
                                      ]
                                    },
                                    "statusTimeline": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "properties": {
                                          "oldStatus": {
                                            "type": "string"
                                          },
                                          "newStatus": {
                                            "type": "string"
                                          },
                                          "modifiedAt": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "notes": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "milestones": {
                          "type": "object",
                          "additionalProperties": false,
                          "properties": {
                            "install": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    },
                    "milestones": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                          "completedAt": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "name": {
                            "type": "string"
                          },
                          "order": {
                            "type": "number",
                            "minimum": 0
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "approved",
                              "conditionallyApproved",
                              "paused",
                              "pending",
                              "rejected",
                              "restarted",
                              "resubmitted",
                              "submitted"
                            ]
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "customerAgreement",
                              "initialAccountDetails",
                              "noticeToProceed",
                              "install",
                              "activation",
                              "postActivation",
                              "title",
                              "installComplete",
                              "installPackageComplete",
                              "noticeToProceedIssued",
                              "systemActivated",
                              "systemActivation"
                            ]
                          },
                          "exception": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string"
                              },
                              "exceptionGivenBy": {
                                "type": "string"
                              }
                            }
                          },
                          "requirements": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "completedAt": {
                                  "type": "string"
                                },
                                "isRequired": {
                                  "type": "boolean"
                                },
                                "name": {
                                  "type": "string"
                                },
                                "order": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "completed",
                                    "error",
                                    "inProgress",
                                    "pending",
                                    "rejected",
                                    "resubmitted",
                                    "submitted"
                                  ]
                                },
                                "type": {
                                  "type": "string",
                                  "enum": [
                                    "activationDocuments",
                                    "activationPackage",
                                    "acceptTermsAndConditions",
                                    "confirmInstalledSystem",
                                    "consumerAccountSignUp",
                                    "consumerOrderReview",
                                    "contractSigned",
                                    "contractFinalized",
                                    "creditApproved",
                                    "customerInfo",
                                    "customerRequirements",
                                    "customerSignOff",
                                    "dxfApproved",
                                    "domesticContentConfirmation",
                                    "electricalPhotosApproved",
                                    "electricianSignOff",
                                    "existingSystemDocumentation",
                                    "extendedWarranty",
                                    "finalDesignApproved",
                                    "incentives",
                                    "incentiveDocumentsApproved",
                                    "identityVerified",
                                    "installPackage",
                                    "installPhotosApproved",
                                    "jobCloseOutApproved",
                                    "monitoringActive",
                                    "monitoringSiteId",
                                    "ntpPackage",
                                    "paymentMethodSubmitted",
                                    "permitApproved",
                                    "planSetApproved",
                                    "productionModelApproved",
                                    "projectSitePhotosApproved",
                                    "proposal",
                                    "ptoConfirmation",
                                    "quoteActive",
                                    "roofPhotosApproved",
                                    "shadeReportApproved",
                                    "siteImprovements",
                                    "storagePhotosApproved",
                                    "systemCommissioningApproved",
                                    "systemDetailsSubmitted",
                                    "titleApproved",
                                    "underwriting",
                                    "utilityBill",
                                    "utilityPowerTurnedOnApproved",
                                    "proofOfLoad",
                                    "workOrderApproved",
                                    "postActivationPackage",
                                    "proofOfInstallation",
                                    "hvacInstallation",
                                    "voltageReadings",
                                    "staticPressureReadings",
                                    "laserThermometerReading",
                                    "salesRepVerification",
                                    "siteAssessment",
                                    "fsmChecklistApproved",
                                    "measureQuickSystemVitalsApproved",
                                    "bluetoothHVACToolApproved",
                                    "indoorSystemApproved",
                                    "outdoorSystemApproved",
                                    "zoningSystemApproved",
                                    "thermostatApproved",
                                    "accessoriesApproved",
                                    "installationCommissioningDocumentsApproved"
                                  ]
                                },
                                "statusTimeline": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "oldStatus": {
                                        "type": "string"
                                      },
                                      "newStatus": {
                                        "type": "string"
                                      },
                                      "modifiedAt": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "requirements": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "completedAt": {
                                        "type": "string"
                                      },
                                      "isRequired": {
                                        "type": "boolean"
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "order": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "status": {
                                        "type": "string",
                                        "enum": [
                                          "completed",
                                          "error",
                                          "inProgress",
                                          "pending",
                                          "rejected",
                                          "resubmitted",
                                          "submitted"
                                        ]
                                      },
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "activationDocuments",
                                          "activationPackage",
                                          "acceptTermsAndConditions",
                                          "confirmInstalledSystem",
                                          "consumerAccountSignUp",
                                          "consumerOrderReview",
                                          "contractSigned",
                                          "contractFinalized",
                                          "creditApproved",
                                          "customerInfo",
                                          "customerRequirements",
                                          "customerSignOff",
                                          "dxfApproved",
                                          "domesticContentConfirmation",
                                          "electricalPhotosApproved",
                                          "electricianSignOff",
                                          "existingSystemDocumentation",
                                          "extendedWarranty",
                                          "finalDesignApproved",
                                          "incentives",
                                          "incentiveDocumentsApproved",
                                          "identityVerified",
                                          "installPackage",
                                          "installPhotosApproved",
                                          "jobCloseOutApproved",
                                          "monitoringActive",
                                          "monitoringSiteId",
                                          "ntpPackage",
                                          "paymentMethodSubmitted",
                                          "permitApproved",
                                          "planSetApproved",
                                          "productionModelApproved",
                                          "projectSitePhotosApproved",
                                          "proposal",
                                          "ptoConfirmation",
                                          "quoteActive",
                                          "roofPhotosApproved",
                                          "shadeReportApproved",
                                          "siteImprovements",
                                          "storagePhotosApproved",
                                          "systemCommissioningApproved",
                                          "systemDetailsSubmitted",
                                          "titleApproved",
                                          "underwriting",
                                          "utilityBill",
                                          "utilityPowerTurnedOnApproved",
                                          "proofOfLoad",
                                          "workOrderApproved",
                                          "postActivationPackage",
                                          "proofOfInstallation",
                                          "hvacInstallation",
                                          "voltageReadings",
                                          "staticPressureReadings",
                                          "laserThermometerReading",
                                          "salesRepVerification",
                                          "siteAssessment",
                                          "fsmChecklistApproved",
                                          "measureQuickSystemVitalsApproved",
                                          "bluetoothHVACToolApproved",
                                          "indoorSystemApproved",
                                          "outdoorSystemApproved",
                                          "zoningSystemApproved",
                                          "thermostatApproved",
                                          "accessoriesApproved",
                                          "installationCommissioningDocumentsApproved"
                                        ]
                                      },
                                      "statusTimeline": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "oldStatus": {
                                              "type": "string"
                                            },
                                            "newStatus": {
                                              "type": "string"
                                            },
                                            "modifiedAt": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    },
                    "cancellation": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "reason": {
                          "type": "string",
                          "enum": [
                            "financialConcerns",
                            "ineligiblePropertyType",
                            "choseDifferentFinancialProvider",
                            "unhappyWithSalesProcess",
                            "reasonNotProvided"
                          ]
                        },
                        "requesterType": {
                          "type": "string",
                          "enum": [
                            "customer",
                            "organization",
                            "internal"
                          ]
                        },
                        "notes": {
                          "type": "string"
                        },
                        "supportingDocuments": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "accountId": {
                                "type": "string"
                              },
                              "applicationId": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "pending",
                                  "approved",
                                  "rejected"
                                ]
                              },
                              "archived": {
                                "type": "boolean"
                              },
                              "type": {
                                "type": "string",
                                "enum": [
                                  "incomingDirectPayInvoice",
                                  "dxf",
                                  "planSet",
                                  "shadeReport",
                                  "permit",
                                  "productionModel",
                                  "incentiveDocuments",
                                  "electricianSignOff",
                                  "proofOfLoad",
                                  "domesticContentDocuments",
                                  "solarReadinessAdder",
                                  "solarReadinessInvoice",
                                  "invoice",
                                  "billOfMaterials",
                                  "fsmChecklist",
                                  "measureQuickSystemVitals",
                                  "bluetoothHVACTool",
                                  "installContract",
                                  "proofOfLoadHVAC",
                                  "hvacInstallationPhotos",
                                  "ahriCertificate",
                                  "energyBackupInstallationPhotos",
                                  "cslbDisclosure",
                                  "puertoRicoDocuments",
                                  "welcomeCall",
                                  "onSitePhysicalSurvey",
                                  "proofOfEquipment",
                                  "contract",
                                  "disclosure",
                                  "supporting",
                                  "utilityBill",
                                  "voidedCheck",
                                  "siteAssessment",
                                  "completionOfConstruction",
                                  "projectSite",
                                  "roof",
                                  "electrical",
                                  "storage",
                                  "systemCommissioning",
                                  "staticPressure",
                                  "indoorSystem",
                                  "outdoorSystem",
                                  "zoningSystem",
                                  "thermostat",
                                  "accessories",
                                  "ptoConfirmation",
                                  "extendedWarranty",
                                  "incentives",
                                  "netMeteringApproval",
                                  "conditionalApproval",
                                  "interconnectionAgreement",
                                  "siteImprovements",
                                  "identityVerification",
                                  "titleVerification",
                                  "cancellation",
                                  "reactivation",
                                  "flag",
                                  "epcFeedback",
                                  "salesAgreement",
                                  "oemWarranty",
                                  "oemWarrantyDocuments",
                                  "extendedWarrantyDocuments",
                                  "existingSystemPhotos"
                                ]
                              },
                              "externalReference": {
                                "type": "string"
                              },
                              "files": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "originalName": {
                                      "type": "string"
                                    },
                                    "contentType": {
                                      "type": "string"
                                    },
                                    "md5Hash": {
                                      "type": "string"
                                    },
                                    "sizeKB": {
                                      "type": "number"
                                    },
                                    "viewUrls": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                          "url": {
                                            "type": "string"
                                          },
                                          "type": {
                                            "type": "string",
                                            "enum": [
                                              "original",
                                              "preview",
                                              "gallery",
                                              "thumbnail"
                                            ]
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "meta": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "createdAt": {
                                    "type": "string"
                                  },
                                  "updatedAt": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          },
                          "nullable": true
                        },
                        "isCancelled": {
                          "type": "boolean"
                        },
                        "requestedBy": {
                          "type": "string"
                        },
                        "requestedByDisplayName": {
                          "type": "string"
                        },
                        "requestedByOrgDisplayName": {
                          "type": "string"
                        },
                        "requestedDate": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    },
                    "priceSheetMappingId": {
                      "type": "string",
                      "nullable": true
                    },
                    "tranches": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "monthlyPaymentCap": {
                      "type": "object",
                      "properties": {
                        "greaterThanZeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "zeroEscalationRate": {
                          "type": "number",
                          "minimum": 0
                        },
                        "capTableVersionUsed": {
                          "type": "string"
                        },
                        "dateCapsApplied": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "override": {
                          "type": "boolean"
                        },
                        "overrideDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "overrideUserName": {
                          "type": "string"
                        }
                      }
                    },
                    "strandedFulfillment": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "ownedByStrandedAssetTeam": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "history": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "date": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "action": {
                                "type": "string"
                              },
                              "updatedBy": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "operationAtData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "operationAtDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "verificationDaysTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "placedInServiceData": {
                      "type": "object",
                      "nullable": true,
                      "properties": {
                        "placedInServiceDate": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "placedInServiceTrigger": {
                          "type": "string"
                        }
                      }
                    },
                    "opAtHistory": {
                      "type": "array",
                      "nullable": true,
                      "items": {
                        "type": "object",
                        "properties": {
                          "eventType": {
                            "type": "string",
                            "enum": [
                              "operationAtCalculated",
                              "verificationDaysCalculated",
                              "verificationDaysExpiredAndReqNoLongerMet",
                              "placedInServiceCalculated"
                            ]
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "triggerEvent": {
                            "type": "string",
                            "nullable": true
                          },
                          "verificationDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "operationAtDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "placedInServiceDate": {
                            "type": "string",
                            "format": "date-time",
                            "nullable": true
                          },
                          "requirementsNotMet": {
                            "type": "array",
                            "nullable": true,
                            "items": {
                              "type": "string"
                            }
                          },
                          "verificationDays": {
                            "type": "number",
                            "nullable": true
                          },
                          "maxVerificationDays": {
                            "type": "number",
                            "nullable": true
                          }
                        }
                      }
                    },
                    "firstPaymentDueDate": {
                      "type": "string",
                      "nullable": true,
                      "description": "Format: 'MM-dd-yyyy'"
                    },
                    "programType": {
                      "type": "string",
                      "enum": [
                        "doePr",
                        "energyBackup",
                        "hvac",
                        "newHomes",
                        "solar"
                      ]
                    }
                  },
                  "if": {
                    "properties": {
                      "programType": {
                        "enum": [
                          "solar"
                        ]
                      }
                    }
                  },
                  "then": {
                    "properties": {
                      "utility": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "lseId"
                        ],
                        "properties": {
                          "lseId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "tariffId": {
                            "type": "number",
                            "minimum": 0
                          },
                          "rate": {
                            "type": "number",
                            "minimum": 0
                          },
                          "utilityName": {
                            "type": "string"
                          }
                        }
                      },
                      "electricityUsageKwh": {
                        "anyOf": [
                          {
                            "type": "number",
                            "minimum": 0,
                            "description": "Total annual usage in kWh"
                          },
                          {
                            "type": "array",
                            "items": {
                              "type": "number",
                              "minimum": 0
                            },
                            "minItems": 12,
                            "maxItems": 12,
                            "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                          }
                        ]
                      },
                      "electricityUsageSource": {
                        "type": "string"
                      },
                      "ced": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "cedSplitPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                          },
                          "cedProjectId": {
                            "type": "string",
                            "description": "The CED Greentech project ID"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "directPay": {
                        "type": "object",
                        "nullable": true,
                        "additionalProperties": false,
                        "properties": {
                          "directPayEnabled": {
                            "type": "boolean",
                            "description": "True if the project is being fulfilled via a direct pay materials vendor"
                          },
                          "directPayMaterialVendorAlias": {
                            "type": "string",
                            "description": "The alias of the materials vendor"
                          },
                          "projectId": {
                            "type": "string",
                            "description": "The CED project ID, only valid for CED projects"
                          },
                          "projectIdentifier": {
                            "type": "string",
                            "description": "The project identifier"
                          },
                          "projectStatus": {
                            "type": "string",
                            "enum": [
                              "active",
                              "optOut",
                              "cancelled",
                              "onHold"
                            ]
                          }
                        }
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string",
                        "nullable": true
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "nullable": true
                      },
                      "designTool": {
                        "type": "string",
                        "nullable": true
                      },
                      "itcAdderQualifications": {
                        "type": "object",
                        "nullable": true,
                        "properties": {
                          "lowIncomeCommunityEligible": {
                            "type": "boolean"
                          },
                          "incomeCategory": {
                            "type": "string"
                          },
                          "energyCommunityEligible": {
                            "type": "boolean"
                          },
                          "ecEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalTract",
                              "FFECounty",
                              "CoalTractAndFFECounty"
                            ]
                          },
                          "ecCoalTractEligibilityCriteria": {
                            "type": "string",
                            "enum": [
                              "CoalPowerPlantClosure",
                              "CoalMineClosure",
                              "CoalPowerPlantAndMineClosure",
                              "TractAdjacency"
                            ]
                          },
                          "ecFfeCountyMsaName": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaCode": {
                            "type": "string"
                          },
                          "ecFfeCountyMsaType": {
                            "type": "string"
                          },
                          "domesticContentEligible": {
                            "type": "boolean"
                          },
                          "potentialEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "finalEligibilityQueryDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      },
                      "installer": {
                        "type": "object",
                        "description": "This information will only be provided for accounts in IL",
                        "properties": {
                          "legalName": {
                            "type": "string"
                          },
                          "iccDocketNumber": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteFirstName": {
                            "type": "string"
                          },
                          "qualifiedPersonOnsiteLastName": {
                            "type": "string"
                          },
                          "phoneNumber": {
                            "type": "string"
                          },
                          "email": {
                            "type": "string"
                          },
                          "address": {
                            "type": "string"
                          },
                          "city": {
                            "type": "string"
                          },
                          "state": {
                            "type": "string"
                          }
                        }
                      },
                      "permitSubmittedDate": {
                        "type": "object",
                        "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "permitApprovedDate": {
                        "type": "object",
                        "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "installScheduledDate": {
                        "type": "object",
                        "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "scheduledInspectionDate": {
                        "type": "object",
                        "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "electricianSignoffDate": {
                        "type": "object",
                        "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "expectedPTODate": {
                        "type": "object",
                        "nullable": true,
                        "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                        "additionalProperties": true
                      },
                      "ptoGrantedDate": {
                        "type": "string",
                        "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                      },
                      "epcIncorrectSubmittedPtoGrantedDate": {
                        "type": "string",
                        "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                      },
                      "monitoringSiteId": {
                        "type": "string",
                        "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                      },
                      "systemDesign": {
                        "type": "object",
                        "properties": {
                          "accountId": {
                            "type": "string",
                            "format": "ObjectId"
                          },
                          "systemFirstYearProductionKwh": {
                            "type": "number",
                            "minimum": 0
                          },
                          "systemSizeKw": {
                            "type": "number",
                            "minimum": 0
                          },
                          "inverters": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "isCurrent": {
                            "type": "boolean"
                          },
                          "panelManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "panelModel": {
                            "type": "string",
                            "nullable": true
                          },
                          "totalPanelCount": {
                            "type": "number",
                            "minimum": 0
                          },
                          "arrays": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "panelCount": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The number of panels in this single array"
                                },
                                "orientation": {
                                  "oneOf": [
                                    {
                                      "type": "string",
                                      "enum": [
                                        "landscape",
                                        "portrait",
                                        "combination"
                                      ],
                                      "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                    },
                                    {
                                      "type": "null"
                                    }
                                  ],
                                  "deprecated": true
                                },
                                "tilt": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The tilt from horizontal of the panels in the array"
                                },
                                "azimuth": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The direction in degrees of the array"
                                },
                                "annualTSRF": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The annual total solar access fraction"
                                },
                                "monthlySolarAccess": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "accessPercent"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "minimum": 1,
                                        "maximum": 12,
                                        "description": "The month 1-12"
                                      },
                                      "accessPercent": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly solar access percent"
                                      }
                                    }
                                  },
                                  "minItems": 0,
                                  "maxItems": 12,
                                  "description": "All 12 months are required"
                                },
                                "size": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The total size of the array in Watts"
                                },
                                "inverter": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The inverter index starting with 0 in the inverters array"
                                }
                              }
                            }
                          },
                          "firstYearMonthlyProductionKwh": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "month": {
                                  "type": "number",
                                  "description": "The month 1-12",
                                  "minimum": 1,
                                  "maximum": 12
                                },
                                "productionKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The monthly production in Kwh"
                                }
                              }
                            }
                          },
                          "mountingType": {
                            "type": "string",
                            "nullable": true
                          },
                          "mountingManufacturer": {
                            "type": "string",
                            "nullable": true
                          },
                          "storage": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "manufacturer": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "model": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                },
                                "count": {
                                  "type": [
                                    "null",
                                    "number"
                                  ]
                                },
                                "vintage": {
                                  "type": [
                                    "null",
                                    "string"
                                  ]
                                }
                              }
                            }
                          },
                          "totalStorageCapacityKwh": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true
                          },
                          "toleranceException": {
                            "type": "object",
                            "nullable": true,
                            "properties": {
                              "note": {
                                "type": "string",
                                "nullable": true
                              },
                              "exceptionGivenBy": {
                                "type": "string",
                                "nullable": true,
                                "description": "The user who provided the exception"
                              }
                            }
                          },
                          "attestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "attestmentText"
                            ],
                            "description": "Optional object that attests the range is as expected.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "domesticContentAttestment": {
                            "type": "object",
                            "additionalProperties": false,
                            "nullable": true,
                            "required": [
                              "valueConfirmation"
                            ],
                            "description": "Optional object that attests the domestic content value confirmation.",
                            "properties": {
                              "valueConfirmation": {
                                "type": "boolean",
                                "description": "The affirmation or denial (opt-out) of domestic content."
                              },
                              "resubmission": {
                                "type": "boolean",
                                "description": "If this is a resubmission of a domestic content attestment."
                              },
                              "attestmentType": {
                                "type": "string",
                                "enum": [
                                  "pvOnly",
                                  "storageOnly",
                                  "pvAndStorage",
                                  "optOut"
                                ],
                                "description": "The type of the domestic content attestment (including opt-out)."
                              }
                            }
                          },
                          "mountingHardware": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "type",
                                "mountingHardwareModels"
                              ],
                              "properties": {
                                "type": {
                                  "type": "string"
                                },
                                "mountingHardwareModels": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "manufacturer",
                                      "category",
                                      "sku"
                                    ],
                                    "properties": {
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "category": {
                                        "type": "string"
                                      },
                                      "sku": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "domesticContentQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "annualConsumption": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "month",
                                "consumption"
                              ],
                              "properties": {
                                "month": {
                                  "type": "number"
                                },
                                "consumption": {
                                  "type": "number"
                                }
                              }
                            },
                            "deprecated": true
                          },
                          "itcQualification": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "result": {
                                "type": "object",
                                "properties": {
                                  "pvQualified": {
                                    "type": "boolean"
                                  },
                                  "pvTotalPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "inverterPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSplicePercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "problems": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "safeHarborYear": {
                                    "type": "number",
                                    "minimum": 2025
                                  },
                                  "pvFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "batteryFeocQualified": {
                                    "type": "boolean"
                                  },
                                  "inverterFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingTotalFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvTotalFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "pvSystemFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryFeocPercentageThreshold": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "panelFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingRailFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingFastenerFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingClampFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingSpliceFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "rackingBonusFeocPercentage": {
                                    "type": "number",
                                    "minimum": 0,
                                    "maximum": 100
                                  },
                                  "batteryIncluded": {
                                    "type": "boolean"
                                  },
                                  "feocExceptionGranted": {
                                    "type": "boolean"
                                  }
                                }
                              }
                            }
                          },
                          "asBuiltSystemSizeKw": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                          }
                        }
                      },
                      "solarModuleSerialNumber": {
                        "type": "string",
                        "nullable": true
                      },
                      "domesticContentEligibilityStatus": {
                        "type": "string",
                        "enum": [
                          "eligible",
                          "underConsideration",
                          "epcOptOut",
                          "confirmed"
                        ],
                        "description": "Current status of Domestic Content eligibility",
                        "nullable": true
                      },
                      "ptoGreenlight": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [],
                        "properties": {
                          "greenlightStatus": {
                            "type": "boolean"
                          },
                          "trancheClosed": {
                            "type": "boolean"
                          },
                          "tranchedClosedOn": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "manualOverrideUser": {
                            "type": "string"
                          }
                        }
                      },
                      "propertyType": {
                        "type": "string",
                        "nullable": true
                      },
                      "isSecondSystem": {
                        "type": "boolean",
                        "nullable": true
                      }
                    },
                    "required": [
                      "utility"
                    ]
                  },
                  "else": {
                    "if": {
                      "properties": {
                        "programType": {
                          "enum": [
                            "doePr"
                          ]
                        }
                      }
                    },
                    "then": {
                      "properties": {
                        "utility": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "lseId"
                          ],
                          "properties": {
                            "lseId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "tariffId": {
                              "type": "number",
                              "minimum": 0
                            },
                            "rate": {
                              "type": "number",
                              "minimum": 0
                            },
                            "utilityName": {
                              "type": "string"
                            }
                          }
                        },
                        "electricityUsageKwh": {
                          "anyOf": [
                            {
                              "type": "number",
                              "minimum": 0,
                              "description": "Total annual usage in kWh"
                            },
                            {
                              "type": "array",
                              "items": {
                                "type": "number",
                                "minimum": 0
                              },
                              "minItems": 12,
                              "maxItems": 12,
                              "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                            }
                          ]
                        },
                        "electricityUsageSource": {
                          "type": "string"
                        },
                        "ced": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "cedSplitPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                            },
                            "cedProjectId": {
                              "type": "string",
                              "description": "The CED Greentech project ID"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "directPay": {
                          "type": "object",
                          "nullable": true,
                          "additionalProperties": false,
                          "properties": {
                            "directPayEnabled": {
                              "type": "boolean",
                              "description": "True if the project is being fulfilled via a direct pay materials vendor"
                            },
                            "directPayMaterialVendorAlias": {
                              "type": "string",
                              "description": "The alias of the materials vendor"
                            },
                            "projectId": {
                              "type": "string",
                              "description": "The CED project ID, only valid for CED projects"
                            },
                            "projectIdentifier": {
                              "type": "string",
                              "description": "The project identifier"
                            },
                            "projectStatus": {
                              "type": "string",
                              "enum": [
                                "active",
                                "optOut",
                                "cancelled",
                                "onHold"
                              ]
                            }
                          }
                        },
                        "noInverterConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "batteryMonitoringSiteId": {
                          "type": "string",
                          "nullable": true
                        },
                        "noBatteryConsumptionCT": {
                          "type": "boolean",
                          "nullable": true
                        },
                        "designTool": {
                          "type": "string",
                          "nullable": true
                        },
                        "itcAdderQualifications": {
                          "type": "object",
                          "nullable": true,
                          "properties": {
                            "lowIncomeCommunityEligible": {
                              "type": "boolean"
                            },
                            "incomeCategory": {
                              "type": "string"
                            },
                            "energyCommunityEligible": {
                              "type": "boolean"
                            },
                            "ecEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalTract",
                                "FFECounty",
                                "CoalTractAndFFECounty"
                              ]
                            },
                            "ecCoalTractEligibilityCriteria": {
                              "type": "string",
                              "enum": [
                                "CoalPowerPlantClosure",
                                "CoalMineClosure",
                                "CoalPowerPlantAndMineClosure",
                                "TractAdjacency"
                              ]
                            },
                            "ecFfeCountyMsaName": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaCode": {
                              "type": "string"
                            },
                            "ecFfeCountyMsaType": {
                              "type": "string"
                            },
                            "domesticContentEligible": {
                              "type": "boolean"
                            },
                            "potentialEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "finalEligibilityQueryDate": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "installer": {
                          "type": "object",
                          "description": "This information will only be provided for accounts in IL",
                          "properties": {
                            "legalName": {
                              "type": "string"
                            },
                            "iccDocketNumber": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteFirstName": {
                              "type": "string"
                            },
                            "qualifiedPersonOnsiteLastName": {
                              "type": "string"
                            },
                            "phoneNumber": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "address": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            }
                          }
                        },
                        "permitSubmittedDate": {
                          "type": "object",
                          "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "permitApprovedDate": {
                          "type": "object",
                          "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "installScheduledDate": {
                          "type": "object",
                          "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "scheduledInspectionDate": {
                          "type": "object",
                          "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "electricianSignoffDate": {
                          "type": "object",
                          "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "expectedPTODate": {
                          "type": "object",
                          "nullable": true,
                          "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                          "additionalProperties": true
                        },
                        "ptoGrantedDate": {
                          "type": "string",
                          "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                        },
                        "epcIncorrectSubmittedPtoGrantedDate": {
                          "type": "string",
                          "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                        },
                        "monitoringSiteId": {
                          "type": "string",
                          "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                        },
                        "systemDesign": {
                          "type": "object",
                          "properties": {
                            "accountId": {
                              "type": "string",
                              "format": "ObjectId"
                            },
                            "systemFirstYearProductionKwh": {
                              "type": "number",
                              "minimum": 0
                            },
                            "systemSizeKw": {
                              "type": "number",
                              "minimum": 0
                            },
                            "inverters": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "isCurrent": {
                              "type": "boolean"
                            },
                            "panelManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "panelModel": {
                              "type": "string",
                              "nullable": true
                            },
                            "totalPanelCount": {
                              "type": "number",
                              "minimum": 0
                            },
                            "arrays": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "panelCount": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The number of panels in this single array"
                                  },
                                  "orientation": {
                                    "oneOf": [
                                      {
                                        "type": "string",
                                        "enum": [
                                          "landscape",
                                          "portrait",
                                          "combination"
                                        ],
                                        "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                      },
                                      {
                                        "type": "null"
                                      }
                                    ],
                                    "deprecated": true
                                  },
                                  "tilt": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The tilt from horizontal of the panels in the array"
                                  },
                                  "azimuth": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The direction in degrees of the array"
                                  },
                                  "annualTSRF": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The annual total solar access fraction"
                                  },
                                  "monthlySolarAccess": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "accessPercent"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "minimum": 1,
                                          "maximum": 12,
                                          "description": "The month 1-12"
                                        },
                                        "accessPercent": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly solar access percent"
                                        }
                                      }
                                    },
                                    "minItems": 0,
                                    "maxItems": 12,
                                    "description": "All 12 months are required"
                                  },
                                  "size": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The total size of the array in Watts"
                                  },
                                  "inverter": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The inverter index starting with 0 in the inverters array"
                                  }
                                }
                              }
                            },
                            "firstYearMonthlyProductionKwh": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "month": {
                                    "type": "number",
                                    "description": "The month 1-12",
                                    "minimum": 1,
                                    "maximum": 12
                                  },
                                  "productionKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "The monthly production in Kwh"
                                  }
                                }
                              }
                            },
                            "mountingType": {
                              "type": "string",
                              "nullable": true
                            },
                            "mountingManufacturer": {
                              "type": "string",
                              "nullable": true
                            },
                            "storage": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "manufacturer": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "model": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  },
                                  "count": {
                                    "type": [
                                      "null",
                                      "number"
                                    ]
                                  },
                                  "vintage": {
                                    "type": [
                                      "null",
                                      "string"
                                    ]
                                  }
                                }
                              }
                            },
                            "totalStorageCapacityKwh": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true
                            },
                            "toleranceException": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "note": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "exceptionGivenBy": {
                                  "type": "string",
                                  "nullable": true,
                                  "description": "The user who provided the exception"
                                }
                              }
                            },
                            "attestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "attestmentText"
                              ],
                              "description": "Optional object that attests the range is as expected.",
                              "properties": {
                                "attestmentText": {
                                  "type": "string",
                                  "description": "The attestment text attached to the attestment action."
                                }
                              }
                            },
                            "domesticContentAttestment": {
                              "type": "object",
                              "additionalProperties": false,
                              "nullable": true,
                              "required": [
                                "valueConfirmation"
                              ],
                              "description": "Optional object that attests the domestic content value confirmation.",
                              "properties": {
                                "valueConfirmation": {
                                  "type": "boolean",
                                  "description": "The affirmation or denial (opt-out) of domestic content."
                                },
                                "resubmission": {
                                  "type": "boolean",
                                  "description": "If this is a resubmission of a domestic content attestment."
                                },
                                "attestmentType": {
                                  "type": "string",
                                  "enum": [
                                    "pvOnly",
                                    "storageOnly",
                                    "pvAndStorage",
                                    "optOut"
                                  ],
                                  "description": "The type of the domestic content attestment (including opt-out)."
                                }
                              }
                            },
                            "mountingHardware": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "type",
                                  "mountingHardwareModels"
                                ],
                                "properties": {
                                  "type": {
                                    "type": "string"
                                  },
                                  "mountingHardwareModels": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "manufacturer",
                                        "category",
                                        "sku"
                                      ],
                                      "properties": {
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "category": {
                                          "type": "string"
                                        },
                                        "sku": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "domesticContentQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                }
                              }
                            },
                            "annualConsumption": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "month",
                                  "consumption"
                                ],
                                "properties": {
                                  "month": {
                                    "type": "number"
                                  },
                                  "consumption": {
                                    "type": "number"
                                  }
                                }
                              },
                              "deprecated": true
                            },
                            "itcQualification": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "result": {
                                  "type": "object",
                                  "properties": {
                                    "pvQualified": {
                                      "type": "boolean"
                                    },
                                    "pvTotalPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "inverterPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSplicePercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "problems": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      }
                                    },
                                    "safeHarborYear": {
                                      "type": "number",
                                      "minimum": 2025
                                    },
                                    "pvFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "batteryFeocQualified": {
                                      "type": "boolean"
                                    },
                                    "inverterFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingTotalFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvTotalFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "pvSystemFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryFeocPercentageThreshold": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "panelFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingRailFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingFastenerFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingClampFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingSpliceFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "rackingBonusFeocPercentage": {
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 100
                                    },
                                    "batteryIncluded": {
                                      "type": "boolean"
                                    },
                                    "feocExceptionGranted": {
                                      "type": "boolean"
                                    }
                                  }
                                }
                              }
                            },
                            "asBuiltSystemSizeKw": {
                              "type": "number",
                              "minimum": 0,
                              "nullable": true,
                              "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                            }
                          }
                        },
                        "solarModuleSerialNumber": {
                          "type": "string",
                          "nullable": true
                        },
                        "domesticContentEligibilityStatus": {
                          "type": "string",
                          "enum": [
                            "eligible",
                            "underConsideration",
                            "epcOptOut",
                            "confirmed"
                          ],
                          "description": "Current status of Domestic Content eligibility",
                          "nullable": true
                        },
                        "ptoGreenlight": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [],
                          "properties": {
                            "greenlightStatus": {
                              "type": "boolean"
                            },
                            "trancheClosed": {
                              "type": "boolean"
                            },
                            "tranchedClosedOn": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideDate": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "manualOverrideUser": {
                              "type": "string"
                            }
                          }
                        },
                        "propertyType": {
                          "type": "string",
                          "nullable": true
                        },
                        "isSecondSystem": {
                          "type": "boolean",
                          "nullable": true
                        }
                      },
                      "required": [
                        "utility"
                      ]
                    },
                    "else": {
                      "if": {
                        "properties": {
                          "programType": {
                            "enum": [
                              "hvac"
                            ]
                          }
                        }
                      },
                      "then": {
                        "properties": {
                          "ntpAttestment": {
                            "type": "object",
                            "nullable": true,
                            "description": "An attestment that NTP data is correct.",
                            "properties": {
                              "attestmentText": {
                                "type": "string",
                                "description": "The attestment text attached to the attestment action."
                              }
                            }
                          },
                          "systemDesign": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "accountId": {
                                "type": "string"
                              },
                              "isCurrent": {
                                "type": "boolean"
                              },
                              "equipment": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "type": {
                                      "type": "string",
                                      "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                    },
                                    "name": {
                                      "type": "string"
                                    },
                                    "manufacturer": {
                                      "type": "string"
                                    },
                                    "model": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "productId": {
                                      "type": "string",
                                      "description": "Id from the LightReach Product Catalog"
                                    },
                                    "serialNumbers": {
                                      "type": "array",
                                      "items": {
                                        "type": "string"
                                      },
                                      "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                    }
                                  }
                                }
                              },
                              "installKits": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "services": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "quantity": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "discounts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "name",
                                    "cost"
                                  ],
                                  "properties": {
                                    "name": {
                                      "type": "string"
                                    },
                                    "cost": {
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  }
                                },
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "description": "AHRI number for the system",
                                "nullable": true
                              }
                            },
                            "if": {
                              "properties": {
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "systemCategory",
                                      "conditionedArea",
                                      "equipment"
                                    ],
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "additionalProperties": false,
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string",
                                                      "nullable": true
                                                    },
                                                    "value": {
                                                      "type": "string",
                                                      "nullable": true
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "additionalProperties": false,
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string",
                                                        "nullable": true
                                                      },
                                                      "value": {
                                                        "type": "string",
                                                        "nullable": true
                                                      }
                                                    }
                                                  },
                                                  "nullable": true
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning"
                                                  ]
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "isPreliminary": {
                                  "enum": [true]
                                }
                              }
                            },
                            "else": {
                              "properties": {
                                "accountId": {
                                  "type": "string"
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "systems": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "systemCategory": {
                                        "type": "string",
                                        "enum": [
                                          "Conventional Ducted Split System",
                                          "Conventional Ducted System",
                                          "Package",
                                          "Ductless Mini Split",
                                          "Ducted Mini Split",
                                          "Heat Pump Split System",
                                          "Gas Conventional Split System",
                                          "Dual Fuel Split System",
                                          "Packaged Heat Pump",
                                          "Packaged Gas/Electric",
                                          "Packaged Dual Fuel",
                                          "Single Zone Mini Split",
                                          "Multi Zone Mini Split",
                                          "Air Conditioning/Air Handler Split System"
                                        ]
                                      },
                                      "conditionedArea": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "name": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "ahriNumber": {
                                        "type": "string",
                                        "description": "AHRI number for the system",
                                        "nullable": true
                                      },
                                      "equipment": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "model": {
                                                  "type": "string",
                                                  "minLength": 1
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "size": {
                                                  "type": "object",
                                                  "properties": {
                                                    "unit": {
                                                      "type": "string"
                                                    },
                                                    "value": {
                                                      "type": "string"
                                                    }
                                                  }
                                                },
                                                "efficiencies": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "object",
                                                    "properties": {
                                                      "unit": {
                                                        "type": "string"
                                                      },
                                                      "value": {
                                                        "type": "string"
                                                      }
                                                    }
                                                  }
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "accessories": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "manufacturer",
                                                "model",
                                                "quantity",
                                                "name"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "zoning": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "type",
                                                "quantity"
                                              ],
                                              "properties": {
                                                "type": {
                                                  "type": "string",
                                                  "enum": [
                                                    "zoning",
                                                    "zoneBoard",
                                                    "zoneDamper",
                                                    "bypassDamper"
                                                  ]
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "manufacturer": {
                                                  "type": "string"
                                                },
                                                "model": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number",
                                                  "minimum": 0
                                                },
                                                "productId": {
                                                  "type": "string",
                                                  "description": "Id from the LightReach Product Catalog"
                                                },
                                                "serialNumbers": {
                                                  "type": "array",
                                                  "items": {
                                                    "type": "string"
                                                  },
                                                  "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                                },
                                                "description": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "sitePrep": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "discounts": {
                                        "type": "object",
                                        "properties": {
                                          "items": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "additionalProperties": false,
                                              "required": [
                                                "name"
                                              ],
                                              "properties": {
                                                "name": {
                                                  "type": "string"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number",
                                            "minimum": 0,
                                            "nullable": true
                                          }
                                        }
                                      },
                                      "efficiencies": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "nullable": true,
                                        "properties": {
                                          "seer2": {
                                            "type": "string"
                                          },
                                          "hspf2": {
                                            "type": "string",
                                            "nullable": true
                                          }
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "systemInstallDate": {
                            "type": "object",
                            "description": "Date the system is installed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                            "additionalProperties": true
                          },
                          "permitAttestation": {
                            "type": "object",
                            "nullable": true,
                            "description": "Permit attestation object to show attestation information",
                            "properties": {
                              "attestmentText": {
                                "type": "string"
                              }
                            }
                          },
                          "ptoGreenlight": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [],
                            "properties": {
                              "greenlightStatus": {
                                "type": "boolean"
                              },
                              "trancheClosed": {
                                "type": "boolean"
                              },
                              "tranchedClosedOn": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideDate": {
                                "type": "string",
                                "format": "date-time"
                              },
                              "manualOverrideUser": {
                                "type": "string"
                              }
                            }
                          },
                          "propertyDetails": {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                              "homeSize": {
                                "type": "number",
                                "minimum": 1
                              },
                              "existingSystems": {
                                "type": "number",
                                "minimum": 0
                              },
                              "systemsBeingReplaced": {
                                "type": "number",
                                "minimum": 1,
                                "maximum": 10
                              }
                            }
                          },
                          "workOrderTotalPrice": {
                            "type": "number",
                            "minimum": 0,
                            "nullable": true,
                            "description": "The total price of the work order for accounts"
                          },
                          "warrantyContracts": {
                            "type": "object",
                            "properties": {
                              "provider": {
                                "type": "string"
                              },
                              "contracts": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "contractId": {
                                      "type": "string"
                                    },
                                    "dealerInvoiceNumber": {
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "submissionDate": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      },
                      "else": {
                        "if": {
                          "properties": {
                            "programType": {
                              "enum": [
                                "newHomes"
                              ]
                            }
                          }
                        },
                        "then": {
                          "properties": {
                            "utility": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [
                                "lseId"
                              ],
                              "properties": {
                                "lseId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "tariffId": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "rate": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "utilityName": {
                                  "type": "string"
                                }
                              }
                            },
                            "electricityUsageKwh": {
                              "anyOf": [
                                {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "Total annual usage in kWh"
                                },
                                {
                                  "type": "array",
                                  "items": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "minItems": 12,
                                  "maxItems": 12,
                                  "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                }
                              ]
                            },
                            "electricityUsageSource": {
                              "type": "string"
                            },
                            "ced": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "cedSplitPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                },
                                "cedProjectId": {
                                  "type": "string",
                                  "description": "The CED Greentech project ID"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "directPay": {
                              "type": "object",
                              "nullable": true,
                              "additionalProperties": false,
                              "properties": {
                                "directPayEnabled": {
                                  "type": "boolean",
                                  "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                },
                                "directPayMaterialVendorAlias": {
                                  "type": "string",
                                  "description": "The alias of the materials vendor"
                                },
                                "projectId": {
                                  "type": "string",
                                  "description": "The CED project ID, only valid for CED projects"
                                },
                                "projectIdentifier": {
                                  "type": "string",
                                  "description": "The project identifier"
                                },
                                "projectStatus": {
                                  "type": "string",
                                  "enum": [
                                    "active",
                                    "optOut",
                                    "cancelled",
                                    "onHold"
                                  ]
                                }
                              }
                            },
                            "noInverterConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "batteryMonitoringSiteId": {
                              "type": "string",
                              "nullable": true
                            },
                            "noBatteryConsumptionCT": {
                              "type": "boolean",
                              "nullable": true
                            },
                            "designTool": {
                              "type": "string",
                              "nullable": true
                            },
                            "itcAdderQualifications": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "lowIncomeCommunityEligible": {
                                  "type": "boolean"
                                },
                                "incomeCategory": {
                                  "type": "string"
                                },
                                "energyCommunityEligible": {
                                  "type": "boolean"
                                },
                                "ecEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalTract",
                                    "FFECounty",
                                    "CoalTractAndFFECounty"
                                  ]
                                },
                                "ecCoalTractEligibilityCriteria": {
                                  "type": "string",
                                  "enum": [
                                    "CoalPowerPlantClosure",
                                    "CoalMineClosure",
                                    "CoalPowerPlantAndMineClosure",
                                    "TractAdjacency"
                                  ]
                                },
                                "ecFfeCountyMsaName": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaCode": {
                                  "type": "string"
                                },
                                "ecFfeCountyMsaType": {
                                  "type": "string"
                                },
                                "domesticContentEligible": {
                                  "type": "boolean"
                                },
                                "potentialEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "finalEligibilityQueryDate": {
                                  "type": "string",
                                  "format": "date-time"
                                }
                              }
                            },
                            "installer": {
                              "type": "object",
                              "description": "This information will only be provided for accounts in IL",
                              "properties": {
                                "legalName": {
                                  "type": "string"
                                },
                                "iccDocketNumber": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteFirstName": {
                                  "type": "string"
                                },
                                "qualifiedPersonOnsiteLastName": {
                                  "type": "string"
                                },
                                "phoneNumber": {
                                  "type": "string"
                                },
                                "email": {
                                  "type": "string"
                                },
                                "address": {
                                  "type": "string"
                                },
                                "city": {
                                  "type": "string"
                                },
                                "state": {
                                  "type": "string"
                                }
                              }
                            },
                            "permitSubmittedDate": {
                              "type": "object",
                              "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "permitApprovedDate": {
                              "type": "object",
                              "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "installScheduledDate": {
                              "type": "object",
                              "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "scheduledInspectionDate": {
                              "type": "object",
                              "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "electricianSignoffDate": {
                              "type": "object",
                              "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "expectedPTODate": {
                              "type": "object",
                              "nullable": true,
                              "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                              "additionalProperties": true
                            },
                            "ptoGrantedDate": {
                              "type": "string",
                              "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                            },
                            "epcIncorrectSubmittedPtoGrantedDate": {
                              "type": "string",
                              "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                            },
                            "monitoringSiteId": {
                              "type": "string",
                              "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                            },
                            "systemDesign": {
                              "type": "object",
                              "properties": {
                                "accountId": {
                                  "type": "string",
                                  "format": "ObjectId"
                                },
                                "systemFirstYearProductionKwh": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "systemSizeKw": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "inverters": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "isCurrent": {
                                  "type": "boolean"
                                },
                                "panelManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "panelModel": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "totalPanelCount": {
                                  "type": "number",
                                  "minimum": 0
                                },
                                "arrays": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "panelCount": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The number of panels in this single array"
                                      },
                                      "orientation": {
                                        "oneOf": [
                                          {
                                            "type": "string",
                                            "enum": [
                                              "landscape",
                                              "portrait",
                                              "combination"
                                            ],
                                            "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                          },
                                          {
                                            "type": "null"
                                          }
                                        ],
                                        "deprecated": true
                                      },
                                      "tilt": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The tilt from horizontal of the panels in the array"
                                      },
                                      "azimuth": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The direction in degrees of the array"
                                      },
                                      "annualTSRF": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The annual total solar access fraction"
                                      },
                                      "monthlySolarAccess": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "month",
                                            "accessPercent"
                                          ],
                                          "properties": {
                                            "month": {
                                              "type": "number",
                                              "minimum": 1,
                                              "maximum": 12,
                                              "description": "The month 1-12"
                                            },
                                            "accessPercent": {
                                              "type": "number",
                                              "minimum": 0,
                                              "description": "The monthly solar access percent"
                                            }
                                          }
                                        },
                                        "minItems": 0,
                                        "maxItems": 12,
                                        "description": "All 12 months are required"
                                      },
                                      "size": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The total size of the array in Watts"
                                      },
                                      "inverter": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The inverter index starting with 0 in the inverters array"
                                      }
                                    }
                                  }
                                },
                                "firstYearMonthlyProductionKwh": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "month": {
                                        "type": "number",
                                        "description": "The month 1-12",
                                        "minimum": 1,
                                        "maximum": 12
                                      },
                                      "productionKwh": {
                                        "type": "number",
                                        "minimum": 0,
                                        "description": "The monthly production in Kwh"
                                      }
                                    }
                                  }
                                },
                                "mountingType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "mountingManufacturer": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "storage": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [],
                                    "properties": {
                                      "manufacturer": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "model": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      },
                                      "count": {
                                        "type": [
                                          "null",
                                          "number"
                                        ]
                                      },
                                      "vintage": {
                                        "type": [
                                          "null",
                                          "string"
                                        ]
                                      }
                                    }
                                  }
                                },
                                "totalStorageCapacityKwh": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                },
                                "toleranceException": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "note": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "exceptionGivenBy": {
                                      "type": "string",
                                      "nullable": true,
                                      "description": "The user who provided the exception"
                                    }
                                  }
                                },
                                "attestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "attestmentText"
                                  ],
                                  "description": "Optional object that attests the range is as expected.",
                                  "properties": {
                                    "attestmentText": {
                                      "type": "string",
                                      "description": "The attestment text attached to the attestment action."
                                    }
                                  }
                                },
                                "domesticContentAttestment": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "nullable": true,
                                  "required": [
                                    "valueConfirmation"
                                  ],
                                  "description": "Optional object that attests the domestic content value confirmation.",
                                  "properties": {
                                    "valueConfirmation": {
                                      "type": "boolean",
                                      "description": "The affirmation or denial (opt-out) of domestic content."
                                    },
                                    "resubmission": {
                                      "type": "boolean",
                                      "description": "If this is a resubmission of a domestic content attestment."
                                    },
                                    "attestmentType": {
                                      "type": "string",
                                      "enum": [
                                        "pvOnly",
                                        "storageOnly",
                                        "pvAndStorage",
                                        "optOut"
                                      ],
                                      "description": "The type of the domestic content attestment (including opt-out)."
                                    }
                                  }
                                },
                                "mountingHardware": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "mountingHardwareModels"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string"
                                      },
                                      "mountingHardwareModels": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "required": [
                                            "manufacturer",
                                            "category",
                                            "sku"
                                          ],
                                          "properties": {
                                            "manufacturer": {
                                              "type": "string"
                                            },
                                            "category": {
                                              "type": "string"
                                            },
                                            "sku": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "domesticContentQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "annualConsumption": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "month",
                                      "consumption"
                                    ],
                                    "properties": {
                                      "month": {
                                        "type": "number"
                                      },
                                      "consumption": {
                                        "type": "number"
                                      }
                                    }
                                  },
                                  "deprecated": true
                                },
                                "itcQualification": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "properties": {
                                    "result": {
                                      "type": "object",
                                      "properties": {
                                        "pvQualified": {
                                          "type": "boolean"
                                        },
                                        "pvTotalPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "inverterPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSplicePercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "problems": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          }
                                        },
                                        "safeHarborYear": {
                                          "type": "number",
                                          "minimum": 2025
                                        },
                                        "pvFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "batteryFeocQualified": {
                                          "type": "boolean"
                                        },
                                        "inverterFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingTotalFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvTotalFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "pvSystemFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryFeocPercentageThreshold": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "panelFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingRailFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingFastenerFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingClampFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingSpliceFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "rackingBonusFeocPercentage": {
                                          "type": "number",
                                          "minimum": 0,
                                          "maximum": 100
                                        },
                                        "batteryIncluded": {
                                          "type": "boolean"
                                        },
                                        "feocExceptionGranted": {
                                          "type": "boolean"
                                        }
                                      }
                                    }
                                  }
                                },
                                "asBuiltSystemSizeKw": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true,
                                  "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                }
                              }
                            },
                            "solarModuleSerialNumber": {
                              "type": "string",
                              "nullable": true
                            },
                            "domesticContentEligibilityStatus": {
                              "type": "string",
                              "enum": [
                                "eligible",
                                "underConsideration",
                                "epcOptOut",
                                "confirmed"
                              ],
                              "description": "Current status of Domestic Content eligibility",
                              "nullable": true
                            },
                            "ptoGreenlight": {
                              "type": "object",
                              "additionalProperties": false,
                              "required": [],
                              "properties": {
                                "greenlightStatus": {
                                  "type": "boolean"
                                },
                                "trancheClosed": {
                                  "type": "boolean"
                                },
                                "tranchedClosedOn": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideDate": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "manualOverrideUser": {
                                  "type": "string"
                                }
                              }
                            },
                            "propertyType": {
                              "type": "string",
                              "nullable": true
                            },
                            "isSecondSystem": {
                              "type": "boolean",
                              "nullable": true
                            }
                          },
                          "required": [
                            "utility"
                          ]
                        },
                        "else": {
                          "if": {
                            "properties": {
                              "programType": {
                                "enum": [
                                  "newCommunity"
                                ]
                              }
                            }
                          },
                          "then": {
                            "properties": {
                              "utility": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "lseId"
                                ],
                                "properties": {
                                  "lseId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "tariffId": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "rate": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "utilityName": {
                                    "type": "string"
                                  }
                                }
                              },
                              "electricityUsageKwh": {
                                "anyOf": [
                                  {
                                    "type": "number",
                                    "minimum": 0,
                                    "description": "Total annual usage in kWh"
                                  },
                                  {
                                    "type": "array",
                                    "items": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "minItems": 12,
                                    "maxItems": 12,
                                    "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                  }
                                ]
                              },
                              "electricityUsageSource": {
                                "type": "string"
                              },
                              "ced": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "cedSplitPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                  },
                                  "cedProjectId": {
                                    "type": "string",
                                    "description": "The CED Greentech project ID"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "directPay": {
                                "type": "object",
                                "nullable": true,
                                "additionalProperties": false,
                                "properties": {
                                  "directPayEnabled": {
                                    "type": "boolean",
                                    "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                  },
                                  "directPayMaterialVendorAlias": {
                                    "type": "string",
                                    "description": "The alias of the materials vendor"
                                  },
                                  "projectId": {
                                    "type": "string",
                                    "description": "The CED project ID, only valid for CED projects"
                                  },
                                  "projectIdentifier": {
                                    "type": "string",
                                    "description": "The project identifier"
                                  },
                                  "projectStatus": {
                                    "type": "string",
                                    "enum": [
                                      "active",
                                      "optOut",
                                      "cancelled",
                                      "onHold"
                                    ]
                                  }
                                }
                              },
                              "noInverterConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "batteryMonitoringSiteId": {
                                "type": "string",
                                "nullable": true
                              },
                              "noBatteryConsumptionCT": {
                                "type": "boolean",
                                "nullable": true
                              },
                              "designTool": {
                                "type": "string",
                                "nullable": true
                              },
                              "itcAdderQualifications": {
                                "type": "object",
                                "nullable": true,
                                "properties": {
                                  "lowIncomeCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "incomeCategory": {
                                    "type": "string"
                                  },
                                  "energyCommunityEligible": {
                                    "type": "boolean"
                                  },
                                  "ecEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalTract",
                                      "FFECounty",
                                      "CoalTractAndFFECounty"
                                    ]
                                  },
                                  "ecCoalTractEligibilityCriteria": {
                                    "type": "string",
                                    "enum": [
                                      "CoalPowerPlantClosure",
                                      "CoalMineClosure",
                                      "CoalPowerPlantAndMineClosure",
                                      "TractAdjacency"
                                    ]
                                  },
                                  "ecFfeCountyMsaName": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaCode": {
                                    "type": "string"
                                  },
                                  "ecFfeCountyMsaType": {
                                    "type": "string"
                                  },
                                  "domesticContentEligible": {
                                    "type": "boolean"
                                  },
                                  "potentialEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "finalEligibilityQueryDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  }
                                }
                              },
                              "installer": {
                                "type": "object",
                                "description": "This information will only be provided for accounts in IL",
                                "properties": {
                                  "legalName": {
                                    "type": "string"
                                  },
                                  "iccDocketNumber": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteFirstName": {
                                    "type": "string"
                                  },
                                  "qualifiedPersonOnsiteLastName": {
                                    "type": "string"
                                  },
                                  "phoneNumber": {
                                    "type": "string"
                                  },
                                  "email": {
                                    "type": "string"
                                  },
                                  "address": {
                                    "type": "string"
                                  },
                                  "city": {
                                    "type": "string"
                                  },
                                  "state": {
                                    "type": "string"
                                  }
                                }
                              },
                              "permitSubmittedDate": {
                                "type": "object",
                                "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "permitApprovedDate": {
                                "type": "object",
                                "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "installScheduledDate": {
                                "type": "object",
                                "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "scheduledInspectionDate": {
                                "type": "object",
                                "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "electricianSignoffDate": {
                                "type": "object",
                                "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "expectedPTODate": {
                                "type": "object",
                                "nullable": true,
                                "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                "additionalProperties": true
                              },
                              "ptoGrantedDate": {
                                "type": "string",
                                "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                              },
                              "epcIncorrectSubmittedPtoGrantedDate": {
                                "type": "string",
                                "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                              },
                              "monitoringSiteId": {
                                "type": "string",
                                "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                              },
                              "systemDesign": {
                                "type": "object",
                                "properties": {
                                  "accountId": {
                                    "type": "string",
                                    "format": "ObjectId"
                                  },
                                  "systemFirstYearProductionKwh": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "systemSizeKw": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "inverters": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "isCurrent": {
                                    "type": "boolean"
                                  },
                                  "panelManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "panelModel": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "totalPanelCount": {
                                    "type": "number",
                                    "minimum": 0
                                  },
                                  "arrays": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "panelCount": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The number of panels in this single array"
                                        },
                                        "orientation": {
                                          "oneOf": [
                                            {
                                              "type": "string",
                                              "enum": [
                                                "landscape",
                                                "portrait",
                                                "combination"
                                              ],
                                              "description": "The orientation of the panels in the array: landscape, portrait, combination"
                                            },
                                            {
                                              "type": "null"
                                            }
                                          ],
                                          "deprecated": true
                                        },
                                        "tilt": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The tilt from horizontal of the panels in the array"
                                        },
                                        "azimuth": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The direction in degrees of the array"
                                        },
                                        "annualTSRF": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The annual total solar access fraction"
                                        },
                                        "monthlySolarAccess": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "month",
                                              "accessPercent"
                                            ],
                                            "properties": {
                                              "month": {
                                                "type": "number",
                                                "minimum": 1,
                                                "maximum": 12,
                                                "description": "The month 1-12"
                                              },
                                              "accessPercent": {
                                                "type": "number",
                                                "minimum": 0,
                                                "description": "The monthly solar access percent"
                                              }
                                            }
                                          },
                                          "minItems": 0,
                                          "maxItems": 12,
                                          "description": "All 12 months are required"
                                        },
                                        "size": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The total size of the array in Watts"
                                        },
                                        "inverter": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The inverter index starting with 0 in the inverters array"
                                        }
                                      }
                                    }
                                  },
                                  "firstYearMonthlyProductionKwh": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "month": {
                                          "type": "number",
                                          "description": "The month 1-12",
                                          "minimum": 1,
                                          "maximum": 12
                                        },
                                        "productionKwh": {
                                          "type": "number",
                                          "minimum": 0,
                                          "description": "The monthly production in Kwh"
                                        }
                                      }
                                    }
                                  },
                                  "mountingType": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "mountingManufacturer": {
                                    "type": "string",
                                    "nullable": true
                                  },
                                  "storage": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [],
                                      "properties": {
                                        "manufacturer": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "model": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        },
                                        "count": {
                                          "type": [
                                            "null",
                                            "number"
                                          ]
                                        },
                                        "vintage": {
                                          "type": [
                                            "null",
                                            "string"
                                          ]
                                        }
                                      }
                                    }
                                  },
                                  "totalStorageCapacityKwh": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  },
                                  "toleranceException": {
                                    "type": "object",
                                    "nullable": true,
                                    "properties": {
                                      "note": {
                                        "type": "string",
                                        "nullable": true
                                      },
                                      "exceptionGivenBy": {
                                        "type": "string",
                                        "nullable": true,
                                        "description": "The user who provided the exception"
                                      }
                                    }
                                  },
                                  "attestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "attestmentText"
                                    ],
                                    "description": "Optional object that attests the range is as expected.",
                                    "properties": {
                                      "attestmentText": {
                                        "type": "string",
                                        "description": "The attestment text attached to the attestment action."
                                      }
                                    }
                                  },
                                  "domesticContentAttestment": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "nullable": true,
                                    "required": [
                                      "valueConfirmation"
                                    ],
                                    "description": "Optional object that attests the domestic content value confirmation.",
                                    "properties": {
                                      "valueConfirmation": {
                                        "type": "boolean",
                                        "description": "The affirmation or denial (opt-out) of domestic content."
                                      },
                                      "resubmission": {
                                        "type": "boolean",
                                        "description": "If this is a resubmission of a domestic content attestment."
                                      },
                                      "attestmentType": {
                                        "type": "string",
                                        "enum": [
                                          "pvOnly",
                                          "storageOnly",
                                          "pvAndStorage",
                                          "optOut"
                                        ],
                                        "description": "The type of the domestic content attestment (including opt-out)."
                                      }
                                    }
                                  },
                                  "mountingHardware": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "mountingHardwareModels"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string"
                                        },
                                        "mountingHardwareModels": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "required": [
                                              "manufacturer",
                                              "category",
                                              "sku"
                                            ],
                                            "properties": {
                                              "manufacturer": {
                                                "type": "string"
                                              },
                                              "category": {
                                                "type": "string"
                                              },
                                              "sku": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "domesticContentQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "annualConsumption": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "month",
                                        "consumption"
                                      ],
                                      "properties": {
                                        "month": {
                                          "type": "number"
                                        },
                                        "consumption": {
                                          "type": "number"
                                        }
                                      }
                                    },
                                    "deprecated": true
                                  },
                                  "itcQualification": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "properties": {
                                      "result": {
                                        "type": "object",
                                        "properties": {
                                          "pvQualified": {
                                            "type": "boolean"
                                          },
                                          "pvTotalPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "inverterPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSplicePercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "problems": {
                                            "type": "array",
                                            "items": {
                                              "type": "string"
                                            }
                                          },
                                          "safeHarborYear": {
                                            "type": "number",
                                            "minimum": 2025
                                          },
                                          "pvFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "batteryFeocQualified": {
                                            "type": "boolean"
                                          },
                                          "inverterFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingTotalFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvTotalFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "pvSystemFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryFeocPercentageThreshold": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "panelFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingRailFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingFastenerFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingClampFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingSpliceFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "rackingBonusFeocPercentage": {
                                            "type": "number",
                                            "minimum": 0,
                                            "maximum": 100
                                          },
                                          "batteryIncluded": {
                                            "type": "boolean"
                                          },
                                          "feocExceptionGranted": {
                                            "type": "boolean"
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "asBuiltSystemSizeKw": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true,
                                    "description": "The as-built system size in kW. This is a calculated field based on the solar panel modules selected."
                                  }
                                }
                              },
                              "solarModuleSerialNumber": {
                                "type": "string",
                                "nullable": true
                              },
                              "domesticContentEligibilityStatus": {
                                "type": "string",
                                "enum": [
                                  "eligible",
                                  "underConsideration",
                                  "epcOptOut",
                                  "confirmed"
                                ],
                                "description": "Current status of Domestic Content eligibility",
                                "nullable": true
                              },
                              "ptoGreenlight": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [],
                                "properties": {
                                  "greenlightStatus": {
                                    "type": "boolean"
                                  },
                                  "trancheClosed": {
                                    "type": "boolean"
                                  },
                                  "tranchedClosedOn": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideDate": {
                                    "type": "string",
                                    "format": "date-time"
                                  },
                                  "manualOverrideUser": {
                                    "type": "string"
                                  }
                                }
                              },
                              "propertyType": {
                                "type": "string",
                                "nullable": true
                              },
                              "isSecondSystem": {
                                "type": "boolean",
                                "nullable": true
                              }
                            },
                            "required": [
                              "utility"
                            ]
                          },
                          "else": {
                            "if": {
                              "properties": {
                                "programType": {
                                  "enum": [
                                    "energyBackup"
                                  ]
                                }
                              }
                            },
                            "then": {
                              "properties": {
                                "utility": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [
                                    "lseId"
                                  ],
                                  "properties": {
                                    "lseId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "tariffId": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "rate": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "utilityName": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "electricityUsageKwh": {
                                  "anyOf": [
                                    {
                                      "type": "number",
                                      "minimum": 0,
                                      "description": "Total annual usage in kWh"
                                    },
                                    {
                                      "type": "array",
                                      "items": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "minItems": 12,
                                      "maxItems": 12,
                                      "description": "Monthly usage in kWh, January (index 0) through December (index 11)"
                                    }
                                  ]
                                },
                                "electricityUsageSource": {
                                  "type": "string"
                                },
                                "ced": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "cedSplitPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via direct pay to CED Greentech"
                                    },
                                    "cedProjectId": {
                                      "type": "string",
                                      "description": "The CED Greentech project ID"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "directPay": {
                                  "type": "object",
                                  "nullable": true,
                                  "additionalProperties": false,
                                  "properties": {
                                    "directPayEnabled": {
                                      "type": "boolean",
                                      "description": "True if the project is being fulfilled via a direct pay materials vendor"
                                    },
                                    "directPayMaterialVendorAlias": {
                                      "type": "string",
                                      "description": "The alias of the materials vendor"
                                    },
                                    "projectId": {
                                      "type": "string",
                                      "description": "The CED project ID, only valid for CED projects"
                                    },
                                    "projectIdentifier": {
                                      "type": "string",
                                      "description": "The project identifier"
                                    },
                                    "projectStatus": {
                                      "type": "string",
                                      "enum": [
                                        "active",
                                        "optOut",
                                        "cancelled",
                                        "onHold"
                                      ]
                                    }
                                  }
                                },
                                "noInverterConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "batteryMonitoringSiteId": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "noBatteryConsumptionCT": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "designTool": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "itcAdderQualifications": {
                                  "type": "object",
                                  "nullable": true,
                                  "properties": {
                                    "lowIncomeCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "incomeCategory": {
                                      "type": "string"
                                    },
                                    "energyCommunityEligible": {
                                      "type": "boolean"
                                    },
                                    "ecEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalTract",
                                        "FFECounty",
                                        "CoalTractAndFFECounty"
                                      ]
                                    },
                                    "ecCoalTractEligibilityCriteria": {
                                      "type": "string",
                                      "enum": [
                                        "CoalPowerPlantClosure",
                                        "CoalMineClosure",
                                        "CoalPowerPlantAndMineClosure",
                                        "TractAdjacency"
                                      ]
                                    },
                                    "ecFfeCountyMsaName": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaCode": {
                                      "type": "string"
                                    },
                                    "ecFfeCountyMsaType": {
                                      "type": "string"
                                    },
                                    "domesticContentEligible": {
                                      "type": "boolean"
                                    },
                                    "potentialEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "finalEligibilityQueryDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    }
                                  }
                                },
                                "installer": {
                                  "type": "object",
                                  "description": "This information will only be provided for accounts in IL",
                                  "properties": {
                                    "legalName": {
                                      "type": "string"
                                    },
                                    "iccDocketNumber": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteFirstName": {
                                      "type": "string"
                                    },
                                    "qualifiedPersonOnsiteLastName": {
                                      "type": "string"
                                    },
                                    "phoneNumber": {
                                      "type": "string"
                                    },
                                    "email": {
                                      "type": "string"
                                    },
                                    "address": {
                                      "type": "string"
                                    },
                                    "city": {
                                      "type": "string"
                                    },
                                    "state": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "permitSubmittedDate": {
                                  "type": "object",
                                  "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "permitApprovedDate": {
                                  "type": "object",
                                  "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "installScheduledDate": {
                                  "type": "object",
                                  "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "scheduledInspectionDate": {
                                  "type": "object",
                                  "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "electricianSignoffDate": {
                                  "type": "object",
                                  "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "expectedPTODate": {
                                  "type": "object",
                                  "nullable": true,
                                  "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                                  "additionalProperties": true
                                },
                                "ptoGrantedDate": {
                                  "type": "string",
                                  "description": "Date PTO was granted ISO Date String YYYY-MM-DD."
                                },
                                "epcIncorrectSubmittedPtoGrantedDate": {
                                  "type": "string",
                                  "description": "Original PTO date submitted by EPC if it was changed during review ISO Date String YYYY-MM-DD."
                                },
                                "monitoringSiteId": {
                                  "type": "string",
                                  "description": "A unique identifier created by EPC or Build Partner at the time of activation"
                                },
                                "systemDesign": {
                                  "type": "object",
                                  "additionalProperties": true,
                                  "required": [
                                    "equipment"
                                  ],
                                  "properties": {
                                    "equipment": {
                                      "type": "array",
                                      "items": {
                                        "type": "object",
                                        "additionalProperties": false,
                                        "required": [
                                          "manufacturer",
                                          "totalCost",
                                          "models",
                                          "type"
                                        ],
                                        "properties": {
                                          "type": {
                                            "type": "string"
                                          },
                                          "manufacturer": {
                                            "type": "string"
                                          },
                                          "models": {
                                            "type": "array",
                                            "items": {
                                              "type": "object",
                                              "required": [
                                                "name",
                                                "quantity",
                                                "capacity"
                                              ],
                                              "properties": {
                                                "modelNumber": {
                                                  "type": "string"
                                                },
                                                "name": {
                                                  "type": "string"
                                                },
                                                "capacity": {
                                                  "type": "number"
                                                },
                                                "productId": {
                                                  "type": "string"
                                                },
                                                "quantity": {
                                                  "type": "number"
                                                }
                                              }
                                            }
                                          },
                                          "totalCost": {
                                            "type": "number"
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "solarModuleSerialNumber": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "domesticContentEligibilityStatus": {
                                  "type": "string",
                                  "enum": [
                                    "eligible",
                                    "underConsideration",
                                    "epcOptOut",
                                    "confirmed"
                                  ],
                                  "description": "Current status of Domestic Content eligibility",
                                  "nullable": true
                                },
                                "ptoGreenlight": {
                                  "type": "object",
                                  "additionalProperties": false,
                                  "required": [],
                                  "properties": {
                                    "greenlightStatus": {
                                      "type": "boolean"
                                    },
                                    "trancheClosed": {
                                      "type": "boolean"
                                    },
                                    "tranchedClosedOn": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideDate": {
                                      "type": "string",
                                      "format": "date-time"
                                    },
                                    "manualOverrideUser": {
                                      "type": "string"
                                    }
                                  }
                                },
                                "propertyType": {
                                  "type": "string",
                                  "nullable": true
                                },
                                "isSecondSystem": {
                                  "type": "boolean",
                                  "nullable": true
                                },
                                "existingSystemDetails": {
                                  "type": "object",
                                  "properties": {
                                    "hasExistingSystem": {
                                      "type": "boolean"
                                    },
                                    "acSystemSize": {
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "financeType": {
                                      "type": "string",
                                      "nullable": true
                                    },
                                    "acSystemSizeAttestation": {
                                      "type": "object",
                                      "nullable": true,
                                      "properties": {
                                        "attestmentText": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              },
                              "required": [
                                "utility"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/available-adders": {
      "get": {
        "summary": "Returns the available adders for the account, both those that open up additional pricing bands, plus raw cost based adders.",
        "tags": [
          "v2 - Adders"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "availableAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "adderType",
                          "enabled",
                          "valueType"
                        ],
                        "properties": {
                          "adderType": {
                            "type": "string",
                            "enum": [
                              "arbitrageBattery",
                              "arbitrageBatteryCost",
                              "electricalUpgrade",
                              "backupBattery",
                              "backupBatteryKwh",
                              "backupBatteryPriceCap",
                              "batteryMinimumCapacity",
                              "solarReadiness",
                              "arbitrageBatteryPriceCap"
                            ],
                            "description": "The type of adder"
                          },
                          "enabled": {
                            "type": "boolean",
                            "description": "True if the adder is enabled"
                          },
                          "valueType": {
                            "type": "string",
                            "enum": [
                              "additionalKwhRateBand",
                              "rawCost"
                            ],
                            "description": "What type of value is the adder represented by (i.e. an additional kwh rate band available in pricing, or a raw cost provided by you."
                          },
                          "value": {
                            "type": "number",
                            "minimum": 0,
                            "description": "Not specified for all adders."
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/pricing": {
      "get": {
        "summary": "Fetch an account's available products",
        "tags": [
          "v2 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "arbitrageBatteryIncluded",
            "required": false,
            "description": "True if arbitrage battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryIncluded",
            "required": false,
            "description": "True if cost based backup battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryKwhIncluded",
            "required": false,
            "description": "True if $/kWh backup battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0
            },
            "in": "query",
            "name": "backupBatteryCost",
            "required": false,
            "description": "The cost of the backup battery.  This is required if a cost based backup battery adder is indicated."
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "backupBatteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the backup battery"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/pricing/{financeProductId}": {
      "get": {
        "summary": "Fetch an account's available products",
        "tags": [
          "v2 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "arbitrageBatteryIncluded",
            "required": false,
            "description": "True if arbitrage battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryIncluded",
            "required": false,
            "description": "True if cost based backup battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryKwhIncluded",
            "required": false,
            "description": "True if $/kWh backup battery adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0
            },
            "in": "query",
            "name": "backupBatteryCost",
            "required": false,
            "description": "The cost of the backup battery.  This is required if a backup battery adder is indicated."
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "financeProductId",
            "required": true,
            "description": "The finance product identifier for which to load pricing"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "backupBatteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the backup battery"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/pricing/doe-pr": {
      "get": {
        "summary": "Fetch an account's available products for the DOE PR program",
        "tags": [
          "v2 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryManufacturer",
            "required": false,
            "description": "The manufacturer of the backup battery"
          },
          {
            "schema": {
              "type": "string",
              "default": false
            },
            "in": "query",
            "name": "backupBatteryModelNumber",
            "required": false,
            "description": "The backup battery model number (from our AVL)"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0,
              "default": false
            },
            "in": "query",
            "name": "backupBatteryQuantity",
            "required": false,
            "description": "The number of batteries included"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0,
              "default": false
            },
            "in": "query",
            "name": "solarReadinessCost",
            "required": false,
            "description": "The cost of additional work necessary to prepare the site for installation"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "backupBatteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the backup battery"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/pricing/hvac": {
      "post": {
        "summary": "Fetch an account's available pricing for the HVAC program. This will only return estimated pricing if there is not a system design for the account or a systemDesign is not supplied",
        "tags": [
          "v2 - Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "totalFinancedAmount": {
                    "type": "number",
                    "description": "The total amount to be financed"
                  },
                  "systemDesign": {
                    "if": {
                      "type": "object",
                      "required": [
                        "isPreliminary"
                      ],
                      "properties": {
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "then": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems",
                        "isPreliminary"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "size": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "unit": {
                                              "type": "string",
                                              "nullable": true
                                            },
                                            "value": {
                                              "type": "string",
                                              "nullable": true
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                              "unit": {
                                                "type": "string",
                                                "nullable": true
                                              },
                                              "value": {
                                                "type": "string",
                                                "nullable": true
                                              }
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning"
                                          ]
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "else": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "nullable": true,
                                "description": "AHRI number for the system"
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "model": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "size": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "unit": {
                                                "type": "string"
                                              },
                                              "value": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning",
                                            "zoneBoard",
                                            "zoneDamper",
                                            "bypassDamper"
                                          ]
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "manufacturer": {
                                "type": "string",
                                "enum": [
                                  "Trane",
                                  "American Standard",
                                  "Run-Tru",
                                  "Ameristar",
                                  "Daikin",
                                  "Goodman",
                                  "Amana",
                                  "Samsung",
                                  "Mitsubishi Electric",
                                  "Lennox",
                                  "Carrier",
                                  "Bryant",
                                  "Rheem",
                                  "Fujitsu",
                                  "Bosch",
                                  "York",
                                  "LG",
                                  "Gree"
                                ],
                                "description": "The OEM manufacturer of the main HVAC equipment being installed."
                              },
                              "efficiencies": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "seer2": {
                                    "type": "string"
                                  },
                                  "hspf2": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [false]
                        }
                      }
                    },
                    "description": "If this is specified, the total financed amount and the current system design (if accountId is sent) will be ignored in favor of this design"
                  },
                  "useCurrentSystemDesign": {
                    "type": "boolean",
                    "description": "If true, the current system design for the account (if accountID is sent) will be used. totalFinancedAmount and systemDesign will be ignored"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "monthlyPayments",
                      "term"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "term": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The term of the agreement in years"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "hvac"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      },
                      "isEstimate": {
                        "type": "boolean",
                        "description": "True if not enough information is provided to guarantee accurate pricing"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "summary": "Fetch an account's available products for the HVAC program. This will only return estimated pricing if there is not a system design",
        "tags": [
          "v2 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "number",
              "minimum": 0,
              "default": false
            },
            "in": "query",
            "name": "totalFinancedAmount",
            "required": false,
            "description": "The total amount being financed"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "monthlyPayments",
                      "term"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "term": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The term of the agreement in years"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "hvac"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      },
                      "isEstimate": {
                        "type": "boolean",
                        "description": "True if not enough information is provided to guarantee accurate pricing"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/pricing/energy-backup": {
      "post": {
        "summary": "Fetch an account's available pricing for the Energy Backup program. This will only return estimated pricing if there is not a system design for the account or a systemDesign is not supplied",
        "tags": [
          "v2 - Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "totalFinancedAmount": {
                    "type": "number",
                    "description": "The total amount to be financed"
                  },
                  "systemDesign": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "equipment"
                    ],
                    "properties": {
                      "equipment": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "totalCost",
                            "models",
                            "type"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "manufacturer": {
                              "type": "string"
                            },
                            "models": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "name",
                                  "quantity",
                                  "capacity"
                                ],
                                "properties": {
                                  "modelNumber": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "capacity": {
                                    "type": "number"
                                  },
                                  "productId": {
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "totalCost": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    },
                    "description": "If this is specified, the total financed amount and the current system design (if accountId is sent) will be ignored in favor of this design"
                  },
                  "useCurrentSystemDesign": {
                    "type": "boolean",
                    "description": "If true, the current system design for the account (if accountID is sent) will be used. totalFinancedAmount and systemDesign will be ignored"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "monthlyPayments",
                      "term"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "term": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The term of the agreement in years"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "energyBackup"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes": {
      "get": {
        "summary": "Fetch an account's quotes",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "systemPricingDetails",
                      "status",
                      "systemFirstYearProductionKwh",
                      "productId",
                      "kwhPrice",
                      "totalSystemCost",
                      "pricePerWatt",
                      "totalAmountPaid"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "productId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string",
                        "description": "A friendly identifier set by your system to identify the Quote"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ]
                      },
                      "systemFirstYearProductionKwh": {
                        "type": "number",
                        "minimum": 0,
                        "description": "Estimated first year production in kWh"
                      },
                      "systemSizeKw": {
                        "type": "number",
                        "minimum": 0,
                        "description": "system size in kilowatts"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The factor at which the rate escalates on an annual basis"
                      },
                      "kwhPrice": {
                        "type": "number",
                        "minimum": 0,
                        "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                      },
                      "totalSystemCost": {
                        "type": "number",
                        "minimum": 0
                      },
                      "pricePerWatt": {
                        "type": "number",
                        "minimum": 0
                      },
                      "productName": {
                        "type": "string",
                        "description": "The name of the Finance Product selected."
                      },
                      "preConAdderCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of pre-construction adders included in the totalSystemCost."
                      },
                      "systemPricingDetails": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "estimatedAnnualProduction",
                            "guaranteedAnnualProduction"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the given year"
                            },
                            "estimatedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The estimated annual production for the given year"
                            },
                            "guaranteedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The production guarantee for the given year"
                            },
                            "yearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year"
                            },
                            "kwhRate": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The kilowatt hour rate (kWh) paid for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The backup battery monthly payment for the given year"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment including backup battery for the given year"
                            },
                            "totalYearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year including backup battery"
                            }
                          }
                        }
                      },
                      "totalAmountPaid": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total amount paid over the lifetime of the lease agreement"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "contracted",
                          "voided"
                        ]
                      },
                      "contractId": {
                        "type": "string"
                      },
                      "adders": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "description": "The adders included in the quote"
                      },
                      "additionalCostAdders": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "backupBattery",
                                "arbitrageBattery",
                                "solarReadiness"
                              ]
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        }
                      },
                      "backupBatteryDetails": {
                        "type": "object",
                        "properties": {
                          "pricingMethod": {
                            "type": "string",
                            "enum": [
                              "embedded",
                              "kwhRate",
                              "rawCost"
                            ]
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "modelNumber": {
                            "type": "string"
                          },
                          "quantity": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      },
                      "totalSystemCostWithoutDomesticContent": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total system cost without domestic content pricing"
                      },
                      "pricePerWattWithoutDomesticContent": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The price per watt without domestic content pricing"
                      },
                      "domesticContentEligible": {
                        "type": "boolean",
                        "description": "Indicates if the quote is eligible for domestic content pricing"
                      },
                      "effectivePPWRate": {
                        "type": "number",
                        "description": "The effective price per watt rate including battery cost (if applicable)"
                      },
                      "effectivePPWRateWithoutDomesticContent": {
                        "type": "number",
                        "description": "The effective price per watt rate without domestic content"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new quote",
        "tags": [
          "v2 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId",
                    "description": "The ID of the product returned from a pricing request that you wish to generate a quote for"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "A friendly Id set by your system to identify the Quote"
                  },
                  "arbitrageBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if arbitrage battery is included"
                  },
                  "backupBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if cost based backup battery is included"
                  },
                  "backupBatteryKwhIncluded": {
                    "type": "boolean",
                    "description": "True if $/kWh backup battery is included"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "backupBatteryCost": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The EPC cost of the backup battery.  This is required if a backup battery adder is indicated."
                  },
                  "backupBatteryManufacturer": {
                    "type": "string",
                    "description": "This should be one of our Approved Vendors.  Currently we support Enphase, SolarEdge, and Tesla, but review the Approved Vendors API for the most current list.  Enforcement of this list is coming soon."
                  },
                  "backupBatteryModelNumber": {
                    "type": "string",
                    "description": "The model number of the backup battery. Review the Approved Vendors API for the most current list.  Enforcement of this list is coming soon, and will determine the max allowable charge."
                  },
                  "backupBatteryQuantity": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The number of backup batteries.  This is required if a backup battery adder is indicated."
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into consideration if available for the given account"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "backupBatteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The backup battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including backup battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including backup battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "backupBatteryDetails": {
                      "type": "object",
                      "properties": {
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "modelNumber": {
                          "type": "string"
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/hvac": {
      "get": {
        "summary": "Fetch an account's quotes for HVAC accounts",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "systemPricingDetails",
                      "status",
                      "productId",
                      "totalSystemCost",
                      "totalAmountPaid"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "productId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string",
                        "description": "A friendly identifier set by your system to identify the Quote"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ]
                      },
                      "totalSystemCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total system cost"
                      },
                      "productName": {
                        "type": "string",
                        "description": "The name of the Finance Product selected."
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The factor at which the rate escalates on an annual basis"
                      },
                      "systemPricingDetails": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "yearlyCost"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the given year"
                            },
                            "yearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year"
                            }
                          }
                        }
                      },
                      "totalAmountPaid": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total amount paid over the lifetime of the lease agreement"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "contracted",
                          "voided"
                        ]
                      },
                      "contractId": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new HVAC quote",
        "tags": [
          "v2 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId",
                  "totalFinancedAmount"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId",
                    "description": "The ID of the product returned from a pricing request that you wish to generate a quote for"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "A friendly Id set by your system to identify the Quote"
                  },
                  "totalFinancedAmount": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total cost of the system"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "productId",
                    "totalSystemCost",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost"
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "yearlyCost"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/energy-backup": {
      "get": {
        "summary": "Fetch an account's quotes for Energy Backup",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "systemPricingDetails",
                      "status",
                      "productId",
                      "totalSystemCost",
                      "totalAmountPaid"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "productId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string",
                        "description": "A friendly identifier set by your system to identify the Quote"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ]
                      },
                      "totalSystemCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total system cost"
                      },
                      "productName": {
                        "type": "string",
                        "description": "The name of the Finance Product selected."
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The factor at which the rate escalates on an annual basis"
                      },
                      "systemPricingDetails": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "yearlyCost"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the given year"
                            },
                            "yearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year"
                            }
                          }
                        }
                      },
                      "totalAmountPaid": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total amount paid over the lifetime of the lease agreement"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "contracted",
                          "voided"
                        ]
                      },
                      "contractId": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new Energy Backup quote",
        "tags": [
          "v2 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId",
                  "totalFinancedAmount"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId",
                    "description": "The ID of the product returned from a pricing request that you wish to generate a quote for"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "A friendly Id set by your system to identify the Quote"
                  },
                  "totalFinancedAmount": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total cost of the system"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "productId",
                    "totalSystemCost",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost"
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "yearlyCost"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/{quoteId}": {
      "get": {
        "summary": "Fetch an account's quote by quote id",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "backupBatteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The backup battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including backup battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including backup battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "backupBatteryDetails": {
                      "type": "object",
                      "properties": {
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "modelNumber": {
                          "type": "string"
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Void an existing quote",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/hvac/{quoteId}": {
      "get": {
        "summary": "Fetch a HVAC account's quote by quote id",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "productId",
                    "totalSystemCost",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost"
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "yearlyCost"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/energy-backup/{quoteId}": {
      "get": {
        "summary": "Fetch a Energy Backup account's quote by quote id",
        "tags": [
          "v2 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "productId",
                    "totalSystemCost",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost"
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "yearlyCost"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/quotes/doe-pr": {
      "post": {
        "summary": "Create a new quote",
        "tags": [
          "v2 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId",
                    "description": "The ID of the product returned from a pricing request that you wish to generate a quote for"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "A friendly Id set by your system to identify the Quote"
                  },
                  "backupBatteryManufacturer": {
                    "type": "string",
                    "description": "Default should be Generac"
                  },
                  "backupBatteryModelNumber": {
                    "type": "string",
                    "description": "The model number of the battery"
                  },
                  "backupBatteryQuantity": {
                    "type": "number",
                    "minimum": 0,
                    "description": "True if $/kWh backup battery is included, using Kwh pricing"
                  },
                  "solarReadinessCost": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The cost of additional work necessary to prepare the site for installation"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "backupBatteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The backup battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including backup battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including backup battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "backupBatteryDetails": {
                      "type": "object",
                      "properties": {
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "modelNumber": {
                          "type": "string"
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/save": {
      "post": {
        "summary": "Saves the progress of an accounts install package. This does not submit the package.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "systemDesign": {
                    "type": "object",
                    "properties": {
                      "panelManufacturer": {
                        "type": "string"
                      },
                      "panelModel": {
                        "type": "string"
                      },
                      "totalPanelCount": {
                        "type": "number",
                        "minimum": 0
                      },
                      "inverterManufacturer": {
                        "deprecated": true,
                        "type": "string"
                      },
                      "inverters": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "model",
                            "count"
                          ],
                          "properties": {
                            "manufacturer": {
                              "type": "string"
                            },
                            "model": {
                              "type": "string"
                            },
                            "count": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        },
                        "minItems": 1
                      },
                      "mountingType": {
                        "type": "string"
                      },
                      "mountingManufacturer": {
                        "type": "string"
                      },
                      "mountingHardware": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "mountingHardwareModels"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "mountingHardwareModels": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "manufacturer",
                                  "category",
                                  "sku"
                                ],
                                "properties": {
                                  "manufacturer": {
                                    "type": "string"
                                  },
                                  "category": {
                                    "type": "string"
                                  },
                                  "sku": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "installer": {
                    "type": "object",
                    "properties": {
                      "legalName": {
                        "type": "string"
                      },
                      "iccDocketNumber": {
                        "type": "string"
                      },
                      "qualifiedPersonOnsiteFirstName": {
                        "type": "string"
                      },
                      "qualifiedPersonOnsiteLastName": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      }
                    }
                  },
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": {
                      "monitoringSiteId": {
                        "type": "string"
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "adders": {
                    "type": "array",
                    "description": "Details for adders selected for the account",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of adder selected",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The quantity of the adder selected"
                        },
                        "model": {
                          "type": "string",
                          "description": "The model of the adder selected"
                        },
                        "manufacturer": {
                          "type": "string",
                          "description": "The manufacturer of the adder selected"
                        },
                        "cost": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The cost of the adder selected"
                        },
                        "reasonOptionsSelected": {
                          "type": "array",
                          "description": "Array of the reasons selected for the adder"
                        },
                        "otherReasonDetails": {
                          "type": "string",
                          "description": "Explanation details if \"other\" reason selected"
                        }
                      }
                    }
                  },
                  "designTool": {
                    "type": "string"
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "scheduledInspectionDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "electricianSignoffDate": {
                    "type": "object",
                    "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "utility": {
                    "type": "object",
                    "properties": {
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "solarModuleSerialNumber": {
                    "type": "string",
                    "nullable": true
                  },
                  "propertyType": {
                    "type": "string",
                    "nullable": true
                  },
                  "isSecondSystem": {
                    "type": "boolean",
                    "nullable": true
                  },
                  "bypassApprovalValidation": {
                    "type": "boolean",
                    "description": "Flag to allow saving install package after approval",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/submit": {
      "post": {
        "summary": "Submits an accounts install package. This also saves all the install package data.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "systemDesign",
                  "monitoring",
                  "designTool",
                  "utility"
                ],
                "properties": {
                  "systemDesign": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "panelManufacturer",
                      "panelModel",
                      "totalPanelCount",
                      "inverterManufacturer",
                      "inverters",
                      "mountingType",
                      "mountingManufacturer",
                      "mountingHardware"
                    ],
                    "properties": {
                      "panelManufacturer": {
                        "type": "string"
                      },
                      "panelModel": {
                        "type": "string"
                      },
                      "totalPanelCount": {
                        "type": "number",
                        "minimum": 0
                      },
                      "inverterManufacturer": {
                        "deprecated": true,
                        "type": "string"
                      },
                      "inverters": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "model",
                            "count"
                          ],
                          "properties": {
                            "manufacturer": {
                              "type": "string"
                            },
                            "model": {
                              "type": "string"
                            },
                            "count": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        },
                        "minItems": 1
                      },
                      "mountingType": {
                        "type": "string"
                      },
                      "mountingManufacturer": {
                        "type": "string"
                      },
                      "mountingHardware": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "type",
                            "mountingHardwareModels"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "mountingHardwareModels": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "additionalProperties": false,
                                "required": [
                                  "manufacturer",
                                  "category",
                                  "sku"
                                ],
                                "properties": {
                                  "manufacturer": {
                                    "type": "string"
                                  },
                                  "category": {
                                    "type": "string"
                                  },
                                  "sku": {
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "installer": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "legalName",
                      "iccDocketNumber",
                      "qualifiedPersonOnsiteFirstName",
                      "qualifiedPersonOnsiteLastName",
                      "phoneNumber",
                      "email",
                      "address",
                      "city",
                      "state"
                    ],
                    "properties": {
                      "legalName": {
                        "type": "string"
                      },
                      "iccDocketNumber": {
                        "type": "string"
                      },
                      "qualifiedPersonOnsiteFirstName": {
                        "type": "string"
                      },
                      "qualifiedPersonOnsiteLastName": {
                        "type": "string"
                      },
                      "phoneNumber": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      },
                      "address": {
                        "type": "string"
                      },
                      "city": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      }
                    }
                  },
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": {
                      "monitoringSiteId": {
                        "type": "string"
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "adders": {
                    "type": "array",
                    "description": "Details for adders selected for the account",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "properties": {
                        "type": {
                          "type": "string",
                          "description": "The type of adder selected",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "quantity": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The quantity of the adder selected"
                        },
                        "model": {
                          "type": "string",
                          "description": "The model of the adder selected"
                        },
                        "manufacturer": {
                          "type": "string",
                          "description": "The manufacturer of the adder selected"
                        },
                        "cost": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The cost of the adder selected"
                        },
                        "reasonOptionsSelected": {
                          "type": "array",
                          "description": "Array of the reasons selected for the adder"
                        },
                        "otherReasonDetails": {
                          "type": "string",
                          "description": "Explanation details if \"other\" reason selected"
                        }
                      }
                    }
                  },
                  "designTool": {
                    "type": "string"
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "scheduledInspectionDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "electricianSignoffDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the electrician signoff is completed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "utility": {
                    "type": "object",
                    "required": [],
                    "properties": {
                      "tariffId": {
                        "type": [
                          "number",
                          "null"
                        ]
                      }
                    }
                  },
                  "isDomesticContent": {
                    "type": "boolean",
                    "nullable": true
                  },
                  "mountingHardware": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "type",
                        "mountingHardwareModels"
                      ],
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "mountingHardwareModels": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "manufacturer",
                              "category",
                              "sku"
                            ],
                            "properties": {
                              "manufacturer": {
                                "type": "string"
                              },
                              "category": {
                                "type": "string"
                              },
                              "sku": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "solarModuleSerialNumber": {
                    "type": "string",
                    "nullable": true
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/flags": {
      "get": {
        "summary": "Returns open review flags for the account's install package.",
        "tags": [
          "V2 - Install Package"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "flags": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "reason": {
                            "type": "string"
                          },
                          "note": {
                            "type": "string"
                          },
                          "resolved": {
                            "type": "boolean"
                          },
                          "category": {
                            "type": "string",
                            "nullable": true
                          },
                          "flagType": {
                            "type": "string",
                            "nullable": true
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "purposeType": {
                            "type": "string",
                            "nullable": true,
                            "enum": [
                              "rejection",
                              "stipulation",
                              "additionalReview",
                              "notification"
                            ]
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "displayText": {
                                  "type": "string"
                                },
                                "details": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "requirementDisplayText": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "status": {
                            "type": "string"
                          },
                          "actionHistory": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "date": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "note": {
                                  "type": "string"
                                },
                                "fileUpload": {
                                  "type": "string"
                                },
                                "changedFromReviewPackageValue": {
                                  "type": "string"
                                },
                                "flaggedDocumentId": {
                                  "type": "string"
                                },
                                "replacementDocumentId": {
                                  "type": "string"
                                },
                                "actionStatus": {
                                  "type": "string"
                                },
                                "flagSubject": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "subjectArchivedOrVoided": {
                            "type": "boolean",
                            "description": "Indicates if the subject of the flag has been archived or voided."
                          }
                        },
                        "additionalProperties": false
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/hvac/save": {
      "post": {
        "summary": "Saves the progress of an accounts install HVAC package. This does not submit the package.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "systemDesign": {
                    "type": "object",
                    "properties": {
                      "systems": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "systemCategory",
                            "conditionedArea",
                            "equipment"
                          ],
                          "properties": {
                            "systemCategory": {
                              "type": "string",
                              "enum": [
                                "Conventional Ducted Split System",
                                "Conventional Ducted System",
                                "Package",
                                "Ductless Mini Split",
                                "Ducted Mini Split",
                                "Heat Pump Split System",
                                "Gas Conventional Split System",
                                "Dual Fuel Split System",
                                "Packaged Heat Pump",
                                "Packaged Gas/Electric",
                                "Packaged Dual Fuel",
                                "Single Zone Mini Split",
                                "Multi Zone Mini Split",
                                "Air Conditioning/Air Handler Split System"
                              ]
                            },
                            "conditionedArea": {
                              "type": "number",
                              "minimum": 0
                            },
                            "name": {
                              "type": "string",
                              "nullable": true
                            },
                            "ahriNumber": {
                              "type": "string",
                              "nullable": true,
                              "description": "AHRI number for the system"
                            },
                            "equipment": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "manufacturer",
                                      "model",
                                      "quantity",
                                      "name"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string",
                                        "minLength": 1
                                      },
                                      "model": {
                                        "type": "string",
                                        "minLength": 1
                                      },
                                      "quantity": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "size": {
                                        "type": "object",
                                        "properties": {
                                          "unit": {
                                            "type": "string"
                                          },
                                          "value": {
                                            "type": "string"
                                          }
                                        }
                                      },
                                      "efficiencies": {
                                        "type": "array",
                                        "items": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        }
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "accessories": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "manufacturer",
                                      "model",
                                      "quantity",
                                      "name"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "model": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number"
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "zoning": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "type",
                                      "quantity"
                                    ],
                                    "properties": {
                                      "type": {
                                        "type": "string",
                                        "enum": [
                                          "zoning",
                                          "zoneBoard",
                                          "zoneDamper",
                                          "bypassDamper"
                                        ]
                                      },
                                      "name": {
                                        "type": "string"
                                      },
                                      "manufacturer": {
                                        "type": "string"
                                      },
                                      "model": {
                                        "type": "string"
                                      },
                                      "quantity": {
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "productId": {
                                        "type": "string",
                                        "description": "Id from the LightReach Product Catalog"
                                      },
                                      "serialNumbers": {
                                        "type": "array",
                                        "items": {
                                          "type": "string"
                                        },
                                        "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                      },
                                      "description": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "nullable": true
                                }
                              }
                            },
                            "sitePrep": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "discounts": {
                              "type": "object",
                              "properties": {
                                "items": {
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "additionalProperties": false,
                                    "required": [
                                      "name"
                                    ],
                                    "properties": {
                                      "name": {
                                        "type": "string"
                                      }
                                    }
                                  }
                                },
                                "totalCost": {
                                  "type": "number",
                                  "minimum": 0,
                                  "nullable": true
                                }
                              }
                            },
                            "manufacturer": {
                              "type": "string",
                              "enum": [
                                "Trane",
                                "American Standard",
                                "Run-Tru",
                                "Ameristar",
                                "Daikin",
                                "Goodman",
                                "Amana",
                                "Samsung",
                                "Mitsubishi Electric",
                                "Lennox",
                                "Carrier",
                                "Bryant",
                                "Rheem",
                                "Fujitsu",
                                "Bosch",
                                "York",
                                "LG",
                                "Gree"
                              ],
                              "description": "The OEM manufacturer of the main HVAC equipment being installed."
                            },
                            "efficiencies": {
                              "type": "object",
                              "additionalProperties": false,
                              "properties": {
                                "seer2": {
                                  "type": "string"
                                },
                                "hspf2": {
                                  "type": "string",
                                  "nullable": true
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  },
                  "systemInstallDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the system is installed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitAttestation": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": true,
                    "description": "Permit attestation object to show attestation information",
                    "properties": {
                      "attestmentText": {
                        "type": "string"
                      }
                    }
                  },
                  "workOrderTotalPrice": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true
                  },
                  "bypassApprovalValidation": {
                    "type": "boolean",
                    "description": "Flag to allow saving install package after approval",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/hvac/submit": {
      "post": {
        "summary": "Submits an accounts install HVAC package. This also saves all the install package data.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "systemDesign",
                  "systemInstallDate",
                  "permitAttestation"
                ],
                "properties": {
                  "systemDesign": {
                    "if": {
                      "type": "object",
                      "required": [
                        "isPreliminary"
                      ],
                      "properties": {
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "then": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems",
                        "isPreliminary"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "size": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "unit": {
                                              "type": "string",
                                              "nullable": true
                                            },
                                            "value": {
                                              "type": "string",
                                              "nullable": true
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                              "unit": {
                                                "type": "string",
                                                "nullable": true
                                              },
                                              "value": {
                                                "type": "string",
                                                "nullable": true
                                              }
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning"
                                          ]
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "else": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "nullable": true,
                                "description": "AHRI number for the system"
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "model": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "size": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "unit": {
                                                "type": "string"
                                              },
                                              "value": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning",
                                            "zoneBoard",
                                            "zoneDamper",
                                            "bypassDamper"
                                          ]
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "manufacturer": {
                                "type": "string",
                                "enum": [
                                  "Trane",
                                  "American Standard",
                                  "Run-Tru",
                                  "Ameristar",
                                  "Daikin",
                                  "Goodman",
                                  "Amana",
                                  "Samsung",
                                  "Mitsubishi Electric",
                                  "Lennox",
                                  "Carrier",
                                  "Bryant",
                                  "Rheem",
                                  "Fujitsu",
                                  "Bosch",
                                  "York",
                                  "LG",
                                  "Gree"
                                ],
                                "description": "The OEM manufacturer of the main HVAC equipment being installed."
                              },
                              "efficiencies": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "seer2": {
                                    "type": "string"
                                  },
                                  "hspf2": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [false]
                        }
                      }
                    }
                  },
                  "systemInstallDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the system is installed. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitAttestation": {
                    "type": "object",
                    "nullable": true,
                    "additionalProperties": true,
                    "description": "Permit attestation object to show attestation information",
                    "properties": {
                      "attestmentText": {
                        "type": "string"
                      }
                    }
                  },
                  "workOrderTotalPrice": {
                    "type": "number",
                    "minimum": 0,
                    "nullable": true
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/energy-backup/save": {
      "post": {
        "summary": "Saves the progress of an accounts install package. This does not submit the package.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "systemDesign": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "equipment"
                    ],
                    "properties": {
                      "equipment": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "totalCost",
                            "models",
                            "type"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "manufacturer": {
                              "type": "string"
                            },
                            "models": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "name",
                                  "quantity",
                                  "capacity"
                                ],
                                "properties": {
                                  "modelNumber": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "capacity": {
                                    "type": "number"
                                  },
                                  "productId": {
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "totalCost": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  },
                  "monitoring": {
                    "type": "object",
                    "properties": {
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "scheduledInspectionDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "utility": {
                    "type": "object",
                    "properties": {
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "bypassApprovalValidation": {
                    "type": "boolean",
                    "description": "Flag to allow saving install package after approval",
                    "default": false
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/install-package/energy-backup/submit": {
      "post": {
        "summary": "Submits an accounts install package. This also saves all the install package data.",
        "tags": [
          "V2 - Install Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "systemDesign",
                  "monitoring",
                  "utility"
                ],
                "properties": {
                  "systemDesign": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "equipment"
                    ],
                    "properties": {
                      "equipment": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "totalCost",
                            "models",
                            "type"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "manufacturer": {
                              "type": "string"
                            },
                            "models": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "name",
                                  "quantity",
                                  "capacity"
                                ],
                                "properties": {
                                  "modelNumber": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "capacity": {
                                    "type": "number"
                                  },
                                  "productId": {
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "totalCost": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  },
                  "monitoring": {
                    "type": "object",
                    "properties": {
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "permitSubmittedDate": {
                    "type": "object",
                    "description": "Date the permit is submitted. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "permitApprovedDate": {
                    "type": "object",
                    "description": "Date the permit is approved. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "installScheduledDate": {
                    "type": "object",
                    "description": "Date the install is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "scheduledInspectionDate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the inspection is scheduled. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "expectedPTODate": {
                    "type": "object",
                    "nullable": true,
                    "description": "Date the PTO is expected. Object key is the source (ie. {epc: \"2023-11-10\"})",
                    "additionalProperties": true
                  },
                  "utility": {
                    "type": "object",
                    "properties": {
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  },
                  "bypassApprovalValidation": {
                    "type": "boolean",
                    "description": "Flag to allow saving install package after approval",
                    "default": false
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/save": {
      "post": {
        "summary": "Saves the progress of an accounts activation package. This does not submit the package.",
        "tags": [
          "V2 - Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": {
                      "monitoringSiteId": {
                        "type": "string"
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  },
                  "electricianSignoffDate": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "palmetto": {
                        "type": "string"
                      }
                    }
                  },
                  "utility": {
                    "type": "object",
                    "properties": {
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/submit": {
      "post": {
        "summary": "Submits an accounts activation package. This also saves all the activation package data.",
        "tags": [
          "V2 - Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "monitoring"
                ],
                "properties": {
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "monitoringSiteId"
                    ],
                    "properties": {
                      "monitoringSiteId": {
                        "type": "string"
                      },
                      "noInverterConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      },
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  },
                  "electricianSignoffDate": {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                      "palmetto": {
                        "type": "string"
                      }
                    }
                  },
                  "utility": {
                    "type": "object",
                    "required": [],
                    "properties": {
                      "tariffId": {
                        "type": [
                          "number",
                          "null"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "warnings": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": [
                    "warnings"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/flags": {
      "get": {
        "summary": "Returns open review flags for the account's activation package.",
        "tags": [
          "V2 - Activation Package"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "flags": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "reason": {
                            "type": "string"
                          },
                          "note": {
                            "type": "string"
                          },
                          "resolved": {
                            "type": "boolean"
                          },
                          "category": {
                            "type": "string",
                            "nullable": true
                          },
                          "flagType": {
                            "type": "string",
                            "nullable": true
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "purposeType": {
                            "type": "string",
                            "nullable": true,
                            "enum": [
                              "rejection",
                              "stipulation",
                              "additionalReview",
                              "notification"
                            ]
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "displayText": {
                                  "type": "string"
                                },
                                "details": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "requirementDisplayText": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "status": {
                            "type": "string"
                          },
                          "actionHistory": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "date": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "note": {
                                  "type": "string"
                                },
                                "fileUpload": {
                                  "type": "string"
                                },
                                "changedFromReviewPackageValue": {
                                  "type": "string"
                                },
                                "flaggedDocumentId": {
                                  "type": "string"
                                },
                                "replacementDocumentId": {
                                  "type": "string"
                                },
                                "actionStatus": {
                                  "type": "string"
                                },
                                "flagSubject": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "subjectArchivedOrVoided": {
                            "type": "boolean",
                            "description": "Indicates if the subject of the flag has been archived or voided."
                          }
                        },
                        "additionalProperties": false
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/pto/submit": {
      "post": {
        "summary": "Submits proof of permission to operate for an account.",
        "tags": [
          "V2 - Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "ptoGrantedDate"
                ],
                "properties": {
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/energy-backup/save": {
      "post": {
        "summary": "Saves the progress of an accounts activation package. This does not submit the package.",
        "tags": [
          "V2 - Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "nullable": true,
                    "properties": {
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  },
                  "utility": {
                    "type": "object",
                    "properties": {
                      "tariffId": {
                        "type": "number",
                        "minimum": 0
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/activation-package/energy-backup/submit": {
      "post": {
        "summary": "Submits an accounts activation package. This also saves all the activation package data.",
        "tags": [
          "V2 - Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "monitoring"
                ],
                "properties": {
                  "monitoring": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "batteryMonitoringSiteId"
                    ],
                    "properties": {
                      "batteryMonitoringSiteId": {
                        "type": "string"
                      },
                      "noBatteryConsumptionCT": {
                        "type": "boolean",
                        "default": false
                      }
                    }
                  },
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  },
                  "utility": {
                    "type": "object",
                    "required": [],
                    "properties": {
                      "tariffId": {
                        "type": [
                          "number",
                          "null"
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/post-activation-package/save": {
      "post": {
        "summary": "Saves the progress of an accounts post activation package. This does not submit the package.",
        "tags": [
          "V2 - Post Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [],
                "properties": {
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  }
                }
              }
            }
          }
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/post-activation-package/submit": {
      "post": {
        "summary": "Submits an accounts post activation package. This also saves all the post activation package data.",
        "tags": [
          "V2 - Post Activation Package"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "ptoGrantedDate"
                ],
                "properties": {
                  "ptoGrantedDate": {
                    "type": "string",
                    "description": "Date PTO is granted. Object key is the source (ie. {epc: \"2023-11-10\"})"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/accounts/{accountId}/post-activation-package/flags": {
      "get": {
        "summary": "Returns open review flags for the account's post-activation package.",
        "tags": [
          "V2 - Post Activation Package"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "properties": {
                    "flags": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "reason": {
                            "type": "string"
                          },
                          "note": {
                            "type": "string"
                          },
                          "resolved": {
                            "type": "boolean"
                          },
                          "category": {
                            "type": "string",
                            "nullable": true
                          },
                          "flagType": {
                            "type": "string",
                            "nullable": true
                          },
                          "date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "purposeType": {
                            "type": "string",
                            "nullable": true,
                            "enum": [
                              "rejection",
                              "stipulation",
                              "additionalReview",
                              "notification"
                            ]
                          },
                          "problems": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "displayText": {
                                  "type": "string"
                                },
                                "details": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "requirementDisplayText": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "status": {
                            "type": "string"
                          },
                          "actionHistory": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "date": {
                                  "type": "string",
                                  "format": "date-time"
                                },
                                "note": {
                                  "type": "string"
                                },
                                "fileUpload": {
                                  "type": "string"
                                },
                                "changedFromReviewPackageValue": {
                                  "type": "string"
                                },
                                "flaggedDocumentId": {
                                  "type": "string"
                                },
                                "replacementDocumentId": {
                                  "type": "string"
                                },
                                "actionStatus": {
                                  "type": "string"
                                },
                                "flagSubject": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "subjectArchivedOrVoided": {
                            "type": "boolean",
                            "description": "Indicates if the subject of the flag has been archived or voided."
                          }
                        },
                        "additionalProperties": false
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/estimated-pricing/": {
      "post": {
        "summary": "DEPRECATED: Update to use the /api/v3/estimated-pricing endpoint",
        "tags": [
          "v2 - Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "lseId",
                  "state",
                  "systemSizeKw",
                  "systemFirstYearProductionKwh"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The utility id"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total system size in Kw"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total first year production in Kwh"
                  },
                  "arbitrageBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if arbitrage battery is included"
                  },
                  "backupBatteryIncluded": {
                    "type": "boolean",
                    "description": "True if a cost based backup battery is included, using raw cost"
                  },
                  "backupBatteryKwhIncluded": {
                    "type": "boolean",
                    "description": "True if $/kWh backup battery is included, using Kwh pricing"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "backupBatteryCost": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The EPC cost of the backup battery.  This is required if a backup battery adder is indicated."
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into account if available for the given account"
                  },
                  "programType": {
                    "type": "string",
                    "enum": [
                      "doePr",
                      "energyBackup",
                      "hvac",
                      "newHomes",
                      "solar"
                    ]
                  },
                  "lat": {
                    "type": "number",
                    "description": "The latitude of the installation address, necessary to correctly price NYC projects and the Energy Community bonus without an account context"
                  },
                  "lon": {
                    "type": "number",
                    "description": "The longitude of the installation address, necessary to correctly price NYC projects and the Energy Community bonus without an account context"
                  }
                },
                "if": {
                  "properties": {
                    "backupBatteryIncluded": true
                  }
                },
                "then": {
                  "required": [
                    "backupBatteryCost"
                  ]
                }
              }
            }
          },
          "required": true
        },
        "deprecated": true,
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "backupBatteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the backup battery"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/estimated-pricing/doe-pr": {
      "post": {
        "summary": "Fetch estimated pricing for doe-pr",
        "tags": [
          "v2 - Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "lseId",
                  "state",
                  "systemSizeKw",
                  "systemFirstYearProductionKwh"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The utility id"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total system size in Kw"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total first year production in Kwh"
                  },
                  "backupBatteryManufacturer": {
                    "type": "string",
                    "description": "Default should be Generac"
                  },
                  "backupBatteryModelNumber": {
                    "type": "string",
                    "description": "The model number of the battery"
                  },
                  "backupBatteryQuantity": {
                    "type": "number",
                    "minimum": 0,
                    "description": "True if $/kWh backup battery is included, using Kwh pricing"
                  },
                  "solarReadinessCost": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The cost of additional work necessary to prepare the site for installation"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The set price per watt allowed"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "backupBatteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the backup battery"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/estimated-pricing/hvac": {
      "post": {
        "summary": "Fetch estimated pricing for HVAC",
        "tags": [
          "v2 - Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "totalFinancedAmount": {
                    "type": "number",
                    "description": "The total amount to be financed"
                  },
                  "systemDesign": {
                    "if": {
                      "type": "object",
                      "required": [
                        "isPreliminary"
                      ],
                      "properties": {
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "then": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems",
                        "isPreliminary"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "size": {
                                          "type": "object",
                                          "additionalProperties": false,
                                          "properties": {
                                            "unit": {
                                              "type": "string",
                                              "nullable": true
                                            },
                                            "value": {
                                              "type": "string",
                                              "nullable": true
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "additionalProperties": false,
                                            "properties": {
                                              "unit": {
                                                "type": "string",
                                                "nullable": true
                                              },
                                              "value": {
                                                "type": "string",
                                                "nullable": true
                                              }
                                            }
                                          },
                                          "nullable": true
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning"
                                          ]
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [true]
                        }
                      }
                    },
                    "else": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "systems"
                      ],
                      "properties": {
                        "systems": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "additionalProperties": false,
                            "required": [
                              "systemCategory",
                              "conditionedArea",
                              "equipment"
                            ],
                            "properties": {
                              "systemCategory": {
                                "type": "string",
                                "enum": [
                                  "Conventional Ducted Split System",
                                  "Conventional Ducted System",
                                  "Package",
                                  "Ductless Mini Split",
                                  "Ducted Mini Split",
                                  "Heat Pump Split System",
                                  "Gas Conventional Split System",
                                  "Dual Fuel Split System",
                                  "Packaged Heat Pump",
                                  "Packaged Gas/Electric",
                                  "Packaged Dual Fuel",
                                  "Single Zone Mini Split",
                                  "Multi Zone Mini Split",
                                  "Air Conditioning/Air Handler Split System"
                                ]
                              },
                              "conditionedArea": {
                                "type": "number",
                                "minimum": 0
                              },
                              "name": {
                                "type": "string",
                                "nullable": true
                              },
                              "ahriNumber": {
                                "type": "string",
                                "nullable": true,
                                "description": "AHRI number for the system"
                              },
                              "equipment": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values heatPump,airHandler,heatStrip,furnace,evaporatorCoil,ductlessOutdoor,ductlessIndoor,airConditioner,packagedAC,packagedHeatPump,packagedGasAC,packagedDualFuel,other. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "model": {
                                          "type": "string",
                                          "minLength": 1
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "size": {
                                          "type": "object",
                                          "properties": {
                                            "unit": {
                                              "type": "string"
                                            },
                                            "value": {
                                              "type": "string"
                                            }
                                          }
                                        },
                                        "efficiencies": {
                                          "type": "array",
                                          "items": {
                                            "type": "object",
                                            "properties": {
                                              "unit": {
                                                "type": "string"
                                              },
                                              "value": {
                                                "type": "string"
                                              }
                                            }
                                          }
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "accessories": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "manufacturer",
                                        "model",
                                        "quantity",
                                        "name"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "description": "Should be one of the following values thermostat,airFilter,dehumidifier,humidifier,electronicAirCleaner,uvSystem,zoning. If anything else is provided, it will fall into an \"other\" category."
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number"
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "zoning": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "type",
                                        "quantity"
                                      ],
                                      "properties": {
                                        "type": {
                                          "type": "string",
                                          "enum": [
                                            "zoning",
                                            "zoneBoard",
                                            "zoneDamper",
                                            "bypassDamper"
                                          ]
                                        },
                                        "name": {
                                          "type": "string"
                                        },
                                        "manufacturer": {
                                          "type": "string"
                                        },
                                        "model": {
                                          "type": "string"
                                        },
                                        "quantity": {
                                          "type": "number",
                                          "minimum": 0
                                        },
                                        "productId": {
                                          "type": "string",
                                          "description": "Id from the LightReach Product Catalog"
                                        },
                                        "serialNumbers": {
                                          "type": "array",
                                          "items": {
                                            "type": "string"
                                          },
                                          "description": "List of serial numbers corresponding to the quantity of the installed equipment"
                                        },
                                        "description": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "nullable": true
                                  }
                                }
                              },
                              "sitePrep": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "discounts": {
                                "type": "object",
                                "properties": {
                                  "items": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "additionalProperties": false,
                                      "required": [
                                        "name"
                                      ],
                                      "properties": {
                                        "name": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "totalCost": {
                                    "type": "number",
                                    "minimum": 0,
                                    "nullable": true
                                  }
                                }
                              },
                              "manufacturer": {
                                "type": "string",
                                "enum": [
                                  "Trane",
                                  "American Standard",
                                  "Run-Tru",
                                  "Ameristar",
                                  "Daikin",
                                  "Goodman",
                                  "Amana",
                                  "Samsung",
                                  "Mitsubishi Electric",
                                  "Lennox",
                                  "Carrier",
                                  "Bryant",
                                  "Rheem",
                                  "Fujitsu",
                                  "Bosch",
                                  "York",
                                  "LG",
                                  "Gree"
                                ],
                                "description": "The OEM manufacturer of the main HVAC equipment being installed."
                              },
                              "efficiencies": {
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                  "seer2": {
                                    "type": "string"
                                  },
                                  "hspf2": {
                                    "type": "string",
                                    "nullable": true
                                  }
                                }
                              }
                            }
                          }
                        },
                        "isPreliminary": {
                          "enum": [false]
                        }
                      }
                    },
                    "description": "If this is specified, the total financed amount and the current system design (if accountId is sent) will be ignored in favor of this design"
                  },
                  "useCurrentSystemDesign": {
                    "type": "boolean",
                    "description": "If true, the current system design for the account (if accountID is sent) will be used. totalFinancedAmount and systemDesign will be ignored"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "An optional utility id"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "monthlyPayments",
                      "term"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "term": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The term of the agreement in years"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "hvac"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      },
                      "isEstimate": {
                        "type": "boolean",
                        "description": "True if not enough information is provided to guarantee accurate pricing"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/estimated-pricing/energy-backup": {
      "post": {
        "summary": "Fetch estimated pricing for Energy Backup",
        "tags": [
          "v2 - Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "state",
                  "lseId"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "systemDesign": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "equipment"
                    ],
                    "properties": {
                      "equipment": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "manufacturer",
                            "totalCost",
                            "models",
                            "type"
                          ],
                          "properties": {
                            "type": {
                              "type": "string"
                            },
                            "manufacturer": {
                              "type": "string"
                            },
                            "models": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "required": [
                                  "name",
                                  "quantity",
                                  "capacity"
                                ],
                                "properties": {
                                  "modelNumber": {
                                    "type": "string"
                                  },
                                  "name": {
                                    "type": "string"
                                  },
                                  "capacity": {
                                    "type": "number"
                                  },
                                  "productId": {
                                    "type": "string"
                                  },
                                  "quantity": {
                                    "type": "number"
                                  }
                                }
                              }
                            },
                            "totalCost": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    },
                    "description": "If this is specified, the total financed amount and the current system design (if accountId is sent) will be ignored in favor of this design"
                  },
                  "useCurrentSystemDesign": {
                    "type": "boolean",
                    "description": "If true, the current system design for the account (if accountID is sent) will be used. totalFinancedAmount and systemDesign will be ignored"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "Utility id"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "monthlyPayments",
                      "term"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "backupBatteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the backup battery"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including backup battery"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "term": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The term of the agreement in years"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ],
                        "default": "energyBackup"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/finance-products/{programType}": {
      "get": {
        "summary": "Fetch a list of available finance products for the specified program type",
        "tags": [
          "V2 - Finance Products"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "state",
            "required": false,
            "description": "Optional filter by state code"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "doePr",
                "energyBackup",
                "hvac",
                "newCommunity",
                "newHomes",
                "solar"
              ]
            },
            "in": "path",
            "name": "programType",
            "required": true,
            "description": "The Lightreach program type"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "type",
                      "name",
                      "terms",
                      "escalationRate",
                      "programType",
                      "markets"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [null],
                        "description": "The Lightreach program type"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ],
                        "description": "The type of financial product."
                      },
                      "name": {
                        "type": "string",
                        "description": "The name of the product."
                      },
                      "terms": {
                        "type": "array",
                        "items": {
                          "type": "number",
                          "minimum": 0
                        }
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "markets": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "state"
                          ],
                          "properties": {
                            "state": {
                              "type": "string",
                              "description": "The state code"
                            },
                            "utilityId": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The Genability utility (or lseId) of the utility. Not all program types are utility specific."
                            },
                            "utilityName": {
                              "type": "string",
                              "description": "The name of the utility. Not all program types are utility specific."
                            }
                          }
                        },
                        "description": "The list of states and utilities for which the product is available. Not all program types are utility specific.",
                        "minimum": 1
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/accounts/{accountId}/pricing": {
      "get": {
        "summary": "Fetch an account's available products",
        "tags": [
          "v3 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "backupBattery",
                "arbitrageBattery"
              ]
            },
            "in": "query",
            "name": "batteryType",
            "required": false,
            "description": "The type of battery"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "embedded",
                "kwhRate",
                "rawCost"
              ]
            },
            "in": "query",
            "name": "batteryPricingMethod",
            "required": false,
            "description": "The method used to price the battery"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0
            },
            "in": "query",
            "name": "batteryCost",
            "required": false,
            "description": "The cost of the battery (if pricing method is \"cost\")"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The solar only price per watt for the system"
                      },
                      "effectivePpwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The effective price per watt when including any battery costs"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "batteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the battery (if applicable)"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including battery (if applicable)"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "batteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the battery (if applicable)"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/accounts/{accountId}/pricing/{financeProductId}": {
      "get": {
        "summary": "Fetch an account's available products",
        "tags": [
          "v3 - Pricing"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "backupBattery",
                "arbitrageBattery"
              ]
            },
            "in": "query",
            "name": "batteryType",
            "required": false,
            "description": "The type of battery"
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "embedded",
                "kwhRate",
                "rawCost"
              ]
            },
            "in": "query",
            "name": "batteryPricingMethod",
            "required": false,
            "description": "The method used to price the battery"
          },
          {
            "schema": {
              "type": "number",
              "minimum": 0
            },
            "in": "query",
            "name": "batteryCost",
            "required": false,
            "description": "The cost of the battery (if pricing method is \"cost\")"
          },
          {
            "schema": {
              "type": "boolean",
              "default": false
            },
            "in": "query",
            "name": "electricalUpgradeIncluded",
            "required": false,
            "description": "True if electrical upgrade adder is included"
          },
          {
            "schema": {
              "type": "boolean",
              "default": true
            },
            "in": "query",
            "name": "includeDomesticContentPricing",
            "required": false,
            "description": "Takes Domestic Content rates into account if available for the given account"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "financeProductId",
            "required": true,
            "description": "The finance product identifier for which to load pricing"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The solar only price per watt for the system"
                      },
                      "effectivePpwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The effective price per watt when including any battery costs"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "batteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the battery (if applicable)"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including battery (if applicable)"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "batteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the battery (if applicable)"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/accounts/{accountId}/quotes": {
      "get": {
        "summary": "Fetch an account's quotes",
        "tags": [
          "v3 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "id",
                      "systemPricingDetails",
                      "status",
                      "systemFirstYearProductionKwh",
                      "productId",
                      "kwhPrice",
                      "totalSystemCost",
                      "pricePerWatt",
                      "totalAmountPaid"
                    ],
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "accountId": {
                        "type": "string"
                      },
                      "productId": {
                        "type": "string"
                      },
                      "externalReference": {
                        "type": "string",
                        "description": "A friendly identifier set by your system to identify the Quote"
                      },
                      "type": {
                        "type": "string",
                        "enum": [
                          "lease",
                          "ppa"
                        ]
                      },
                      "systemFirstYearProductionKwh": {
                        "type": "number",
                        "minimum": 0,
                        "description": "Estimated first year production in kWh"
                      },
                      "systemSizeKw": {
                        "type": "number",
                        "minimum": 0,
                        "description": "system size in kilowatts"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The factor at which the rate escalates on an annual basis"
                      },
                      "kwhPrice": {
                        "type": "number",
                        "minimum": 0,
                        "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                      },
                      "totalSystemCost": {
                        "type": "number",
                        "minimum": 0
                      },
                      "pricePerWatt": {
                        "type": "number",
                        "minimum": 0
                      },
                      "productName": {
                        "type": "string",
                        "description": "The name of the Finance Product selected."
                      },
                      "preConAdderCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of pre-construction adders included in the totalSystemCost."
                      },
                      "systemPricingDetails": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "estimatedAnnualProduction",
                            "guaranteedAnnualProduction"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the given year"
                            },
                            "estimatedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The estimated annual production for the given year"
                            },
                            "guaranteedAnnualProduction": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The production guarantee for the given year"
                            },
                            "yearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year"
                            },
                            "kwhRate": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The kilowatt hour rate (kWh) paid for the given year"
                            },
                            "batteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The battery monthly payment for the given year"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment including battery for the given year"
                            },
                            "totalYearlyCost": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total amount paid for the given year including battery"
                            }
                          }
                        }
                      },
                      "totalAmountPaid": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total amount paid over the lifetime of the lease agreement"
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "active",
                          "contracted",
                          "voided"
                        ]
                      },
                      "contractId": {
                        "type": "string"
                      },
                      "adders": {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "enum": [
                            "arbitrageBattery",
                            "arbitrageBatteryCost",
                            "electricalUpgrade",
                            "backupBattery",
                            "backupBatteryKwh",
                            "backupBatteryPriceCap",
                            "batteryMinimumCapacity",
                            "solarReadiness",
                            "arbitrageBatteryPriceCap"
                          ]
                        },
                        "description": "The adders included in the quote"
                      },
                      "additionalCostAdders": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "backupBattery",
                                "arbitrageBattery",
                                "solarReadiness"
                              ]
                            },
                            "cost": {
                              "type": "number",
                              "minimum": 0
                            }
                          }
                        }
                      },
                      "batteryDetails": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery"
                            ]
                          },
                          "pricingMethod": {
                            "type": "string",
                            "enum": [
                              "embedded",
                              "kwhRate",
                              "rawCost"
                            ]
                          },
                          "manufacturer": {
                            "type": "string"
                          },
                          "models": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "modelNumber": {
                                  "type": "string",
                                  "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                                },
                                "quantity": {
                                  "type": "number",
                                  "minimum": 0,
                                  "description": "The maximum charge of the battery"
                                }
                              }
                            }
                          }
                        }
                      },
                      "totalSystemCostWithoutDomesticContent": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total system cost without domestic content pricing"
                      },
                      "pricePerWattWithoutDomesticContent": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The price per watt without domestic content pricing"
                      },
                      "domesticContentEligible": {
                        "type": "boolean",
                        "description": "Indicates if the quote is eligible for domestic content pricing"
                      },
                      "effectivePPWRate": {
                        "type": "number",
                        "description": "The effective price per watt rate including battery cost (if applicable)"
                      },
                      "effectivePPWRateWithoutDomesticContent": {
                        "type": "number",
                        "description": "The effective price per watt rate without domestic content"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new quote",
        "tags": [
          "v3 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "format": "ObjectId",
                    "description": "The ID of the product returned from a pricing request that you wish to generate a quote for"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "A friendly Id set by your system to identify the Quote"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "battery": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "type",
                      "pricingMethod",
                      "manufacturer",
                      "models"
                    ],
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "backupBattery",
                          "arbitrageBattery"
                        ]
                      },
                      "pricingMethod": {
                        "type": "string",
                        "enum": [
                          "embedded",
                          "kwhRate",
                          "rawCost"
                        ]
                      },
                      "cost": {
                        "type": "number",
                        "description": "The cost of the battery",
                        "minimum": 0
                      },
                      "manufacturer": {
                        "type": "string",
                        "description": "This should be on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                      },
                      "models": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "modelNumber",
                            "quantity"
                          ],
                          "properties": {
                            "modelNumber": {
                              "type": "string",
                              "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The maximum charge of the battery"
                            }
                          }
                        }
                      }
                    },
                    "if": {
                      "properties": {
                        "pricingMethod": {
                          "enum": [
                            "cost"
                          ]
                        }
                      }
                    },
                    "then": {
                      "required": [
                        "cost"
                      ]
                    }
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into consideration if available for the given account"
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "batteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "batteryDetails": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "backupBattery",
                            "arbitrageBattery"
                          ]
                        },
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "models": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "modelNumber": {
                                "type": "string",
                                "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The maximum charge of the battery"
                              }
                            }
                          }
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/accounts/{accountId}/quotes/{quoteId}": {
      "get": {
        "summary": "Fetch an account's quote by quote id",
        "tags": [
          "v3 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "batteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "batteryDetails": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "backupBattery",
                            "arbitrageBattery"
                          ]
                        },
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "models": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "modelNumber": {
                                "type": "string",
                                "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The maximum charge of the battery"
                              }
                            }
                          }
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Void an existing quote",
        "tags": [
          "v3 - Quotes"
        ],
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          },
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "quoteId",
            "required": true,
            "description": "The quote identifier"
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/api/v3/accounts/{accountId}/quotes/custom": {
      "post": {
        "summary": "Create a new quote, based upon custom pricing.  Only available to certain organizations. Contact your account representative if you feel you need this.",
        "tags": [
          "v3 - Quotes"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "kwhRate",
                  "firstYearMonthlyPayment",
                  "pricePerWatt",
                  "escalationRate"
                ],
                "properties": {
                  "kwhRate": {
                    "type": "number",
                    "minimum": 0
                  },
                  "firstYearMonthlyPayment": {
                    "type": "number",
                    "minimum": 0
                  },
                  "firstYearBatteryPayment": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The first year monthly battery payment, required if cost based battery pricing is specified, and a full 25 year monthlyPaymentSchedule is not provided"
                  },
                  "pricePerWatt": {
                    "type": "number",
                    "minimum": 0
                  },
                  "escalationRate": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The decimal representation of the escalation percentage (e.g. 0.0199 for a 1.99% escalator)"
                  },
                  "externalReference": {
                    "type": "string",
                    "description": "An friendly Id set by your system to identify the Quote"
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "monthlyPaymentSchedule": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "additionalProperties": false,
                      "required": [
                        "year",
                        "kwhRate",
                        "monthlyPayment",
                        "estimatedAnnualProduction",
                        "guaranteedAnnualProduction"
                      ],
                      "properties": {
                        "year": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The year of the agreement"
                        },
                        "kwhRate": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The kilowatt hour rate (kWh) paid for the given year"
                        },
                        "monthlyPayment": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monthly payment for the given year"
                        },
                        "estimatedAnnualProduction": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The estimated annual production for the given year"
                        },
                        "guaranteedAnnualProduction": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The production guarantee for the given year"
                        },
                        "batteryPayment": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The monthly payment for the battery"
                        },
                        "totalMonthlyPayment": {
                          "type": "number",
                          "minimum": 0,
                          "description": "The total monthly payment for the year, including battery payment (if applicable)"
                        }
                      }
                    }
                  },
                  "battery": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "type"
                    ],
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "backupBattery",
                          "arbitrageBattery"
                        ]
                      },
                      "pricingMethod": {
                        "type": "string",
                        "enum": [
                          "embedded",
                          "kwhRate",
                          "rawCost"
                        ]
                      },
                      "cost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the battery"
                      },
                      "manufacturer": {
                        "type": "string",
                        "description": "This should be on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                      },
                      "models": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "modelNumber",
                            "quantity"
                          ],
                          "properties": {
                            "modelNumber": {
                              "type": "string",
                              "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                            },
                            "quantity": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The maximum charge of the battery"
                            }
                          }
                        }
                      }
                    },
                    "if": {
                      "properties": {
                        "pricingMethod": {
                          "enum": [
                            "cost"
                          ]
                        }
                      }
                    },
                    "then": {
                      "required": [
                        "cost"
                      ]
                    }
                  },
                  "leaseDuration": {
                    "type": "number",
                    "minimum": 0
                  }
                }
              }
            }
          },
          "required": true
        },
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "path",
            "name": "accountId",
            "required": true,
            "description": "The account identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": false,
                  "required": [
                    "id",
                    "systemPricingDetails",
                    "status",
                    "systemFirstYearProductionKwh",
                    "productId",
                    "kwhPrice",
                    "totalSystemCost",
                    "pricePerWatt",
                    "totalAmountPaid"
                  ],
                  "properties": {
                    "id": {
                      "type": "string"
                    },
                    "accountId": {
                      "type": "string"
                    },
                    "productId": {
                      "type": "string"
                    },
                    "externalReference": {
                      "type": "string",
                      "description": "A friendly identifier set by your system to identify the Quote"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "lease",
                        "ppa"
                      ]
                    },
                    "systemFirstYearProductionKwh": {
                      "type": "number",
                      "minimum": 0,
                      "description": "Estimated first year production in kWh"
                    },
                    "systemSizeKw": {
                      "type": "number",
                      "minimum": 0,
                      "description": "system size in kilowatts"
                    },
                    "escalationRate": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The factor at which the rate escalates on an annual basis"
                    },
                    "kwhPrice": {
                      "type": "number",
                      "minimum": 0,
                      "description": "For Power Purchase Agreements, this is the $/kWh rate charged for the first year of the agreement."
                    },
                    "totalSystemCost": {
                      "type": "number",
                      "minimum": 0
                    },
                    "pricePerWatt": {
                      "type": "number",
                      "minimum": 0
                    },
                    "productName": {
                      "type": "string",
                      "description": "The name of the Finance Product selected."
                    },
                    "preConAdderCost": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The cost of pre-construction adders included in the totalSystemCost."
                    },
                    "systemPricingDetails": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "required": [
                          "year",
                          "monthlyPayment",
                          "estimatedAnnualProduction",
                          "guaranteedAnnualProduction"
                        ],
                        "properties": {
                          "year": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The year of the agreement"
                          },
                          "monthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The monthly payment for the given year"
                          },
                          "estimatedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The estimated annual production for the given year"
                          },
                          "guaranteedAnnualProduction": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The production guarantee for the given year"
                          },
                          "yearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year"
                          },
                          "kwhRate": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The kilowatt hour rate (kWh) paid for the given year"
                          },
                          "batteryPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The battery monthly payment for the given year"
                          },
                          "totalMonthlyPayment": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total monthly payment including battery for the given year"
                          },
                          "totalYearlyCost": {
                            "type": "number",
                            "minimum": 0,
                            "description": "The total amount paid for the given year including battery"
                          }
                        }
                      }
                    },
                    "totalAmountPaid": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total amount paid over the lifetime of the lease agreement"
                    },
                    "status": {
                      "type": "string",
                      "enum": [
                        "active",
                        "contracted",
                        "voided"
                      ]
                    },
                    "contractId": {
                      "type": "string"
                    },
                    "adders": {
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "arbitrageBattery",
                          "arbitrageBatteryCost",
                          "electricalUpgrade",
                          "backupBattery",
                          "backupBatteryKwh",
                          "backupBatteryPriceCap",
                          "batteryMinimumCapacity",
                          "solarReadiness",
                          "arbitrageBatteryPriceCap"
                        ]
                      },
                      "description": "The adders included in the quote"
                    },
                    "additionalCostAdders": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": [
                              "backupBattery",
                              "arbitrageBattery",
                              "solarReadiness"
                            ]
                          },
                          "cost": {
                            "type": "number",
                            "minimum": 0
                          }
                        }
                      }
                    },
                    "batteryDetails": {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "backupBattery",
                            "arbitrageBattery"
                          ]
                        },
                        "pricingMethod": {
                          "type": "string",
                          "enum": [
                            "embedded",
                            "kwhRate",
                            "rawCost"
                          ]
                        },
                        "manufacturer": {
                          "type": "string"
                        },
                        "models": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "modelNumber": {
                                "type": "string",
                                "description": "The model number of the battery. This should on our Approved Vendor List.  Review the Approved Vendors API for the most current list."
                              },
                              "quantity": {
                                "type": "number",
                                "minimum": 0,
                                "description": "The maximum charge of the battery"
                              }
                            }
                          }
                        }
                      }
                    },
                    "totalSystemCostWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The total system cost without domestic content pricing"
                    },
                    "pricePerWattWithoutDomesticContent": {
                      "type": "number",
                      "minimum": 0,
                      "description": "The price per watt without domestic content pricing"
                    },
                    "domesticContentEligible": {
                      "type": "boolean",
                      "description": "Indicates if the quote is eligible for domestic content pricing"
                    },
                    "effectivePPWRate": {
                      "type": "number",
                      "description": "The effective price per watt rate including battery cost (if applicable)"
                    },
                    "effectivePPWRateWithoutDomesticContent": {
                      "type": "number",
                      "description": "The effective price per watt rate without domestic content"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/estimated-pricing/": {
      "post": {
        "summary": "Fetch estimated pricing for solar accounts",
        "tags": [
          "v3 - Estimated Pricing"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "additionalProperties": false,
                "required": [
                  "lseId",
                  "state",
                  "systemSizeKw",
                  "systemFirstYearProductionKwh"
                ],
                "properties": {
                  "accountId": {
                    "type": "string",
                    "description": "An optional account id to base the pricing for"
                  },
                  "financeProductId": {
                    "type": "string",
                    "description": "An optional finance product id used to filter the results to a specific finance product"
                  },
                  "lseId": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The utility id"
                  },
                  "state": {
                    "type": "string",
                    "description": "The state where the property is located"
                  },
                  "systemSizeKw": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total system size in Kw"
                  },
                  "systemFirstYearProductionKwh": {
                    "type": "number",
                    "minimum": 0,
                    "description": "The total first year production in Kwh"
                  },
                  "battery": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "type",
                      "pricingMethod"
                    ],
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "backupBattery",
                          "arbitrageBattery"
                        ]
                      },
                      "pricingMethod": {
                        "type": "string",
                        "enum": [
                          "embedded",
                          "kwhRate",
                          "rawCost"
                        ]
                      },
                      "cost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the battery"
                      }
                    },
                    "if": {
                      "properties": {
                        "pricingMethod": {
                          "enum": [
                            "cost"
                          ]
                        }
                      }
                    },
                    "then": {
                      "required": [
                        "cost"
                      ]
                    }
                  },
                  "electricalUpgradeIncluded": {
                    "type": "boolean",
                    "description": "True if electrical upgrade is included"
                  },
                  "includeDomesticContentPricing": {
                    "type": "boolean",
                    "default": true,
                    "description": "Takes Domestic Content rates into account if available for the given account"
                  },
                  "programType": {
                    "type": "string",
                    "enum": [
                      "doePr",
                      "energyBackup",
                      "hvac",
                      "newHomes",
                      "solar"
                    ]
                  },
                  "lat": {
                    "type": "number",
                    "description": "The latitude of the installation address, necessary to correctly price NYC projects and the Energy Community bonus without an account context"
                  },
                  "lon": {
                    "type": "number",
                    "description": "The longitude of the installation address, necessary to correctly price NYC projects and the Energy Community bonus without an account context"
                  }
                }
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": false,
                    "required": [
                      "productId",
                      "type",
                      "name",
                      "escalationRate",
                      "kwhRate",
                      "ppwRate",
                      "monthlyPayments",
                      "solarOnlyEPCPayment",
                      "totalEPCPayment"
                    ],
                    "properties": {
                      "productId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "description": {
                        "type": "string"
                      },
                      "lseId": {
                        "type": "number",
                        "minimum": 0
                      },
                      "utilityName": {
                        "type": "string"
                      },
                      "state": {
                        "type": "string"
                      },
                      "escalationRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "kwhRate": {
                        "type": "number",
                        "minimum": 0
                      },
                      "ppwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The solar only price per watt for the system"
                      },
                      "effectivePpwRate": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The effective price per watt when including any battery costs"
                      },
                      "monthlyPayments": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "additionalProperties": false,
                          "required": [
                            "year",
                            "monthlyPayment",
                            "totalMonthlyPayment"
                          ],
                          "properties": {
                            "year": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The year of the agreement"
                            },
                            "monthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The solar only monthly payment for the given year"
                            },
                            "batteryPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The monthly payment for the battery (if applicable)"
                            },
                            "totalMonthlyPayment": {
                              "type": "number",
                              "minimum": 0,
                              "description": "The total monthly payment for the year, including battery (if applicable)"
                            }
                          }
                        },
                        "description": "The annual monthly payment"
                      },
                      "solarOnlyEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The EPC payment for the solar only system"
                      },
                      "totalEPCPayment": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The total EPC payment for the system plus battery"
                      },
                      "batteryCost": {
                        "type": "number",
                        "minimum": 0,
                        "description": "The cost of the battery (if applicable)"
                      },
                      "programType": {
                        "type": "string",
                        "enum": [
                          "doePr",
                          "energyBackup",
                          "hvac",
                          "newHomes",
                          "solar"
                        ]
                      },
                      "domesticContentEnabled": {
                        "type": "boolean",
                        "description": "Whether the pricing includes domestic content rates"
                      },
                      "resultsLimitedByMonthlyPaymentCap": {
                        "type": "boolean",
                        "description": "Whether the results were limited by monthly payment cap"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Standard error response",
            "content": {
              "application/json": {
                "schema": {
                  "description": "Standard error response",
                  "type": "object",
                  "properties": {
                    "statusCode": {
                      "type": "number"
                    },
                    "error": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requestId": {
                      "type": "string"
                    },
                    "errorCode": {
                      "type": "string"
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "additionalContext": {
                      "type": "object",
                      "additionalProperties": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "Palmetto": []
    }
  ]
}